(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,a,t){e.exports=t(221)},12:function(e,a,t){e.exports=t.p+"static/media/error.2fc8b26b.svg"},124:function(e,a,t){},125:function(e,a,t){},126:function(e,a,t){},133:function(e,a,t){},199:function(e,a,t){},20:function(e,a,t){e.exports=t.p+"static/media/complete.c8683c24.svg"},200:function(e,a,t){},201:function(e,a,t){},202:function(e,a,t){},203:function(e,a,t){},204:function(e,a,t){},205:function(e,a,t){},206:function(e,a,t){},207:function(e,a,t){},208:function(e,a,t){},209:function(e,a,t){},210:function(e,a,t){},211:function(e,a,t){},212:function(e,a,t){},213:function(e,a,t){},214:function(e,a,t){},215:function(e,a,t){},218:function(e,a,t){},219:function(e,a,t){},22:function(e,a,t){e.exports=t.p+"static/media/no-data.c2258281.svg"},220:function(e,a,t){},221:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),c=t(9),s=t.n(c),r=t(2),i=t(17),l=t(6),m=t.n(l),u="http://gestion-inventarios.ddns.net:52000/",d=Object(n.createContext)({});var p=function(e){var a=Object(n.useState)(),t=Object(r.a)(a,2),c=t[0],s=t[1],i=u+"api/isAuth";return Object(n.useEffect)(function(){m.a.get(i).then(function(e){s(e.data)}).catch(function(e){console.log(e)})},[]),o.a.createElement(d.Provider,{value:c},e.children)},E=(t(124),t(92)),h=t.n(E),b=(t(125),document.getElementById("modal")),f=function(e){return e.isOpen?s.a.createPortal(o.a.createElement("div",{className:"ModalComponent"},o.a.createElement("div",{className:"ModalComponent__container"},o.a.createElement("button",{onClick:function(){e.closeModal()},className:"ModalComponent__close-button"},"X"),e.children)),b):null},g=t(12),v=t.n(g),N=t(7),_=function(e,a){if("LOGIN_INFORMATION_INCOMPLETE"===a.type)return Object(N.a)({},e,{isModalOpen:!0,modalContent:"Error: No ha digitado todos los campos"});if("ERROR_AUTH"===a.type)return Object(N.a)({},e,{isModalOpen:!0,modalContent:"Error: El Usuario y/o la contrase\xf1a son incorrectos"});if("CLOSE_MODAL"===a.type)return Object(N.a)({},e,{isModalOpen:!1});throw new Error("No matching action Type")},O={isModalOpen:!1,modalContent:""},C=function(){var e=Object(n.useState)(""),a=Object(r.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)(""),i=Object(r.a)(s,2),l=i[0],d=i[1],p=Object(n.useReducer)(_,O),E=Object(r.a)(p,2),b=E[0],g=E[1],N=u+"api/login";return o.a.createElement("div",{className:"general-login-container"},o.a.createElement("form",{className:"login-form"},o.a.createElement("h2",null,"Login"),o.a.createElement("div",{className:"border-div"}),o.a.createElement("input",{type:"text",name:"username",placeholder:"Usuario",id:"username",autoComplete:"off",onChange:function(e){return c(e.target.value)}}),o.a.createElement("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",autoComplete:"off",id:"password",onChange:function(e){return d(e.target.value)}}),o.a.createElement("button",{onClick:function(e){e.preventDefault(),t&&l?m.a.post(N,{username:t,password:l}).then(function(e){if("ERROR"===e.data){g({type:"ERROR_AUTH"});var a=document.getElementById("username"),t=document.getElementById("password");a.value="",t.value=""}else window.location.href="/"}).catch(function(e){console.log(e)}):g({type:"LOGIN_INFORMATION_INCOMPLETE"})},className:"btn"},"Iniciar sesi\xf3n")),b.isModalOpen&&o.a.createElement(f,{isOpen:b.isModalOpen,closeModal:function(){g({type:"CLOSE_MODAL"})}},o.a.createElement("h1",{className:"modalLoginh1"},b.modalContent),o.a.createElement("img",{className:"modalLoginImg",src:v.a,alt:"modalImg"})),o.a.createElement("div",{className:"img-login-container"},o.a.createElement("img",{src:h.a,alt:"login"})))},S=(t(126),t(11));var j=function(e){return o.a.createElement("div",{className:"navbar-container"},o.a.createElement(y,null),o.a.createElement(I,{classIcon:"gg-chart",title:"Dashboard",url:"/"}),o.a.createElement(I,{classIcon:"gg-pen",title:"Taller Dise\xf1o",url:"/dise\xf1o"}),o.a.createElement(I,{classIcon:"gg-box",title:"Bodega Insumo",url:"/warehouse"}),o.a.createElement(I,{classIcon:"gg-shape-half-circle",title:"Confecci\xf3n",url:"/dressmaking"}),o.a.createElement(I,{classIcon:"gg-browse",title:"Bodega Producto",url:"/warehouseproducts"}),o.a.createElement(I,{classIcon:"gg-home-alt",title:"Tiendas",url:"/shops"}),o.a.createElement(I,{classIcon:"gg-add-r",title:"Registrar",url:"/register"}),o.a.createElement(I,{classIcon:"gg-log-out",title:"Cerrar Sesion",url:"/logout"}),o.a.createElement(k,{user:e.user}))},y=function(){return o.a.createElement("div",{className:"navbar-brand"},o.a.createElement("div",{className:"navbar-brand__icon"},o.a.createElement("i",{className:"gg-atlasian"})),o.a.createElement("h5",{className:"navbar-brand__h5"},"Atlasian"))},I=function(e){var a=e.classIcon,t=e.title,n=e.url;return o.a.createElement(i.b,{exact:!0,to:n,className:"click_navbar-option",activeClassName:"clicked_navbar-option"},o.a.createElement("div",{className:"navbar-option"},o.a.createElement("div",{className:"navbar-option__icon"},o.a.createElement("i",{className:a})),o.a.createElement("h5",{className:"navbar-option__h5"},t)))},k=function(e){return o.a.createElement("div",{className:"user-section"},o.a.createElement("div",{className:"user-section__icon"},o.a.createElement("i",{className:"gg-user"})),o.a.createElement("h4",null,e.user))},M=Object(S.g)(function(e){var a=e.switchActive,t=Object(n.useState)(!1),c=Object(r.a)(t,2),s=c[0],i=c[1],l=Object(n.useState)(""),d=Object(r.a)(l,2),p=d[0],E=d[1],h=u+"api/isAuth";return Object(n.useEffect)(function(){m.a.get(h).then(function(e){var a=e.data;E(a.user),i(!0)}).catch(function(e){console.log(e)})},[s]),s?(a(),o.a.createElement("div",{className:"navbar-user-container"},o.a.createElement(j,{user:p}))):o.a.createElement(o.a.Fragment,null)}),R=t(228),w=t(230),A=t(229),q=t(66),T=t(31),D=t.n(T),F=t(99),P=t(94),U=t.n(P),L=t(67),x=t.n(L),B=t(68),W=t.n(B),G=(t(131),t(132),t(95)),X=t(96),z=t.n(X),H=(t(133),[{id:1,name:"Tienda Sur",latitude:11.001643604812687,longitude:-74.81665954890138},{id:0,name:"Tienda Norte",latitude:11.009774250972912,longitude:-74.81215193217375}]),Q=Object(S.g)(function(){var e=Object(n.useState)(!1),a=Object(r.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)({id:"",name:""}),i=Object(r.a)(s,2),l=i[0],d=i[1],p=Object(n.useState)(null),E=Object(r.a)(p,2),h=E[0],b=E[1],g=Object(n.useState)(null),v=Object(r.a)(g,2),N=v[0],_=v[1],O=Object(n.useState)([]),C=Object(r.a)(O,2),S=C[0],j=C[1],y=Object(n.useState)(!1),I=Object(r.a)(y,2),k=I[0],M=I[1],T=Object(n.useState)(""),P=Object(r.a)(T,2),L=P[0],B=P[1],X=Object(n.useState)([["Shop","Ventas"]]),Q=Object(r.a)(X,2),V=Q[0],Y=Q[1],J=u+"api/dashboard_pie",Z=u+"api/dashboard_date_filter";Object(n.useEffect)(function(){m.a.post(J,{mes:"05"}).then(function(e){Y(e.data)})},[]);return o.a.createElement("div",{className:"general-container-home"},o.a.createElement("div",{className:"navbar-home"},o.a.createElement("h2",{className:"navbar-home__h2"},"Dashboard")),o.a.createElement("div",{className:"map-section"},o.a.createElement("div",{className:"map-home-container"},o.a.createElement("h3",null,"Mapa"),o.a.createElement("p",null,"En este apartado puedes puedes ver las tiendas en el mapa. Si das click en una de las tiendas, en la esquina inferior derecha aparecer\xe1 informaci\xf3n de las ventas de esta."),o.a.createElement(R.a,{center:[11.004462,-74.814401],zoom:15,scrollWheelZoom:!0},o.a.createElement(w.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),H.map(function(e){return o.a.createElement(A.a,{key:e.id,position:[e.latitude,e.longitude],icon:D.a.icon({iconUrl:U.a,iconSize:[30,30]}),eventHandlers:{click:function(){d(e),c(!0)}}})}))),o.a.createElement("div",{className:"stats-home-container"},o.a.createElement("h3",null,"Estad\xedsticas"),o.a.createElement("p",null,"En este apartado puedes ver el porcentaje de ventas de cada tienda. Adem\xe1s, puedes filtrar por mes."),o.a.createElement("div",{className:"month-filter-pie-chart-container"},o.a.createElement("div",{className:"month-select-container"},o.a.createElement(F.a,{options:G,placeholder:"Filtrar por mes",className:"month-select-container__select",onChange:function(e){var a=e.value;m.a.post(J,{mes:a}).then(function(e){Y(e.data)})}})),o.a.createElement("div",{className:"pie-chart-container"},o.a.createElement(q.a,{width:"100%",height:"100%",chartType:"PieChart",loader:o.a.createElement("div",null,"Loading Chart"),data:V,options:{title:"Total ventas",is3D:!0},rootProps:{"data-testid":"1"}}))),o.a.createElement("div",{className:"specific-stats-for-shops-container"},!t&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"Estadisticas especificas de la tienda"),o.a.createElement("p",null,"Si haces click en uno de los iconos de tiendas que se encuentran en el mapa, se desplegar\xe1 aqu\xed un diagrama de barras sobre las ventas de la tienda en espec\xedfico."),o.a.createElement("div",{className:"pie-chart-img-container"},o.a.createElement("img",{src:x.a,alt:"loading"}))),t&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"Ventas de la ",l.name),o.a.createElement("p",null,"En este apartado se muestra las ventas de la"," ",l.name,". Para ver el gr\xe1fico de barras, utiliza el filtro."),o.a.createElement("div",{className:"filter-date-container"},o.a.createElement(W.a,{selected:h,onChange:function(e){b(e)},selectsStart:!0,startDate:h,endDate:N,dateFormat:"yyyy-MM-dd",placeholderText:"Selecciona la fecha inicial",className:"start-date-picker",id:"start-date-picker"}),o.a.createElement(W.a,{selected:N,onChange:function(e){return _(e)},selectsEnd:!0,startDate:h,endDate:N,minDate:h,dateFormat:"yyyy-MM-dd",placeholderText:"Selecciona la fecha final",className:"end-date-picker",id:"end-date-picker"}),o.a.createElement("button",{className:"btn",id:"filter-button",onClick:function(){var e=document.getElementById("start-date-picker"),a=document.getElementById("end-date-picker");""!==e.value||""!==a.value?m.a.post(Z,{fecha_inicial:e.value,fecha_final:a.value,idTienda:l.id}).then(function(e){var a=e.data;console.log(a),a.length>1?j(e.data):(j([]),B("No hay ventas en ese rango de fecha"),M(!0))}):(B("Por favor, digite las fechas bien"),M(!0))}},"Filtrar por fecha")),0===S.length&&o.a.createElement("div",{className:"bar-chart-img-container"},o.a.createElement("img",{src:x.a,alt:"loading"})),0!==S.length&&o.a.createElement("div",{className:"bar-chart-container"},o.a.createElement(q.a,{width:"500px",height:"300px",chartType:"Bar",loader:o.a.createElement("div",null,"Loading Chart"),data:S,options:{chart:{title:"Gr\xe1fico de barras de las ventas de la tienda "}},rootProps:{"data-testid":"2"}})))))),o.a.createElement(f,{isOpen:k,closeModal:function(){M(!1),B("")}},o.a.createElement("h1",{className:"modalHome"},L),o.a.createElement("img",{className:"modalHomeImg",src:z.a,alt:"modalImg"})))}),V=(t(199),function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container_table"},o.a.createElement("div",{className:"table_title"},"Informaci\xf3n"),o.a.createElement("div",{className:"table_header"},"Insumo insuficiente"),o.a.createElement("div",{className:"table_header"},"Imagen"),e.modalContent.map(function(e){return o.a.createElement("div",{className:"items_container",key:e.codigo},o.a.createElement("div",{className:"sub_items_container"},o.a.createElement("div",{className:"sub_sub_items_container"},o.a.createElement("div",{className:"table_item"},"Item: ",e.codigo),o.a.createElement("div",{className:"table_item"},"Descripci\xf3n: ",e.descripcion),o.a.createElement("div",{className:"table_item"},"Existencias: ",e.metros),o.a.createElement("div",{className:"table_item"},"Remanente: ",e.remainingAmount)),o.a.createElement("div",{className:"table_item"},o.a.createElement("img",{className:"table_img",src:e.nombre_imagen}))))})))}),Y=function(e){var a=e.modalContent,t=(e.checkNumber,e.closeModal);return Object(n.useEffect)(function(){setTimeout(function(){t()},4e4)}),o.a.createElement(V,{modalContent:a})},J=function(e,a){if("INSUFFICIENT_SUPPLIES"===a.type){var t=a.payload;return Object(N.a)({},e,{modalContent:t,isInsufficientModalOpen:!0,checkNumber:0,imgCheckNumber:2})}return"SUCCESSFUL_REQUEST"===a.type?Object(N.a)({},e,{modalContent:["Petici\xf3n realizada con exito"],isModalOpen:!0,isInsufficientModalOpen:!1,checkNumber:1,imgCheckNumber:1}):"WRONG_INPUT"===a.type?Object(N.a)({},e,{modalContent:["Por favor: Ingrese correctamente los campos."],isModalOpen:!0,isInsufficientModalOpen:!1,checkNumber:2,imgCheckNumber:2}):"WRONG_INPUT_PROCESS"===a.type?Object(N.a)({},e,{modalContent:["Por favor: Ingrese correctamente los campos."],isModalOpen:!0,isInsufficientModalOpen:!1,checkNumber:2,imgCheckNumber:2}):"DIFF_NEGATIVE"===a.type?Object(N.a)({},e,{modalContent:["Error: Digite una cantidad menor o igual a la cantidad en proceso."],isModalOpen:!0,isInsufficientModalOpen:!1,checkNumber:2,imgCheckNumber:2}):"REFERENCE_DOES_NOT_EXIST"===a.type?Object(N.a)({},e,{modalContent:["Error: Esta referencia no existe."],isModalOpen:!0,isInsufficientModalOpen:!1,checkNumber:2,imgCheckNumber:2}):"CLOSE_MODAL"===a.type?Object(N.a)({},e,{isModalOpen:!1,isInsufficientModalOpen:!1,imgCheckNumber:0}):Object(N.a)({},e,{isModalOpen:!1,imgCheckNumber:0})},Z=(t(200),t(201),t(20)),K=t.n(Z),$=t(22),ee=t.n($),ae=(t(202),document.getElementById("ModalAreYouSureDressmaking")),te=function(e){var a=function(){e.closeModal()};return e.isOpen?s.a.createPortal(o.a.createElement("div",{className:"ModalAYSDressmakingComponent"},o.a.createElement("div",{className:"ModalAYSDressmakingComponent__container"},o.a.createElement("button",{onClick:a,className:"ModalAYSDressmakingComponent__close-button"},"X"),o.a.createElement("h3",{className:"ModalAYSDressmakingComponent__h3"},"\xbfEst\xe1s seguro?"),o.a.createElement("p",{className:"ModalAYSDressmakingComponent__p"},"Ten cuidado. Solo presiona el bot\xf3n de aceptar si est\xe1s completamente seguro porque no hay vuelta atr\xe1s."),o.a.createElement("div",{className:"ARYDressmakingButtonsContainer"},o.a.createElement("button",{className:"btn ARYDressmakingButtonsContainer__accept",onClick:function(){e.subAmountFunction(),e.closeModal()}},"Aceptar"),o.a.createElement("button",{className:"btn ARYDressmakingButtonsContainer__cancel",onClick:a},"Cancelar")))),ae):null},ne=(t(203),function(e){var a=e.options,t=e.id,c=e.label,s=e.prompt,i=e.value,l=e.onChange,m=Object(n.useState)(!1),u=Object(r.a)(m,2),d=u[0],p=u[1],E=Object(n.useState)(!1),h=Object(r.a)(E,2),b=h[0],f=(h[1],Object(n.useState)("")),g=Object(r.a)(f,2),v=g[0],N=g[1],_=Object(n.useRef)(null);Object(n.useEffect)(function(){return document.addEventListener("click",O),function(){return document.removeEventListener("click",O)}},[]);var O=function(e){p(e&&e.target===_.current)};return o.a.createElement("div",{className:"dropdown"},o.a.createElement("div",{className:"control",onClick:function(){p(function(e){return!e}),b&&p(!1)}},o.a.createElement("div",{className:"selected-value"},o.a.createElement("input",{type:"number",id:"valueInput",ref:_,placeholder:i?i[c]:s,value:v.length>0?v:i?i[c]:"",onChange:function(e){N(e.target.value),l(e.target.value)},onClick:function(){return p(function(e){return!e})}})),o.a.createElement("div",{className:"arrow ".concat(d?"open":null)})),o.a.createElement("div",{className:"options ".concat(d?"open":null)},function(e){return e.filter(function(e){return e[c].toString().toLowerCase().indexOf(v.toLowerCase())>-1})}(a).map(function(e){return o.a.createElement("div",{key:e[t],className:"option ".concat(i===e?"selected":null),onClick:function(){N(""),l(e),p(!1)}},e[c])})))}),oe={modalContent:[],isModalOpen:!1,isInsufficientModalOpen:!1,checkNumber:0,imgCheckNumber:0},ce=function(){var e=Object(n.useState)([]),a=Object(r.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)(""),i=Object(r.a)(s,2),l=i[0],d=i[1],p=Object(n.useState)(""),E=Object(r.a)(p,2),h=(E[0],E[1],Object(n.useReducer)(J,oe)),b=Object(r.a)(h,2),g=b[0],N=b[1],_=Object(n.useState)([]),O=Object(r.a)(_,2),C=O[0],S=O[1],j=Object(n.useState)([]),y=Object(r.a)(j,2),I=y[0],k=y[1],M=Object(n.useState)(""),R=Object(r.a)(M,2),w=(R[0],R[1],Object(n.useRef)(null)),A=Object(n.useState)(!1),q=Object(r.a)(A,2),T=q[0],D=q[1],F=Object(n.useState)({}),P=Object(r.a)(F,2),U=P[0],L=P[1],x=Object(n.useState)(null),B=Object(r.a)(x,2),W=B[0],G=B[1],X=Object(n.useState)(1),z=Object(r.a)(X,2),H=z[0],Q=z[1],V=u+"api/references",Z=u+"api/requesttowarehouse",$=u+"api/getapprovedrequests",ae=u+"api/updatedressmakingprocess",ce=u+"api/getRequestHistoryDressmaking";Object(n.useEffect)(function(){m.a.get(V).then(function(e){c(e.data)}),m.a.get($).then(function(e){S(e.data)}),m.a.get(ce).then(function(e){k(e.data)})},[]);var se=function(){D(!1),N({type:"CLOSE_MODAL"})},re=function(e){e.preventDefault();var a=e.target.getAttribute("href"),t=document.querySelector(a).offsetTop;document.getElementById("scroll-dressmaking").scrollTo(0,t-55)},ie=function(e){Q(e)};return o.a.createElement("div",{className:"general-container-dressmaking"},o.a.createElement("div",{className:"navbar-dressmaking"},o.a.createElement("h2",{className:"navbar-dressmaking__h2"},"Taller confecci\xf3n"),o.a.createElement("div",{className:"navbar-dressmaking-otpions"},o.a.createElement("div",{className:1===H?"tabs-dressmaking active-tabs-dressmaking":"tabs-dressmaking",onClick:function(){return ie(1)}},o.a.createElement("a",{href:"#ressmaking-request-container",onClick:re},"Enviar petici\xf3n")),o.a.createElement("div",{className:2===H?"tabs-dressmaking active-tabs-dressmaking":"tabs-dressmaking",onClick:function(){return ie(2)}},o.a.createElement("a",{href:"#dressmaking-process-container",onClick:re},"Art\xedculos en proceso")),o.a.createElement("div",{className:3===H?"tabs-dressmaking active-tabs-dressmaking":"tabs-dressmaking",onClick:function(){return ie(3)}},o.a.createElement("a",{href:"#requests-history-section",onClick:re},"Historial de peticiones")))),o.a.createElement("div",{className:"scroll-dressmaking-section",id:"scroll-dressmaking"},o.a.createElement("div",{className:"dressmaking-request-container",id:"ressmaking-request-container"},o.a.createElement("div",{className:"dressmaking-request-card"},o.a.createElement("div",{className:"dressmaking-request-card__h2"},"Enviar petici\xf3n a Bodega Insumos"),o.a.createElement("div",{className:"dressmaking-request-form"},o.a.createElement("div",{className:"filter-dropdown-request-dressmaking"},o.a.createElement(ne,{options:t,id:"referencia",label:"referencia",prompt:"Seleccionar referencia",value:W,onChange:function(e){return G(e)}})),o.a.createElement("input",{ref:w,id:"actualAmount",name:"actualAmount",className:"actualAmount",placeholder:"cantidad",type:"number",value:l,autoComplete:"off",onChange:function(e){d(e.target.value)}}),o.a.createElement("button",{className:"btn",type:"button",onClick:function(){var e="",a=0,n=parseFloat(l);null===W?e="":"object"===typeof W?e=W.referencia.toString():"string"===typeof W&&(e=W),t.map(function(t){return t.referencia===parseFloat(e)?a+=1:a});var o=""!==e;Number.isInteger(n)&&n>0&&o?1===a?m.a.post(Z,{actualAmount:l,referenceSelection:e}).then(function(e){"SUCCESSFUL_REQUEST"===e.data?(d(""),G(null),w.current.value="",N({type:"SUCCESSFUL_REQUEST"})):N({type:"INSUFFICIENT_SUPPLIES",payload:e.data})}):N({type:"REFERENCE_DOES_NOT_EXIST"}):(N({type:"WRONG_INPUT"}),w.current.value="")}},"Enviar"))),o.a.createElement("div",{className:"information-dressmaking-request-container"},o.a.createElement("h2",{className:"information-dressmaking-request-container__h2"},"Enviar petici\xf3n a Bodega Insumos"),o.a.createElement("p",{className:"information-dressmaking-request-container__p"},"\xbfNecesitas confeccionar un nuevo art\xedculo? Entonces env\xeda una petici\xf3n a Bodega Insumos para obtener los insumos necesarios para confeccionar este art\xedculo. Para esto solo escoge la referencia del art\xedculo que quieres hacer, cuantos art\xedculos quieres realizar y preciona el bot\xf3n enviar. As\xed de f\xe1cil :)"))),o.a.createElement("div",{className:"dressmaking-process-container",id:"dressmaking-process-container"},o.a.createElement("h3",null,"Art\xedculos en proceso"),o.a.createElement("p",null,"En este apartado se muestra los art\xedculos que se est\xe1n produciendo. Puedes ir descontando la cantidad en proceso de los art\xedculos a medida que los vas produciendo. Solo digita la cantidad producida y presiona aceptar."," "),0==C.length&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"no-data-image-approved-req-dressmaking-container"},o.a.createElement("img",{src:ee.a,alt:"no-data",className:"no-data-image-approved-req-dressmaking-container__img"})),o.a.createElement("p",{className:"no-data-image-approved-req-dressmaking-paragraph"},"A\xfan no hay art\xedculos en proceso")),0!==C.length&&o.a.createElement("div",{className:"approved-requests-dressmaking-container"},C.map(function(e){return o.a.createElement("div",{className:"requestDressmakingContainer"},o.a.createElement("h4",{className:"requestDressmakingContainer__h4"},"Referencia en proceso"),o.a.createElement("div",{className:"requestDressmakingContainer__reference"},"Petici\xf3n: #",e.id),o.a.createElement("div",{className:"requestDressmakingContainer__reference"},"Referencia: ",e.referencia),o.a.createElement("div",{className:"requestDressmakingContainer__amount"},"Cantidad en proceso: ",e.cantidad),o.a.createElement("div",{className:"requestDressmakingContainer__timestamp"},"Fecha: ",e.timestamp.replace("T"," ").slice(0,16)),o.a.createElement("input",{className:"h"+e.id,id:"requestDressmakingContainer__amountInput",type:"number",placeholder:"Digite la cantidad terminada"}),o.a.createElement("button",{className:"btn requestDressmakingContainer__accept",onClick:function(){!function(e,a,t,n){var o=parseFloat(n.value);if(o>0&&Number.isInteger(o)){var c=parseFloat(t)-o;console.log(c),c>=0?(D(!0),L({reference:e,id:a,amount:t,valueInput:o,HTMLElement:n})):N({type:"DIFF_NEGATIVE"})}else D(!1),N({type:"WRONG_INPUT_PROCESS"})}(e.referencia,e.id,e.cantidad,document.querySelector(".h"+e.id))}},"Aceptar"))}))),o.a.createElement("div",{className:"requests-history-section",id:"requests-history-section"},o.a.createElement("h3",null,"Historial de peticiones"),o.a.createElement("p",null,"Aqu\xed se despliega el historial de peticiones realizadas de taller confecci\xf3n a bodega insumos."),o.a.createElement("div",{className:"requets-history-dressmaking-container"},o.a.createElement("div",{className:"label-history-request-dressmanking"},o.a.createElement("div",{className:"label-history-request-dressmanking__number-of-order"},"N\xfamero de orden"),o.a.createElement("div",{className:"label-history-request-dressmanking__reference"},"Referencia"),o.a.createElement("div",{className:"label-history-request-dressmanking__amount"},"Cantidad"),o.a.createElement("div",{className:"label-history-request-dressmanking__decision"},"Decisi\xf3n"),o.a.createElement("div",{className:"label-history-request-dressmanking__timestamp"},"Fecha")),I.map(function(e){return o.a.createElement("div",{className:"request-card-container"},o.a.createElement("div",{className:"request-card-container__order"},e.numero_de_orden),o.a.createElement("div",{className:"request-card-container__reference"},e.referencia),o.a.createElement("div",{className:"request-card-container__amount"},e.cantidad),o.a.createElement("div",{className:"request-card-container__decision"},e.decision),o.a.createElement("div",{className:"request-card-container__date"}," ",e.timestamp.replace("T"," ").slice(0,16)))})))),g.isInsufficientModalOpen&&o.a.createElement(Y,{modalContent:g.modalContent,closeModal:se,checkNumber:g.checkNumber}),o.a.createElement(f,{isOpen:g.isModalOpen,closeModal:se},o.a.createElement("h1",{className:"modalWarehouseh1"},g.modalContent),1===g.imgCheckNumber&&o.a.createElement("img",{className:"modalWarehouseImg",src:K.a,alt:"modalImg"}),2===g.imgCheckNumber&&o.a.createElement("img",{className:"modalWarehouseImg",src:v.a,alt:"modalImg"})),o.a.createElement(te,{isOpen:T,closeModal:se,subAmountFunction:function(){var e=U.amount-U.valueInput;U.HTMLElement.value="",m.a.post(ae,{referencia:U.reference,id:U.id,diff:e,amount:U.valueInput}).then(function(e){console.log(e.data),U.valueInput=null,m.a.get($).then(function(e){S(e.data)})})}}))},se=(t(204),t(29)),re=t.n(se),ie=(t(205),function(e){var a=e.modalContent,t=(e.closeModal,Object(n.useState)("")),c=Object(r.a)(t,2),s=c[0],i=c[1],l=0,m=!0,u=!1;return o.a.createElement("div",{className:"container_table-bodega"},o.a.createElement("div",{className:"table_title-bodega"},"Informaci\xf3n"),o.a.createElement("div",{className:"search-warehouse-container"},o.a.createElement("i",{className:"gg-search"}),o.a.createElement("input",{type:"search",placeholder:"Buscar por c\xf3digo...",className:"search-filter-design-warehouse",onChange:function(e){return function(e){i(e),l=0,m=!0,u=!1}(e.target.value)}})),o.a.createElement("div",{className:"table-header-container-warehouse"},o.a.createElement("div",{className:"table_header-bodega"},"Insumo"),o.a.createElement("div",{className:"table_header-bodega"},"Imagen")),o.a.createElement("div",{className:"scroll-modal-inventory"},a.filter(function(e){return l+=1,""===s?e:e.codigo.toString().slice(0,s.length).includes(s)?(m=!1,e):void(l==a.length&&1==m&&(u=!0))}).map(function(e){return o.a.createElement("div",{className:"items_container-bodega",key:e.codigo},o.a.createElement("div",{className:"sub_items_container-bodega"},o.a.createElement("div",{className:"sub_sub_items_container-bodega"},o.a.createElement("div",{className:"table_item-bodega"},"C\xf3digo: ",e.codigo),o.a.createElement("div",{className:"table_item-bodega"},"Descripci\xf3n: ",e.descripcion),o.a.createElement("div",{className:"table_item-bodega"},"Cantidad: ",e.metros)),o.a.createElement("div",{className:"table_item-bodega"},o.a.createElement("img",{className:"table_img-bodega",src:e.nombre_imagen}))))}),u&&o.a.createElement("img",{className:"notFoundImgWarehouse",src:re.a,alt:"Not found"})))}),le=(t(206),document.getElementById("insufficientSuppliesModal")),me=function(e){return e.isOpen?s.a.createPortal(o.a.createElement("div",{className:"ModalNoSuppliesComponent"},o.a.createElement("div",{className:"ModalNoSuppliesComponent__container"},o.a.createElement("button",{onClick:function(){e.closeModal()},className:"ModalNoSuppliesComponent__close-button"},"X"),o.a.createElement("h4",null,"Error: En el inventario no se encuentran los insumos suficientes"),o.a.createElement("p",null,"No se puede aceptar esta petici\xf3n debido a que en Bodega no hay los insumos suficientes para cumplir con la producci\xf3n. Por favor, rechace esta petici\xf3n."),o.a.createElement("div",{className:"containerNoSupplies_table"},o.a.createElement("div",{className:"tableNoSupplies_title"},"Insumos insuficientes"),o.a.createElement("div",{className:"tableNoSupplies_header"},"Insumo insuficiente"),o.a.createElement("div",{className:"tableNoSupplies_header"},"Imagen"),e.arrayNoSupplies.map(function(e){return o.a.createElement("div",{className:"itemsNoSupplies_container",key:e.codigo},o.a.createElement("div",{className:"sub_itemsNoSupplies_container"},o.a.createElement("div",{className:"sub_sub_itemsNoSupplies_container"},o.a.createElement("div",{className:"tableNoSupplies_item"},"Item: ",e.codigo),o.a.createElement("div",{className:"tableNoSupplies_item"},"Descripci\xf3n: ",e.descripcion),o.a.createElement("div",{className:"tableNoSupplies_item"},"Existencias: ",e.metros),o.a.createElement("div",{className:"tableNoSupplies_item"},"Faltante: ",e.remainingAmount)),o.a.createElement("div",{className:"tableNoSupplies_item"},o.a.createElement("img",{className:"tableNoSupplies_img",src:e.nombre_imagen}))))})),o.a.createElement("div",{className:"InsuficcientButtonRejectContainer",onClick:function(){e.handlerReject(e.infoRequest.index),e.closeModal()}},o.a.createElement("button",{className:"btn"},"Rechazar petici\xf3n")))),le):null},ue=(t(207),document.getElementById("ModalDecisionSupplies")),de=function(e){var a=u+"api/temporal",t=Object(n.useState)([]),c=Object(r.a)(t,2),i=c[0],l=c[1];Object(n.useEffect)(function(){e.isOpen&&m.a.post(a,{referenceSelection:e.infoRequest.reference,actualAmount:e.infoRequest.amount}).then(function(e){l(e.data)}).catch(function(e){console.log(e)})},[e.isOpen]);return e.isOpen?s.a.createPortal(o.a.createElement("div",{className:"ModalDecisionSuppliesComponent"},o.a.createElement("div",{className:"ModalDecisionSuppliesComponent__container"},o.a.createElement("button",{onClick:function(){e.closeModal()},className:"ModalDecisionSuppliesComponent__close-button"},"X"),o.a.createElement("h4",null,"Informaci\xf3n de los insumos"),o.a.createElement("p",null,"Si aceptas esta decisi\xf3n, estos ser\xe1n los insumos que se ver\xe1n afectados."),o.a.createElement("div",{className:"containerDecisionSupplies_table"},o.a.createElement("div",{className:"tableDecisionSupplies_title"},"Insumos Necesarios"),o.a.createElement("div",{className:"tableDecisionSupplies_header"},"Informaci\xf3n del insumo"),o.a.createElement("div",{className:"tableDecisionSupplies_header"},"Imagen"),i.map(function(e){return o.a.createElement("div",{className:"itemsDecisionSupplies_container",key:e.codigo},o.a.createElement("div",{className:"sub_itemsDecisionSupplies_container"},o.a.createElement("div",{className:"sub_sub_itemsDecisionSupplies_container"},o.a.createElement("div",{className:"tableDecisionSupplies_item"},"Item: ",e.codigo),o.a.createElement("div",{className:"tableDecisionSupplies_item"},"Color: ",e.color),o.a.createElement("div",{className:"tableDecisionSupplies_item"},"Descripci\xf3n: ",e.descripcion),o.a.createElement("div",{className:"tableDecisionSupplies_item"},"Consumo: ",e.amount,e.metros?" metros":"")),o.a.createElement("div",{className:"tableDecisionSupplies_item"},o.a.createElement("img",{className:"tableDecisionSupplies_img",src:e.nombre_imagen}))))})),o.a.createElement("div",{className:"DecisionButtonsContainer"},o.a.createElement("button",{className:"btn DecisionButtonsContainer__accept",onClick:function(){e.handlerAccept(e.infoRequest.index),e.closeModal()}},"Aceptar"),o.a.createElement("button",{className:"btn DecisionButtonsContainer__reject",onClick:function(){e.handlerReject(e.infoRequest.index),e.closeModal()}},"Rechazar")))),ue):null},pe=function(e,a){return"SUCCESSFUL_FORM"===a.type?Object(N.a)({},e,{modalFormContent:"\xa1Felicitaciones! Se ha agregado un nuevo insumo correctamente",isFormModalOpen:!0,isModalOpen:!1,imgCheckNumber:1}):"SUCCESSFUL_UPDATE"===a.type?Object(N.a)({},e,{modalUpdateContent:"Inventario a\xf1adido exitosamente",isModalUpdateOpen:!0,isModalOpen:!1,imgCheckNumber:1}):"EXISTING_CODE"===a.type?Object(N.a)({},e,{modalFormContent:"Este codigo ya existe en el inventario. Por favor dirigirse a la secci\xf3n A\xf1adir a Insumo registrado",isFormModalOpen:!0,isModalOpen:!1,imgCheckNumber:2}):"SUCCESSFUL_ADDING"===a.type?Object(N.a)({},e,{modalFormContent:"Insumo a\xf1adido correctamente",isModalOpen:!1,isFormModalOpen:!0}):"WRONG_INPUT"===a.type?Object(N.a)({},e,{modalUpdateContent:"OJO: Por favor ingrese correctamente todos los campos",isModalUpdateOpen:!0,isModalOpen:!1,imgCheckNumber:2}):"CODE_DOES_NOT_EXIST"===a.type?Object(N.a)({},e,{modalUpdateContent:"Error: Este c\xf3digo no existe",isModalUpdateOpen:!0,isModalOpen:!1,imgCheckNumber:2}):"INSUFFICIENT_SUPPLIES"===a.type?Object(N.a)({},e,{isOpenNoSupplies:!0,modalContent:a.payload}):"CLOSE_MODAL"===a.type?Object(N.a)({},e,{isModalOpen:!1,isOpenNoSupplies:!1,imgCheckNumber:0}):Object(N.a)({},e,{isModalOpen:!1,isFormModalOpen:!1,isModalUpdateOpen:!1,isOpenNoSupplies:!1})},Ee={isModalOpen:!1,isFormModalOpen:!1,isModalUpdateOpen:!1,isOpenNoSupplies:!1,modalContent:[],modalFormContent:"",modalUpdateContent:"",checkNumber:0,imgCheckNumber:0};var he=function(e,a){var t=document.querySelector(".selected-option-bodega"),n=document.querySelectorAll(".option-bodega");t.addEventListener("click",function(){t.parentElement.classList.toggle("active-bodega")}),n.forEach(function(a){a.addEventListener("click",function(){setTimeout(function(){t.innerHTML=a.innerHTML,e(a.innerHTML)},300),t.parentElement.classList.remove("active-bodega")})})},be=Object(S.g)(function(){var e=Object(n.useState)(""),a=Object(r.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)(""),i=Object(r.a)(s,2),l=i[0],d=i[1],p=Object(n.useState)(""),E=Object(r.a)(p,2),h=E[0],b=E[1],g=Object(n.useState)(""),_=Object(r.a)(g,2),O=_[0],C=_[1],S=Object(n.useState)(""),j=Object(r.a)(S,2),y=j[0],I=j[1],k=Object(n.useState)(""),M=Object(r.a)(k,2),R=M[0],w=M[1],A=Object(n.useReducer)(pe,Ee),q=Object(r.a)(A,2),T=q[0],D=q[1],F=Object(n.useState)([]),P=Object(r.a)(F,2),U=P[0],L=P[1],x=Object(n.useState)(""),B=Object(r.a)(x,2),W=(B[0],B[1]),G=Object(n.useState)(""),X=Object(r.a)(G,2),z=X[0],H=X[1],Q=Object(n.useState)([]),V=Object(r.a)(Q,2),Y=V[0],J=V[1],Z=Object(n.useState)([]),$=Object(r.a)(Z,2),ae=$[0],te=$[1],oe=Object(n.useState)(!1),ce=Object(r.a)(oe,2),se=(ce[0],ce[1],Object(n.useState)({})),re=Object(r.a)(se,2),le=re[0],ue=re[1],be=Object(n.useState)(!1),fe=Object(r.a)(be,2),ge=fe[0],ve=fe[1],Ne=Object(n.useState)(null),_e=Object(r.a)(Ne,2),Oe=_e[0],Ce=_e[1],Se=Object(n.useState)(1),je=Object(r.a)(Se,2),ye=je[0],Ie=je[1],ke=Object(n.useState)(!1),Me=Object(r.a)(ke,2),Re=Me[0],we=Me[1],Ae=u+"api/savecloth",qe=u+"api/invetorywarehouse",Te=u+"api/invetorywarehouse",De=u+"api/updatewarehouseinventory",Fe=u+"api/dressmakingrequest",Pe=u+"api/suppliesrequest",Ue=u+"api/savewarehousedecision";Object(n.useEffect)(function(){m.a.get(Te).then(function(e){L(e.data),he(w,W)}),m.a.get(Fe).then(function(e){J(e.data)}),m.a.get(qe).then(function(e){te(e.data)}).catch(function(e){if(e)throw e})},[Re]);var Le=function(e){var a=e;console.log(a),m.a.post(Ue,Object(N.a)({},Y[a],{idDecision:0})).then(function(e){if("SUCCESSFUL_SAVING"===e.data){console.log("TODO NICE");var t=Y.filter(function(e){return e.id!=Y[a].id});J(t)}else console.log("BARRILETE")})},xe=function(){ve(!1),D({tpye:"CLOSE_MODAL"})},Be=function(e){e.preventDefault();var a=e.target.getAttribute("href"),t=document.querySelector(a).offsetTop;document.getElementById("scroll-warehouse").scrollTo(0,t-55)},We=function(e){Ie(e)};return o.a.createElement("div",{className:"general-container-warehouse"},o.a.createElement("div",{className:"navbar-warehouse"},o.a.createElement("h2",{className:"navbar-warehouse__h2"},"Bodega Insumos"),o.a.createElement("div",{className:"navbar-warehouse-otpions"},o.a.createElement("div",{className:1===ye?"tabs-warehouse active-tabs-warehouse":"tabs-warehouse",onClick:function(){return We(1)}},o.a.createElement("a",{href:"#new-supplies-section",onClick:Be},"Registrar nuevos insumos")),o.a.createElement("div",{className:2===ye?"tabs-warehouse active-tabs-warehouse":"tabs-warehouse",onClick:function(){return We(2)}},o.a.createElement("a",{href:"#inventory-warehouse-modal-section",onClick:Be},"Inventario")),o.a.createElement("div",{className:3===ye?"tabs-warehouse active-tabs-warehouse":"tabs-warehouse",onClick:function(){return We(3)}},o.a.createElement("a",{href:"#update-section",onClick:Be},"Actualizar insumos existentes")),o.a.createElement("div",{className:4===ye?"tabs-warehouse active-tabs-warehouse":"tabs-warehouse",onClick:function(){return We(4)}},o.a.createElement("a",{href:"#request-section",onClick:Be},"Peticiones")))),o.a.createElement("div",{className:"scroll-warehouse",id:"scroll-warehouse"},o.a.createElement("div",{className:"body-warehouse-information",id:"new-supplies-section"},o.a.createElement("div",{className:"warehouse-form-container"},o.a.createElement("form",{className:"warehouse-form"},o.a.createElement("h2",null,"Registrar nuevos insumos"),o.a.createElement("div",{className:"border-div"}),o.a.createElement("input",{type:"text",id:"codigo",placeholder:"C\xf3digo",onChange:function(e){return c(e.target.value)}}),o.a.createElement("input",{type:"text",id:"color",placeholder:"Color",onChange:function(e){return d(e.target.value)}}),o.a.createElement("input",{type:"number",id:"amount",placeholder:"Metros/Cantidad",onChange:function(e){return b(e.target.value)}}),o.a.createElement("input",{type:"text",id:"descripcion",placeholder:"Descripci\xf3n",className:"descriptionInput",onChange:function(e){return C(e.target.value)}}),o.a.createElement("input",{type:"text",id:"url-img",placeholder:"URL de la im\xe1gen",onChange:function(e){return I(e.target.value)}}),o.a.createElement("div",{className:"select-container-bodega"},o.a.createElement("p",{className:"selected-option-bodega"},"Seleccionar tela o insumo"),o.a.createElement("ul",{className:"options-container-bodega"},o.a.createElement("li",{className:"option-bodega"},"Tela"),o.a.createElement("li",{className:"option-bodega"},"Insumo"))),o.a.createElement("button",{className:"btn",onClick:function(e){e.preventDefault();var a={code:t,color:l,amount:h,description:O,img:y,type:R};if(("Tela"==R?parseFloat(h)>0:Number.isInteger(parseInt(h))&&parseInt(h)>0)&&"Codigo"!==t&&"Color"!==l&&"Descripci\xf3n"!==O&&"URL de la im\xe1gen"!==y&&"Seleccionar tela o insumo"!==R){var n=document.getElementById("codigo"),o=document.getElementById("color"),c=document.getElementById("amount"),s=document.getElementById("descripcion"),r=document.getElementById("url-img"),i=document.querySelector(".selected-option-bodega");m.a.post(Ae,{newCloth:a}).then(function(e){console.log(e.data),"SUCCESSFUL_ADDING"==e.data&&(D({type:"SUCCESSFUL_FORM"}),n.value="",o.value="",c.value="",s.value="",r.value="",i.innerHTML="Seleccionar tela o insumo",m.a.get(Te).then(function(e){L(e.data)}),we(!Re)),"EXISTING_CODE"==e.data&&D({type:"EXISTING_CODE"})}).catch(function(e){console.log(e)})}else D({type:"WRONG_INPUT"})}},"Enviar"))),o.a.createElement("div",{className:"information-add-supplies-container"},o.a.createElement("h2",{className:"information-add-supplies-container__h2"},"Registrar nuevos insumos"),o.a.createElement("p",{className:"information-add-supplies-container__p"},"\xbfHas recibido stock de insumos nuevos? En este apartado puedes agregar estos insumos nuevos al inventario. S\xf3lo digita el c\xf3digo con el cual identificar\xe1s el insumo, el color, metros o cantidad dependiendo si es tela o otro elemento (botones, correderas, etc), una descripci\xf3n, el URL de la im\xe1gen y seleccina si es tela o insumo (si es un bot\xf3n, corredera, etc). Por \xfaltimo, presiona el bot\xf3n de enviar y listo :)"))),o.a.createElement("div",{className:"inventory-warehouse-modal-section",id:"inventory-warehouse-modal-section"},o.a.createElement("h3",null,"Inventario de los insumos"),o.a.createElement("p",null,"En este apartado se despliega el inventario de los insumos (telas, botones, correderas, etc\xe9tera)."),o.a.createElement(ie,{modalContent:ae,closeModal:xe})),o.a.createElement("div",{className:"update-container",id:"update-section"},o.a.createElement("div",{className:"update-container-card"},o.a.createElement("div",{className:"update-container__h2"},"Actualizar insumos registrados"),o.a.createElement("div",{className:"update-container-form"},o.a.createElement("div",{className:"filterDropdownUpdateWarehouse"},o.a.createElement(ne,{options:U,id:"codigo",label:"codigo",prompt:"Seleccionar c\xf3digo",value:Oe,onChange:function(e){return Ce(e)}})),o.a.createElement("input",{type:"number",id:"amount-update-inventory",placeholder:"Cantidad",className:"amount-update-inventory",onChange:function(e){return H(e.target.value)}}),o.a.createElement("button",{className:"btn",onClick:function(){var e="",a=0,t=document.getElementById("amount-update-inventory");if(null===Oe?e="":"object"===typeof Oe?e=Oe.codigo.toString():"string"===typeof Oe&&(e=Oe),U.map(function(t){return t.codigo===parseFloat(e)?a+=1:a}),Number.isInteger(parseInt(z))&&parseInt(z)>0&&""!==e)if(1===a){var n={code:e,amount:z};Ce(null),t.value="",m.a.post(De,n).then(function(e){console.log(e),"SUCCESSFUL_UPDATE"==e.data&&(D({type:"SUCCESSFUL_UPDATE"}),we(!Re))})}else D({type:"CODE_DOES_NOT_EXIST"});else D({type:"WRONG_INPUT"})}}," ","Actualizar"))),o.a.createElement("div",{className:"information-update-container"},o.a.createElement("h2",{className:"information-update-container__h2"},"Actualizar cantidad a un insumo registrado"),o.a.createElement("p",{className:"information-update-container__p"},"\xbfHas recibido m\xe1s stock de insumos ya registrados en tu inventario? En este apartado puedes actualizar estos insumos existentes. Solo escoge el codigo, digita la cantidad y presiona el bot\xf3n actualizar. As\xed de sencillo :)"))),o.a.createElement("div",{className:"warehouseReqSection",id:"request-section"},o.a.createElement("h3",null,"Peticiones"),o.a.createElement("p",null,"En este apartado se muestran las peticiones realizadas por taller confecci\xf3n. Recuerda presionar el bot\xf3n 'Tomar decisi\xf3n' para aceptar o rechazar las peticiones."),0==Y.length&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"no-data-image-warehouse-container"},o.a.createElement("img",{src:ee.a,alt:"no-data",className:"no-data-image-warehouse-container__img"})),o.a.createElement("p",{className:"no-data-image-warehouse-paragraph"},"A\xfan no hay peticiones")),0!==Y.length&&o.a.createElement("div",{className:"dressmakingReqContainer"},Y.map(function(e,a){return o.a.createElement("div",{key:a,className:"requestWarehouseContainer"},o.a.createElement("h4",{className:"requestWarehouseContainer__h4"},"Petici\xf3n de taller confecci\xf3n"),o.a.createElement("div",{className:"requestWarehouseContainer__reference"},"Referencia: ",e.referencia),o.a.createElement("div",{className:"requestWarehouseContainer__reference"},"Cantidad: ",e.cantidad),o.a.createElement("div",{className:"requestWarehouseDecisionBTNContainer"},o.a.createElement("button",{className:"btn",onClick:function(){!function(e){console.log(e),console.log(Y[e].cantidad),console.log(Y[e].referencia),ue({index:e,amount:Y[e].cantidad,reference:Y[e].referencia}),m.a.post(Pe,{actualAmount:Y[e].cantidad,referenceSelection:Y[e].referencia}).then(function(e){"SUCCESSFUL_REQUEST"===e.data?ve(!0):(D({type:"INSUFFICIENT_SUPPLIES",payload:e.data}),console.log("BARRILETE"))})}(a)}},"Tomar decisi\xf3n")))}))),o.a.createElement(me,{isOpen:T.isOpenNoSupplies,closeModal:xe,arrayNoSupplies:T.modalContent,infoRequest:le,handlerReject:Le}),o.a.createElement(de,{isOpen:ge,closeModal:xe,infoRequest:le,handlerReject:Le,handlerAccept:function(e){console.log("HANDLER APROVE");var a=e;console.log(e),m.a.post(Pe,{actualAmount:Y[a].cantidad,referenceSelection:Y[a].referencia}).then(function(e){if(console.log(e.data),"SUCCESSFUL_REQUEST"===e.data){console.log("TODO NICE"),m.a.post(Ue,Object(N.a)({},Y[a],{idDecision:1})).then(function(e){console.log(e.data)});var t=Y.filter(function(e){return e.id!=Y[a].id});J(t)}})}}),o.a.createElement(f,{isOpen:T.isFormModalOpen,closeModal:xe},o.a.createElement("h1",{className:"modalWarehouseh1"},T.modalFormContent),1===T.imgCheckNumber&&o.a.createElement("img",{className:"modalWarehouseImg",src:K.a,alt:"modalImg"}),2===T.imgCheckNumber&&o.a.createElement("img",{className:"modalWarehouseImg",src:v.a,alt:"modalImg"})),o.a.createElement(f,{isOpen:T.isModalUpdateOpen,closeModal:xe},o.a.createElement("h1",{className:"modalWarehouseh1"},T.modalUpdateContent),1===T.imgCheckNumber&&o.a.createElement("img",{className:"modalWarehouseImg",src:K.a,alt:"modalImg"}),2===T.imgCheckNumber&&o.a.createElement("img",{className:"modalWarehouseImg",src:v.a,alt:"modalImg"}))))}),fe=function(e,a){if("INSUFFICIENT_SUPPLIES"===a.type){var t=a.payload;return Object(N.a)({},e,{modalContent:t,isModalOpen:!0,checkNumber:0,imgCheckNumber:2})}if("SUCCESSFUL_REQUEST"===a.type)return Object(N.a)({},e,{modalContent:["La referencia se ha guardado correctamente"],isModalOpen:!0,checkNumber:1,imgCheckNumber:1});if("FAILED_REQUEST"===a.type)return Object(N.a)({},e,{modalContent:["La petici\xf3n no ha tenido exito"],isModalOpen:!0,checkNumber:2,imgCheckNumber:2});if("INVALID_REFERENCE"===a.type)return Object(N.a)({},e,{modalContent:["Ya existe la referencia que desea ingresar"],isModalOpen:!0,checkNumber:3,imgCheckNumber:2});if("WRONG_INPUT"===a.type)return Object(N.a)({},e,{modalContent:["Ingrese correctamente los campos"],isModalOpen:!0,checkNumber:4,imgCheckNumber:2});if("CODE_DOES_NOT_EXIST"===a.type)return Object(N.a)({},e,{isModalOpen:!0,modalContent:["El codigo talla no existe"],checkNumber:5,imgCheckNumber:2});if("SUCCESSFUL_SAMPLE_INVENTORY"===a.type){var n=a.payload;return Object(N.a)({},e,{isInventoryModalOpen:!0,modalInventoryContent:n})}return a.type,Object(N.a)({},e,{isModalOpen:!1,isInventoryModalOpen:!1,imgCheckNumber:0})},ge=(t(208),t(209),document.getElementById("informationModal")),ve=function(e){return e.isOpen?s.a.createPortal(o.a.createElement("div",{className:"ModalInfoComponent"},o.a.createElement("div",{className:"ModalInfoComponent__container"},o.a.createElement("button",{onClick:function(){e.closeModal()},className:"ModalInfoComponent__close-button"},"X"),o.a.createElement("h4",null,"Referencia: ",e.reference),o.a.createElement("p",null,"Estos son los insumos que consume la referencia ",e.reference),o.a.createElement("div",{className:"ModalInfoComponent__titleInformation"},o.a.createElement("div",null,"Insumo"),o.a.createElement("div",null,"Imagen")),o.a.createElement("div",{className:"scroll-design-information-modal"},e.referenceArray.map(function(e){return o.a.createElement("div",{className:"items_container-design",key:e.codigo},o.a.createElement("div",{className:"items-information-design"},o.a.createElement("div",{className:"item-information-design__ref"},"Referencia: ",e.codigo),o.a.createElement("div",{className:"item-information-design__amount"},"Consumo: ",e.consumptionAmount),o.a.createElement("div",{className:"item-information-design__description"},"Descripci\xf3n: ",e.descripcion),o.a.createElement("div",{className:"item-information-design__color"},"Color: ",e.color)),o.a.createElement("div",{className:"item-information-design"},o.a.createElement("img",{className:"item-information-image",src:e.nombre_imagen})))})))),ge):null},Ne=(t(210),function(e){var a=e.modalContent,t=e.closeModal;Object(n.useEffect)(function(){setTimeout(function(){t()},4e4)});var c=Object(n.useState)(""),s=Object(r.a)(c,2),i=s[0],l=s[1],d=Object(n.useState)(!1),p=Object(r.a)(d,2),E=p[0],h=p[1],b=Object(n.useState)(""),f=Object(r.a)(b,2),g=f[0],v=f[1],N=Object(n.useState)([]),_=Object(r.a)(N,2),O=_[0],C=_[1],S=u+"api/getreferenceconsumption",j=0,y=!0,I=!1;return o.a.createElement("div",{className:"container_table-design"},o.a.createElement("div",{className:"table_title-design"},"Informaci\xf3n"),o.a.createElement("div",{className:"search-design-container"},o.a.createElement("i",{className:"gg-search"}),o.a.createElement("input",{type:"search",placeholder:"Buscar...",className:"search-filter-design",onChange:function(e){return function(e){l(e),j=0,y=!0,I=!1}(e.target.value)}})),o.a.createElement("div",{className:"sample-image-container"},o.a.createElement("div",{className:"table_header-design-sample"},"Muestra"),o.a.createElement("div",{className:"table_header-design-img"},"Imagen")),o.a.createElement("div",{className:"scroll-modal-design"},a.filter(function(e){return j+=1,""===i?e:e.referencia.toString().slice(0,i.length).includes(i)?(y=!1,e):void(j==a.length&&1==y&&(I=!0))}).map(function(e){return o.a.createElement("div",{className:"items_container-design",key:e.referencia},o.a.createElement("div",{className:"items-information-container"},o.a.createElement("div",{className:"items-information-ref"},"Referencia: ",e.referencia),o.a.createElement("div",{className:"items-information-size"},"Talla: ",e.talla),o.a.createElement("div",{className:"items-information-description"},"Descripci\xf3n: ",e.descripcion),o.a.createElement("div",{className:"items-information-color"},"Color: ",e.color),o.a.createElement("button",{className:"btn",id:"handleInfoModal",onClick:function(){return function(e){h(!0),v(e),console.log(e);var a=e;m.a.post(S,{referenceSelection:a}).then(function(e){C(e.data)}).catch(function(e){console.log(e)})}(e.referencia)}},"Informaci\xf3n de consumo")),o.a.createElement("div",{className:"table_item-design"},o.a.createElement("img",{className:"table_img-design",src:e.nombre_imagen})))}),I&&o.a.createElement("img",{className:"notfoundImg",src:re.a,alt:"Not Found"})),o.a.createElement(ve,{isOpen:E,closeModal:function(){h(!1)},reference:g,referenceArray:O}))}),_e=t(100),Oe=(t(211),t(212),function(e){var a=e.modalContent,t=e.closeModal;return setTimeout(function(){t()},5e3),o.a.createElement("div",{className:"ModalDesignContainer"},o.a.createElement("h4",null,a))}),Ce=document.getElementById("addSupplies"),Se=function(e,a){return"WRONG_INFORMATION"===a.type?Object(N.a)({},e,{isOpen:!0,modalContent:"Por favor digite bien todos los campos"}):"CODE_DOES_NOT_EXIST"===a.type?Object(N.a)({},e,{isOpen:!0,modalContent:"Est\xe9 c\xf3digo no existe. Por favor digitar otro"}):"CODE_EXIST"===a.type?Object(N.a)({},e,{isOpen:!0,modalContent:"Error: Este c\xf3digo ya est\xe1 agregado"}):(a.type,Object(N.a)({},e,{isOpen:!1}))},je={isModalOpen:!1,modalContent:""},ye=function(e){var a=Object(n.useState)(null),t=Object(r.a)(a,2),c=t[0],i=t[1],l=Object(n.useReducer)(Se,je),d=Object(r.a)(l,2),p=d[0],E=d[1],h=Object(n.useState)([]),b=Object(r.a)(h,2),f=b[0],g=b[1],v=Object(n.useState)([]),N=Object(r.a)(v,2),_=N[0],O=N[1],C=u+"api/warehousecodes",S=Object(n.useState)(""),j=Object(r.a)(S,2),y=j[0],I=j[1],k=Object(n.useState)("Seleccionar insumo"),M=Object(r.a)(k,2),R=(M[0],M[1],""),w=0,A=0;Object(n.useEffect)(function(){m.a.get(C).then(function(a){g(a.data),e.isOpen})},[e.isOpen]);var q=function(){e.closeModal()};return e.isOpen?s.a.createPortal(o.a.createElement("div",{className:"ModalAddSuppliesComponent"},o.a.createElement("div",{className:"ModalAddSuppliesComponent__container"},o.a.createElement("button",{onClick:q,className:"ModalAddSuppliesComponent__close-button"},"X"),o.a.createElement("h4",null,"A\xf1adir telas o insumos"),o.a.createElement("p",{className:"ModalAddSuppliesComponent__p"},"Aqu\xed puedes a\xf1adir las telas y/o insumos que consume esta referencia."),o.a.createElement("div",{className:"addSuppliesZone"},o.a.createElement("div",{style:{width:250}},o.a.createElement(ne,{options:f,id:"codigo",label:"codigo",prompt:"Seleccionar insumo",value:c,onChange:function(e){return i(e)}})),o.a.createElement("input",{type:"number",className:"amountSuppliesInput",placeholder:"Digite la cantidad",autoComplete:"off",onChange:function(e){return I(e.target.value)}}),o.a.createElement("button",{className:"btn",onClick:function(){var e=document.querySelector(".amountSuppliesInput");null===c?R={codigo:""}:"object"===typeof c?R=c.codigo.toString():"string"===typeof c&&(R=c),f.map(function(e){return e.codigo===parseInt(R)?w+=1:w}),_.map(function(e){return e.supplyCode===R?A+=1:A});var a=""!==R||null!==R,t=Number.isInteger(parseInt(e.value))&&parseInt(e.value)>0;if(a&&t)if(1===w)if(0===A){var n={supplyCode:R,supplyAmount:y};O([].concat(Object(_e.a)(_),[n])),e.value=null,i(null)}else E({type:"CODE_EXIST"});else E({type:"CODE_DOES_NOT_EXIST"});else E({type:"WRONG_INFORMATION"})}},"A\xf1adir")),p.isOpen&&o.a.createElement(Oe,{modalContent:p.modalContent,closeModal:function(){E({type:"CLOSE_MODAL"})}}),o.a.createElement("div",{className:"added-container-supplies"},_.map(function(e){return o.a.createElement("div",{key:e.supplyCode,className:"supplie-add"},o.a.createElement("h2",null,"Item agregado: "),"Codigo: ",e.supplyCode," - Cantidad: ",e.supplyAmount,o.a.createElement("button",{className:"removeItemAddSupplies",onClick:function(){return function(e){var a=_.filter(function(a){return a.supplyCode!==e});O(a)}(e.supplyCode)}},"X"))})),o.a.createElement("div",{className:"buttonAddSuppliesContainer"},o.a.createElement("button",{className:"buttonAddSuppliesContainer__ready",onClick:function(){e.suppliesFromDesign(_),e.closeModal()}},"Listo"),o.a.createElement("button",{className:"buttonAddSuppliesContainer__cancel",onClick:q},"Cancelar")))),Ce):null},Ie={modalContent:[],isModalOpen:!1,isInventoryModalOpen:!1,modalInventoryContent:[],checkNumber:0,imgCheckNumber:0},ke=Object(S.g)(function(){var e=u+"api/warehousecodes",a=u+"api/savenewreference",t=u+"api/production",c=Object(n.useState)(!1),s=Object(r.a)(c,2),i=s[0],l=s[1],d=Object(n.useState)(""),p=Object(r.a)(d,2),E=p[0],h=p[1],b=Object(n.useState)(""),g=Object(r.a)(b,2),N=g[0],_=g[1],O=Object(n.useState)(""),C=Object(r.a)(O,2),S=C[0],j=C[1],y=Object(n.useState)(""),I=Object(r.a)(y,2),k=I[0],M=I[1],R=Object(n.useState)(null),w=Object(r.a)(R,2),A=w[0],q=w[1],T=[{codigo:"1",label:"1"},{codigo:"2",label:"2"},{codigo:"3",label:"3"},{codigo:"4",label:"4"}],D="",F=Object(n.useState)([]),P=Object(r.a)(F,2),U=P[0],L=P[1],x=Object(n.useReducer)(fe,Ie),B=Object(r.a)(x,2),W=B[0],G=B[1],X=Object(n.useState)(!1),z=Object(r.a)(X,2),H=z[0],Q=z[1],V=Object(n.useState)(1),Y=Object(r.a)(V,2),J=Y[0],Z=Y[1];Object(n.useEffect)(function(){m.a.get(e).then(function(e){}),m.a.get(t).then(function(e){G({type:"SUCCESSFUL_SAMPLE_INVENTORY",payload:e.data})}).catch(function(e){})},[i]);var $=function(){G({tpye:"CLOSE_MODAL"})},ae=function(){var e=document.querySelector(".add-reference-input"),a=document.querySelector(".add-description-input"),t=document.querySelector(".add-color-input"),n=document.querySelector(".add-imagename-input");e.value="",q(null),a.value="",t.value="",n.value="",L([])},te=function(e){e.preventDefault();var a=e.target.getAttribute("href"),t=document.querySelector(a).offsetTop;document.getElementById("scroll-design-section").scrollTo(0,t-55)},oe=function(e){Z(e)};return o.a.createElement("div",{className:"general-container-design"},o.a.createElement("div",{className:"navbar-design"},o.a.createElement("h2",{className:"navbar-design__h2"},"Taller dise\xf1o"),o.a.createElement("div",{className:"navbar-design-options"},o.a.createElement("div",{className:1===J?"tabs-design active-tabs-design":"tabs-design",onClick:function(){return oe(1)}},o.a.createElement("a",{href:"#add-reference-design-container",onClick:te},"Agregar una nueva muestra")),o.a.createElement("div",{className:2===J?"tabs-design active-tabs-design":"tabs-design",onClick:function(){return oe(2)}},o.a.createElement("a",{href:"#inventory-design-modal-section",onClick:te},"Inventario de las muestras")))),o.a.createElement("div",{className:"scroll-design-section",id:"scroll-design-section"},o.a.createElement("div",{className:"add-reference-design-container",id:"add-reference-design-container"},o.a.createElement("form",{className:"design-form"},o.a.createElement("h2",null,"Agregar muestra"),o.a.createElement("div",{className:"border-design-div"}),o.a.createElement("p",{className:"design-form__information"},"En este formulario puedes asociar insumos a una nueva muestra. Digita la referencia, selecciona la talla, agrega una descripcion, digita el color y la URL de la im\xe1gen. Luego, presiona el bot\xf3n 'A\xf1adir/Eliminar Insumos' para agregar o eliminar los insumos que consume esta nueva muestra. Por ultimo, presiona el bot\xf3n de 'Guardar'."),o.a.createElement("input",{className:"add-reference-input",type:"text",placeholder:"Referencia",onChange:function(e){return h(e.target.value)}}),o.a.createElement("div",{className:"dropdownDesign"},o.a.createElement(ne,{options:T,id:"codigo",label:"codigo",prompt:"Seleccionar el codigo de talla",value:A,onChange:function(e){return q(e)}})),o.a.createElement("input",{className:"add-description-input",type:"text",placeholder:"Descripci\xf3n",onChange:function(e){return _(e.target.value)}}),o.a.createElement("input",{className:"add-color-input",type:"text",placeholder:"Color",onChange:function(e){return j(e.target.value)}}),o.a.createElement("input",{className:"add-imagename-input",type:"text",placeholder:"URL de la im\xe1gen",onChange:function(e){return M(e.target.value)}}),o.a.createElement("button",{type:"button",className:"btn",id:"insumoBTN",onClick:function(){Q(!0)}},"A\xf1adir/Eliminar Insumos"),0!==U.length&&o.a.createElement("button",{type:"button",className:"btn",id:"saveBTN",onClick:function(){document.querySelector(".selected-option-size");var e=0;null===A?D="":"object"===typeof A?D=A.codigo.toString():"string"===typeof A&&(D=A),T.map(function(a){return a.codigo===D?e+=1:e});var t={addReference:E,addSize:D,addDescription:N,addColor:S,addImageName:k,addedInformationFromModal:U};""!=E&&""!=D&&""!=N&&""!=S&&""!=k&&0!=U.length?1===e?m.a.post(a,t).then(function(e){"SUCCESSFUL_REQUEST"===e.data&&(ae(),G({type:"SUCCESSFUL_REQUEST"}),l(!i)),"FAILED_REQUEST"===e.data&&G({type:"FAILED_REQUEST"}),"INVALID_REFERENCE"===e.data&&G({type:"INVALID_REFERENCE"})}):G({type:"CODE_DOES_NOT_EXIST"}):G({type:"WRONG_INPUT"})}},"Guardar")),o.a.createElement("div",{className:"supplies-added-design"},o.a.createElement("h3",null,"Insumos agregados"),0==U.length&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"no-data-image-container"},o.a.createElement("img",{src:ee.a,alt:"no-data",className:"no-data-image-container__img"})),o.a.createElement("p",{className:"no-data-paragraph"},"A\xfan no se han a\xf1adido insumos")),U.map(function(e){return o.a.createElement("div",{key:e.supplyCode,className:"insumo-add"},o.a.createElement("h2",null,"Item agregado: "),"Codigo: ",e.supplyCode," - Cantidad: ",e.supplyAmount)}))),o.a.createElement("div",{className:"inventory-design-modal-section",id:"inventory-design-modal-section"},o.a.createElement("h3",null,"Inventario de las muestras"),o.a.createElement("p",null,"En este apartado se despliega el inventario de las muestras. Si quieres saber que telas e insumos consume una muestra en especifico, presiona el bot\xf3n 'Informaci\xf3n de consumo'."),o.a.createElement(Ne,{closeModal:$,modalContent:W.modalInventoryContent}))),o.a.createElement(f,{isOpen:W.isModalOpen,closeModal:$},o.a.createElement("h1",{className:"modalWarehouseh1"},W.modalContent),1===W.imgCheckNumber&&o.a.createElement("img",{className:"modalWarehouseImg",src:K.a,alt:"modalImg"}),2===W.imgCheckNumber&&o.a.createElement("img",{className:"modalWarehouseImg",src:v.a,alt:"modalImg"})),o.a.createElement(ye,{isOpen:H,closeModal:function(){Q(!1)},suppliesFromDesign:function(e){return L(e)}}))}),Me=(t(213),t(98)),Re=t.n(Me),we=function(e,a){return"ERROR_REGISTER"===a.type?Object(N.a)({},e,{isModalOpen:!0,imgCheckNumber:2,modalContent:"Error: no ha digitado todos los campos"}):"ERROR_ROL"===a.type?Object(N.a)({},e,{isModalOpen:!0,imgCheckNumber:2,modalContent:"Error: No ha escogido un ROL"}):"INVALID PASSWORD"===a.type?Object(N.a)({},e,{isModalOpen:!0,imgCheckNumber:2,modalContent:"Error: Digite una contrase\xf1a mayor o igual a 8 caracteres"}):"PASSWORDS_DO_NOT_MATCH"===a.type?Object(N.a)({},e,{isModalOpen:!0,imgCheckNumber:2,modalContent:"Error: las contrase\xf1as NO coinciden"}):"USERNAME_EXIST"===a.type?Object(N.a)({},e,{isModalOpen:!0,imgCheckNumber:2,modalContent:"Error: el usuario ya existe"}):"SUCCESFUL_POST"===a.type?Object(N.a)({},e,{isModalOpen:!0,imgCheckNumber:1,modalContent:"\xa1Genial! \xa1Se ha registrado correctamente!"}):"CLOSE_MODAL"===a.type?Object(N.a)({},e,{isModalOpen:!1}):Object(N.a)({},e,{isModalOpen:!1,modalContent:""})},Ae={isModalOpen:!1,modalContent:"",imgCheckNumber:0},qe=function(){var e=Object(n.useState)(""),a=Object(r.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)(""),i=Object(r.a)(s,2),l=i[0],d=i[1],p=Object(n.useState)(""),E=Object(r.a)(p,2),h=E[0],b=E[1],g=Object(n.useState)(""),N=Object(r.a)(g,2),_=N[0],O=N[1],C=Object(n.useReducer)(we,Ae),S=Object(r.a)(C,2),j=S[0],y=S[1],I=u+"api/register",k=document.getElementById("username"),M=document.getElementById("password"),R=document.getElementById("validPassword"),w=document.getElementById("idRol");return o.a.createElement("div",{className:"general-register-container"},o.a.createElement("form",{className:"register-form"},o.a.createElement("h2",null,"Registrar usuario"),o.a.createElement("div",{className:"border-div"}),o.a.createElement("input",{type:"text",name:"username",placeholder:"Usuario",autoComplete:"off",id:"username",onChange:function(e){return c(e.target.value)}}),o.a.createElement("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",autoComplete:"off",id:"password",onChange:function(e){return d(e.target.value)}}),o.a.createElement("p",{className:"passwordInfo"},"Ingrese una contrase\xf1a de al menos 8 caracteres"),o.a.createElement("input",{type:"password",name:"validPassword",id:"validPassword",placeholder:"Contrase\xf1a nuevamente",autoComplete:"off",onChange:function(e){return b(e.target.value)}}),o.a.createElement("select",{id:"idRol",onChange:function(e){return O(e.target.value)}},o.a.createElement("option",{value:"0"},"Seleccionar rol"),o.a.createElement("option",{value:"1"},"Administrador"),o.a.createElement("option",{value:"2"},"Trabajador")),o.a.createElement("button",{onClick:function(e){if(e.preventDefault(),t&&l&&h&&_)if("0"!==_)if(l.length>=7)if(l===h){var a={username:t,password:l,idRol:_};m.a.post(I,{user:a}).then(function(e){var a=e.data;"1"===a?y({type:"USERNAME_EXIST"}):"2"===a&&(c(""),d(""),b(""),O(""),k.value="",M.value="",R.value="",w.value="0",y({type:"SUCCESFUL_POST"}))}).catch(function(e){console.log(e)})}else y({type:"PASSWORDS_DO_NOT_MATCH"});else y({type:"INVALID PASSWORD"});else y({type:"ERROR_ROL"});else y({type:"ERROR_REGISTER"})},className:"btn"},"Registrarse"),j.isModalOpen&&o.a.createElement(f,{isOpen:j.isModalOpen,closeModal:function(){y({type:"CLOSE_MODAL"})}},o.a.createElement("h1",{className:"modalWarehouseh1"},j.modalContent),1===j.imgCheckNumber&&o.a.createElement("img",{className:"modalWarehouseImg",src:K.a,alt:"modalImg"}),2===j.imgCheckNumber&&o.a.createElement("img",{className:"modalWarehouseImg",src:v.a,alt:"modalImg"}))),o.a.createElement("div",{className:"img-register-container"},o.a.createElement("img",{src:Re.a,alt:"register"})))},Te=Object(S.g)(function(){var e=u+"api/logout";return Object(n.useEffect)(function(){m.a.post(e).then(function(){window.location.href="/login"}).catch(function(e){console.log(e)})},[]),o.a.createElement(o.a.Fragment,null)}),De=(t(214),t(215),document.getElementById("warehouseProductsReq")),Fe=function(e){var a=function(){e.closeModal()},t=function(){e.handlerRefuse(e.index),e.closeModal()};return console.log(e.infoReq),e.isOpen?1===e.checkReqNumber?s.a.createPortal(o.a.createElement("div",{className:"ModalWarehouseProductsComponent"},o.a.createElement("div",{className:"ModalWarehouseProductsComponent__container"},o.a.createElement("button",{onClick:a,className:"ModalWarehouseProductsComponent__close-button"},"X"),o.a.createElement("h2",{className:"ModalWarehouseProductsComponent__h2"},"Lotes necesarios para cumplir con el pedido"),o.a.createElement("p",null,"First in, first out (FIFO)"),e.infoReq.map(function(e){return o.a.createElement("div",{className:"successModalCard"},o.a.createElement("h4",{className:"successModalCard__h4"},"Informaci\xf3n del producto"),o.a.createElement("div",{className:"successModalCard__lot"},"Numero lote: ",e.numero_lote),o.a.createElement("div",{className:"successModalCard__reference"},"Referencia: ",e.referencia),o.a.createElement("div",{className:"successModalCard__order"},"# de orden: ",e.numero_de_orden),o.a.createElement("div",{className:"successModalCard__amount"},"Cantidad: ",e.cantidad),o.a.createElement("div",{className:"successModalCard__date"},"Fecha: ",e.timestamp.replace("T"," ").slice(0,16)))}),o.a.createElement("div",{className:"buttonssuccessModalContiner"},o.a.createElement("button",{className:"btn buttonsSuccessModalContiner__approve",onClick:function(){e.handlerAccept(e.index),e.closeModal()}},"Aceptar"),o.a.createElement("button",{className:"btn buttonsSuccessModalContiner__reject",onClick:t},"Rechazar")))),De):2===e.checkReqNumber?s.a.createPortal(o.a.createElement("div",{className:"ModalWarehouseProductsComponent"},o.a.createElement("div",{className:"ModalWarehouseProductsComponent__container"},o.a.createElement("button",{onClick:a,className:"ModalWarehouseProductsComponent__close-button"},"X"),o.a.createElement("h2",{className:"ModalWarehouseProductsComponent__h2"},"Cantidad insuficiente"),o.a.createElement("p",null,"No se puede aceptar esta petici\xf3n debido a que no hay cantidad suficiente del siguiente producto."),e.infoReq.map(function(e){return o.a.createElement("div",{className:"successModalCard"},o.a.createElement("h4",{className:"successModalCard__h4"},"Informaci\xf3n del producto"),o.a.createElement("div",{className:"successModalCard__lot"},"Numero lote: ",e.numero_lote),o.a.createElement("div",{className:"successModalCard__reference"},"Referencia: ",e.referencia),o.a.createElement("div",{className:"successModalCard__order"},"# de orden: ",e.numero_de_orden),o.a.createElement("div",{className:"successModalCard__amount"},"Cantidad: ",e.cantidad),o.a.createElement("div",{className:"successModalCard__date"},"Fecha: ",e.timestamp.replace("T"," ").slice(0,16)))}),o.a.createElement("div",{className:"buttonRejectContainer"},o.a.createElement("button",{className:"btn buttonRejectContainer__Reject",onClick:function(){e.handlerPartialDelivery(e.index),e.closeModal()}},"PET PARCIAL"),o.a.createElement("button",{className:"btn buttonRejectContainer__Reject",onClick:t},"Rechazar petici\xf3n")))),De):s.a.createPortal(o.a.createElement("div",{className:"ModalWarehouseProductsComponent"},o.a.createElement("div",{className:"ModalWarehouseProductsComponent__container"},o.a.createElement("button",{onClick:a,className:"ModalWarehouseProductsComponent__close-button"},"X"),o.a.createElement("h2",{className:"ModalWarehouseProductsComponent__h2"},"Aviso: No hay existencias."),o.a.createElement("div",{className:"imgErrorWarehouseProductContainer"},o.a.createElement("img",{src:v.a,alt:"error image",className:"imgErrorWarehouseProductContainer__img"})),o.a.createElement("div",{className:"buttonssuccessModalContiner"},o.a.createElement("button",{className:"btn buttonsSuccessModalContiner__reject",onClick:t},"Rechazar Petici\xf3n")))),De):null},Pe=function(){var e=Object(n.useState)([]),a=Object(r.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)([]),i=Object(r.a)(s,2),l=i[0],d=i[1],p=Object(n.useState)([]),E=Object(r.a)(p,2),h=E[0],b=E[1],f=Object(n.useState)(""),g=Object(r.a)(f,2),v=(g[0],g[1],Object(n.useState)("")),_=Object(r.a)(v,2),O=(_[0],_[1],Object(n.useState)(!1)),C=Object(r.a)(O,2),S=C[0],j=C[1],y=Object(n.useState)(0),I=Object(r.a)(y,2),k=I[0],M=I[1],R=Object(n.useState)(0),w=Object(r.a)(R,2),A=w[0],q=w[1],T=Object(n.useState)(""),D=Object(r.a)(T,2),F=D[0],P=D[1],U=Object(n.useState)(1),L=Object(r.a)(U,2),x=L[0],B=L[1],W=u+"api/getwarehouseproducts",G=u+"api/shoprequestproducts",X=u+"api/getactualshoprequests",z=u+"api/savewarehouseproductsdecision",H=u+"api/updatepartialdelivery",Q=0,V=!0,Y=!1;Object(n.useEffect)(function(){m.a.get(W).then(function(e){c(e.data)}),m.a.get(X).then(function(e){b(e.data)})},[]);var J=function(e){e.preventDefault();var a=e.target.getAttribute("href"),t=document.querySelector(a).offsetTop;document.getElementById("scroll-warehouseproducts").scrollTo(0,t-55)},Z=function(e){B(e)};return o.a.createElement("div",{className:"general-container-warehouseproducts"},o.a.createElement("div",{className:"navbar-warehouseproducts"},o.a.createElement("h2",{className:"navbar-warehouseproducts__h2"},"Bodega Productos"),o.a.createElement("div",{className:"navbar-warehouseproducts-otpions"},o.a.createElement("div",{className:1===x?"tabs-warehouseproducts active-tabs-warehouseproducts":"tabs-warehouseproducts",onClick:function(){return Z(1)}},o.a.createElement("a",{href:"#products-warehouseproducts-section",onClick:J},"Productos terminados")),o.a.createElement("div",{className:2===x?"tabs-warehouseproducts active-tabs-warehouseproducts":"tabs-warehouseproducts",onClick:function(){return Z(2)}},o.a.createElement("a",{href:"#shops-request-warehouseproducts-section",onClick:J},"Peticiones")))),o.a.createElement("div",{className:"scroll-warehouseproducts",id:"scroll-warehouseproducts"},o.a.createElement("div",{className:"products-warehouseproducts-section",id:"products-warehouseproducts-section"},o.a.createElement("h3",{className:"products-finished-warehouseproducts-section__h3"},"Productos terminados"),o.a.createElement("p",{className:"products-finished-warehouseproducts-section__p"},"En este apartado se muestra el inventario de los productos terminados listos para ser enviado a las tiendas."),o.a.createElement("div",{className:"container_table-warehouseproducts"},o.a.createElement("div",{className:"table_title-warehouseproducts "},"Informaci\xf3n"),o.a.createElement("div",{className:"search-warehouseproducts-container"},o.a.createElement("i",{className:"gg-search"}),o.a.createElement("input",{type:"search",placeholder:"Buscar por referencia...",className:"search-filter-warehouseproducts",onChange:function(e){return function(e){P(e),Q=0,V=!0,Y=!1}(e.target.value)}})),o.a.createElement("div",{className:"sample-image-warehouseproducts-container"},o.a.createElement("div",{className:"table_header-warehouseproducts-sample"},"Producto"),o.a.createElement("div",{className:"table_header-warehouseproducts-img"},"Imagen")),o.a.createElement("div",{className:"scroll-modal-warehouseproducts"},t.filter(function(e){return Q+=1,""===F?e:e.referencia.toString().slice(0,F.length).includes(F)?(V=!1,e):void(Q==t.length&&1==V&&(Y=!0))}).map(function(e){return o.a.createElement("div",{className:"items_container-warehouseproducts",key:e.referencia},o.a.createElement("div",{className:"items-information-wproducts-container"},o.a.createElement("div",{className:"items-information-wp-lot"},"Numero de lote: ",e.numero_lote),o.a.createElement("div",{className:"items-information-wp-ref"},"Referencia: ",e.referencia),o.a.createElement("div",{className:"items-information-wp-order"},"Numero de orden: ",e.numero_de_orden),o.a.createElement("div",{className:"items-information-amount"},"Cantidad: ",e.cantidad),o.a.createElement("div",{className:"items-information-timestamp"},"Fecha:"," ",e.timestamp.replace("T"," ").slice(0,16))),o.a.createElement("div",{className:"table_item-warehouseproduct"},o.a.createElement("img",{className:"table_img-warehouseproduct",src:e.nombre_imagen})))}),Y&&o.a.createElement("img",{className:"notfoundImg-warehouseproducts",src:re.a,alt:"Not Found"})))),o.a.createElement("div",{className:"shops-request-warehouseproducts-section",id:"shops-request-warehouseproducts-section"},o.a.createElement("h3",{className:"shops-request-warehouseproducts-section__h3"},"Peticiones"),o.a.createElement("p",{className:"shops-request-warehouseproducts-section__p"},"En este apartado se encuentran la peticiones realizadas por las tiendas que necesitan stock."),0==h.length&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"no-data-image-warehouseproducts-container"},o.a.createElement("img",{src:ee.a,alt:"no-data",className:"no-data-image-warehouseproducts-container__img"})),o.a.createElement("p",{className:"no-data-image-warehouseproducts-paragraph"},"A\xfan no hay peticiones")),0!==h.length&&o.a.createElement("div",{className:"shopsRequestContainer"},h.map(function(e,a){return o.a.createElement("div",{className:"shopRequestCard"},o.a.createElement("h4",{className:"shopRequestCard__h4"},"Informaci\xf3n de la petici\xf3n"),o.a.createElement("div",{className:"shopRequestCard__order"},"# de orden: ",e.numero_de_orden),o.a.createElement("div",{className:"shopRequestCard__reference"},"Referencia: ",e.referencia),o.a.createElement("div",{className:"shopRequestCard__amount"},"Cantidad: ",e.cantidad),o.a.createElement("div",{className:"shopRequestCard__shop"},"Tienda: ",e.nombre_tienda),o.a.createElement("div",{className:"shopRequestCard_date"},"Fecha: ",e.timestamp.replace("T"," ").slice(0,16)),o.a.createElement("div",{className:"shopRequestCard__address"},"Direcci\xf3n: ",e.direccion?e.direccion:"0"),o.a.createElement("button",{className:"btn shopRequestCard__deploy",key:a,"data-index":a,onClick:function(){return function(e){m.a.post(G,{reference:h[e].referencia,amount:h[e].cantidad}).then(function(a){a.data[a.data.length-1].faltante?(d(a.data),M(2),q(e),j(!0)):"NO EXISTE"===a.data?(console.log("NO EXISTE REGISTRO"),M(3),q(e),j(!0)):(d(a.data),M(1),q(e),j(!0))})}(a)}},"Desplegar requerimientos"))})))),o.a.createElement(Fe,{isOpen:S,closeModal:function(){j(!1)},infoReq:l,checkReqNumber:k,handlerRefuse:function(e){var a=e;m.a.post(z,Object(N.a)({},h[a],{idDecision:0})).then(function(e){if("SUCCESSFUL_SAVING"===e.data){console.log("TODO NICE");var t=h.filter(function(e){return e.numero_de_orden!==h[a].numero_de_orden});b(t)}else console.log("BARRILETE")})},handlerAccept:function(e){var a=e;console.log("TODO NICE"),m.a.post(z,Object(N.a)({},h[a],{neededStock:l,idDecision:1})).then(function(e){console.log(e.data)});var t=h.filter(function(e){return e.numero_de_orden!=h[a].numero_de_orden});b(t)},handlerPartialDelivery:function(e){m.a.post(H,Object(N.a)({},h[e],{neededStock:l,idDecision:1})).then(function(e){console.log(e.data)})},index:A}))},Ue=t(16),Le=t.n(Ue),xe=t(33),Be=(t(218),t(219),function(e){var a=Object(n.useState)(""),t=Object(r.a)(a,2),c=t[0],s=t[1],i=0,l=!0,m=!1,u=function(e){s(e),i=0,l=!0,m=!1},d=function(a){e.receivedFunction(a)};return 1===e.checkNumber?o.a.createElement("div",{className:"container_table-shops"},o.a.createElement("div",{className:"table_title-shops"},"Informaci\xf3n"),o.a.createElement("div",{className:"search-shops-container"},o.a.createElement("i",{className:"gg-search"}),o.a.createElement("input",{type:"search",placeholder:"Buscar por referencia...",className:"search-filter-shops",onChange:function(e){return u(e.target.value)}})),o.a.createElement("div",{className:"sample-image-shops-container"},o.a.createElement("div",{className:"table_header-shops-sample"},"Producto"),o.a.createElement("div",{className:"table_header-shops-img"},"Imagen")),o.a.createElement("div",{className:"scroll-modal-shops"},e.arrayInformation.filter(function(a){return i+=1,""===c?a:a.referencia.toString().slice(0,c.length).includes(c)?(l=!1,a):void(i==e.arrayInformation.length&&1==l&&(m=!0))}).map(function(e,a){return o.a.createElement("div",{className:"items_container-shops",key:a},o.a.createElement("div",{className:"items-information-shops-container"},o.a.createElement("div",{className:"items-information-shops__lot"},"Numero de lote: ",e.numero_lote),o.a.createElement("div",{className:"items-information-shops__ref"},"Referencia: ",e.referencia),o.a.createElement("div",{className:"items-information-shops__order"},"Numero de orden: ",e.numero_de_orden),o.a.createElement("div",{className:"items-information-shops__shop"},"Tienda destino: ",e.nombre_tienda),o.a.createElement("div",{className:"items-information-shops__amount"},"Cantidad: ",e.cantidad),o.a.createElement("div",{className:"items-information-shops__timestamp"},"Fecha: ",e.timestamp.replace("T"," ").slice(0,16)),o.a.createElement("div",{className:"items-information-shops-button-container"},o.a.createElement("button",{className:"btn items-information-shops__button",onClick:function(){return d(a)}},"Confirmar Recibido"))),o.a.createElement("div",{className:"table_item-shops"},o.a.createElement("img",{className:"table_img-shops",src:e.nombre_imagen})))}),m&&o.a.createElement("img",{className:"notfoundImg-shops",src:re.a,alt:"Not Found"}))):o.a.createElement("div",{className:"container_table-shops"},o.a.createElement("div",{className:"table_title-shops"},"Informaci\xf3n"),o.a.createElement("div",{className:"search-shops-container"},o.a.createElement("i",{className:"gg-search"}),o.a.createElement("input",{type:"search",placeholder:"Buscar por referencia...",className:"search-filter-shops",onChange:function(e){return u(e.target.value)}})),o.a.createElement("div",{className:"sample-image-shops-container"},o.a.createElement("div",{className:"table_header-shops-sample"},"Producto"),o.a.createElement("div",{className:"table_header-shops-img"},"Imagen")),o.a.createElement("div",{className:"scroll-modal-shops"},e.arrayInformation.filter(function(a){return i+=1,""===c?a:a.referencia.toString().slice(0,c.length).includes(c)?(l=!1,a):void(i==e.arrayInformation.length&&1==l&&(m=!0))}).map(function(e,a){return o.a.createElement("div",{className:"items_container-shops",key:a},o.a.createElement("div",{className:"items-information-shops-container"},o.a.createElement("div",{className:"items-information-shops__lot"},"Numero de lote: ",e.numero_lote),o.a.createElement("div",{className:"items-information-shops__ref"},"Referencia: ",e.referencia),o.a.createElement("div",{className:"items-information-shops__order"},"Numero de orden: ",e.numero_de_orden),o.a.createElement("div",{className:"items-information-shops__shop"},"Tienda: ",e.nombre_tienda),o.a.createElement("div",{className:"items-information-shops__amount"},"Cantidad: ",e.cantidad),o.a.createElement("div",{className:"items-information-shops__timestamp"},"Fecha: ",e.timestamp.replace("T"," ").slice(0,16))),o.a.createElement("div",{className:"table_item-shops"},o.a.createElement("img",{className:"table_img-shops",src:e.nombre_imagen})))}),m&&o.a.createElement("img",{className:"notfoundImg-shops",src:re.a,alt:"Not Found"})))}),We=(t(220),document.getElementById("ModalShopsReq")),Ge=function(e){var a=u+"api/modalrequiredstock",t=e.requiredStock,c=Object(n.useState)([]),i=Object(r.a)(c,2),l=i[0],d=i[1],p=function(){e.closeModal()},E=function(a){e.handleDecision(a),e.closeModal()};return console.log(e.checkReqNumber),Object(n.useEffect)(function(){3!==e.checkReqNumber&&m.a.post(a,t).then(function(e){d(e.data)})},[]),e.isOpen?1===e.checkReqNumber?s.a.createPortal(o.a.createElement("div",{className:"ModalShopsComponent"},o.a.createElement("div",{className:"ModalShopsComponent__container"},o.a.createElement("button",{onClick:p,className:"ModalShopsComponent__close-button"},"X"),o.a.createElement("h2",{className:"ModalShopsComponent__h2"},"Lotes necesarios para cumplir con el pedido"),o.a.createElement("p",null,"First in, first out (FIFO)"),l.map(function(e){return o.a.createElement("div",{className:"ModalShopsCard"},o.a.createElement("h4",{className:"ModalShopsCard__h4"},"Informaci\xf3n del producto"),o.a.createElement("div",{className:"ModalShopsCard__lot"},"Numero lote: ",e.numero_lote),o.a.createElement("div",{className:"ModalShopsCard__reference"},"Referencia: ",e.referencia),o.a.createElement("div",{className:"ModalShopsCard__amount"},"Cantidad: ",e.cantidadTotal))}),o.a.createElement("div",{className:"buttonsModalShopsContainer"},o.a.createElement("button",{className:"btn buttonsModalShopsContainer__approve",onClick:function(){return E(1)}},"Aceptar"),o.a.createElement("button",{className:"btn buttonsModalShopsContainer__reject",onClick:function(){return E(0)}},"Rechazar")))),We):2===e.checkReqNumber?s.a.createPortal(o.a.createElement("div",{className:"ModalShopsComponent"},o.a.createElement("div",{className:"ModalShopsComponent__container"},o.a.createElement("button",{onClick:p,className:"ModalShopsComponent__close-button"},"X"),o.a.createElement("h2",{className:"ModalShopsComponent__h2"},"ATENCI\xd3N: No hay el stock exacto"),o.a.createElement("p",null,"Para cumplir con este pedido faltar\xedan ",e.stockMissingAmount," ","productos. Si as\xed lo deseas pueden pedir la cantidad disponible:"," ",e.stockAvailableAmount," productos."),l.map(function(e){return o.a.createElement("div",{className:"ModalShopsCard"},o.a.createElement("h4",{className:"ModalShopsCard__h4"},"Informaci\xf3n del producto"),o.a.createElement("div",{className:"ModalShopsCard__lot"},"Numero lote: ",e.numero_lote),o.a.createElement("div",{className:"ModalShopsCard__reference"},"Referencia: ",e.referencia),o.a.createElement("div",{className:"ModalShopsCard__amount"},"Cantidad: ",e.cantidadTotal))}),o.a.createElement("div",{className:"buttonsModalShopsContainer"},o.a.createElement("button",{className:"btn buttonsModalShopsContainer__approve",onClick:function(){return E(2)}},"Aceptar"),o.a.createElement("button",{className:"btn buttonsModalShopsContainer__reject",onClick:function(){return E(0)}},"Rechazar")))),We):s.a.createPortal(o.a.createElement("div",{className:"ModalShopsComponent"},o.a.createElement("div",{className:"ModalShopsComponent__container"},o.a.createElement("button",{onClick:p,className:"ModalShopsComponent__close-button"},"X"),o.a.createElement("h2",{className:"ModalShopsComponent__h2"},"No hay existencias de esta referencia en esta tienda"),o.a.createElement("div",{className:"imgErrorShopsContainer"},o.a.createElement("img",{src:v.a,alt:"error image",className:"imgErrorShopsContainer__img"})),o.a.createElement("div",{className:"buttonsRejectShopsModalContainer"},o.a.createElement("button",{className:"btn buttonsRejectShopsModalContainer__reject",onClick:function(){return E(0)}},"Rechazar Petici\xf3n")))),We):null},Xe=function(e,a){return"SUCCESSFUL_REQUEST"===a.type?Object(N.a)({},e,{modalContent:"Petici\xf3n realizada",imgCheckNumber:1,isModalOpen:!0}):"WRONG_INPUT"===a.type?Object(N.a)({},e,{modalContent:"Error: Digite los campos bien",isModalOpen:!0,imgCheckNumber:2}):"CLOSE_MODAL"===a.type?Object(N.a)({},e,{isModalOpen:!1,imgCheckNumber:0,modalContent:""}):Object(N.a)({},e,{isModalOpen:!1,modalContent:"",imgCheckNumber:0})},ze={isModalOpen:!1,modalContent:"",imgCheckNumber:0},He=function(){var e=Object(n.useState)([]),a=Object(r.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)([]),i=Object(r.a)(s,2),l=i[0],d=i[1],p=Object(n.useState)([]),E=Object(r.a)(p,2),h=E[0],b=E[1],g=Object(n.useState)([]),_=Object(r.a)(g,2),O=_[0],C=_[1],S=Object(n.useState)(null),j=Object(r.a)(S,2),y=j[0],I=j[1],k=Object(n.useState)(null),M=Object(r.a)(k,2),R=M[0],w=M[1],A=Object(n.useState)(""),q=Object(r.a)(A,2),T=q[0],D=q[1],F=Object(n.useState)(""),P=Object(r.a)(F,2),U=(P[0],P[1],Object(n.useState)("")),L=Object(r.a)(U,2),x=(L[0],L[1],Object(n.useState)([])),B=Object(r.a)(x,2),W=(B[0],B[1],Object(n.useState)("")),G=Object(r.a)(W,2),X=(G[0],G[1],Object(n.useState)([])),z=Object(r.a)(X,2),H=z[0],Q=z[1],V=Object(n.useState)([]),Y=Object(r.a)(V,2),J=Y[0],Z=Y[1],$=Object(n.useState)([]),ae=Object(r.a)($,2),te=ae[0],oe=ae[1],ce=Object(n.useState)([]),se=Object(r.a)(ce,2),re=se[0],ie=se[1],le=Object(n.useState)(!1),me=Object(r.a)(le,2),ue=me[0],de=me[1],pe=Object(n.useState)(0),Ee=Object(r.a)(pe,2),he=Ee[0],be=Ee[1],fe=Object(n.useState)(0),ge=Object(r.a)(fe,2),ve=ge[0],Ne=ge[1],_e=Object(n.useState)(!1),Oe=Object(r.a)(_e,2),Ce=Oe[0],Se=Oe[1],je=Object(n.useState)(0),ye=Object(r.a)(je,2),Ie=ye[0],ke=ye[1],Me=Object(n.useState)(0),Re=Object(r.a)(Me,2),we=Re[0],Ae=Re[1],qe=Object(n.useState)([]),Te=Object(r.a)(qe,2),De=Te[0],Fe=Te[1],Pe=Object(n.useReducer)(Xe,ze),Ue=Object(r.a)(Pe,2),We=Ue[0],He=Ue[1],Qe=Object(n.useRef)(null),Ve=Object(n.useRef)(null),Ye=Object(n.useState)(!1),Je=Object(r.a)(Ye,2),Ze=Je[0],Ke=Je[1],$e=Object(n.useState)(null),ea=Object(r.a)($e,2),aa=ea[0],ta=ea[1],na=Object(n.useState)(""),oa=Object(r.a)(na,2),ca=oa[0],sa=oa[1],ra=Object(n.useState)(null),ia=Object(r.a)(ra,2),la=ia[0],ma=ia[1],ua=Object(n.useState)(null),da=Object(r.a)(ua,2),pa=da[0],Ea=da[1],ha=Object(n.useState)(1),ba=Object(r.a)(ha,2),fa=ba[0],ga=ba[1],va=u+"api/references",Na=u+"api/shopsinformation",_a=u+"api/shopwarehouseproductsrequest",Oa=u+"api/deliverystate",Ca=u+"api/getactualinventory",Sa=u+"api/getactualrequestbetweenshops",ja=u+"api/updatereceivedstate",ya=u+"api/requestsbetweenshops",Ia=u+"api/decisionbetweenshops",ka=u+"api/save_newshop_request";Object(n.useEffect)(function(){m.a.get(va).then(function(e){c(e.data)}),m.a.get(Na).then(function(e){d(e.data),b(e.data),C(e.data)}),m.a.get(Ca).then(function(e){Z(e.data)}),m.a.get(Oa).then(function(e){Q(e.data),console.log(e.data)}),m.a.get(Sa).then(function(e){ie(e.data),console.log(e.data)})},[Ze]);var Ma=function(){var e=Object(xe.a)(Le.a.mark(function e(a,t){var n;return Le.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(u+"api/check_existing_value",{check_case:a,payload:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(a,t){return e.apply(this,arguments)}}(),Ra=function(e,a){var t="";return"object"===typeof e&&null!==e?t=e[a].toString():"string"===typeof e&&null!==e?t=e:t},wa=function(){var e=Object(xe.a)(Le.a.mark(function e(){var a,t,n,o,c,s,r;return Le.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ra(y,"referencia"),t=Ra(R,"idTienda"),n=!1,o=!1,c=parseFloat(T),e.next=7,Ma(0,a);case 7:return n=e.sent,e.next=10,Ma(1,t);case 10:o=e.sent,console.log(T,a,t),console.log(t),s=""!==t,r=""!==a,Number.isInteger(c)&&c>0&&s&&r&&o&&n?m.a.post(_a,{actualAmount:T,referenceSelection:a,idShop:t}).then(function(e){console.log(e.data),He({type:"SUCCESSFUL_REQUEST"}),I(null),w(null),Ve.current.value=""}):He({type:"WRONG_INPUT"});case 16:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Aa=function(){Se(!1),He({type:"CLOSE_MODAL"})},qa=function(){var e=Object(xe.a)(Le.a.mark(function e(a,t){var n;return Le.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(a,t);case 3:return n=e.sent,console.log("RESPONSE",n.data),e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(0),console.error("There is an error",e.t0),e.abrupt("return");case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(a,t){return e.apply(this,arguments)}}(),Ta=function(){var e=Object(xe.a)(Le.a.mark(function e(){var a,t,n,o,c,s,r,i,l,m,u;return Le.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ra(aa,"referencia"),t=Ra(la,"idTienda"),n=Ra(pa,"idTienda"),o=!1,c=!1,s=!1,r=parseFloat(ca),e.next=9,Ma(0,a);case 9:return o=e.sent,e.next=12,Ma(1,t);case 12:return c=e.sent,e.next=15,Ma(1,n);case 15:if(s=e.sent,i=""!==a&&o,l=""!==t&&c,m=""!==n&&s,!(Number.isInteger(r)&&r>0&&i&&l&&m)){e.next=33;break}return u={cantidad:ca,referencia:a,tienda_origen:t,tienda_destino:n},e.next=23,qa(ka,u);case 23:e.sent,ta(null),Qe.current.value="",ma(null),Ea(null),de(!1),Ke(!Ze),He({type:"SUCCESSFUL_REQUEST"}),e.next=34;break;case 33:He({type:"WRONG_INPUT"});case 34:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Da=function(){var e=Object(xe.a)(Le.a.mark(function e(a){var t,n,o,c;return Le.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(re[a]),t=re[a],e.next=4,qa(ya,Object(N.a)({},re[a]));case 4:n=e.sent,Fe([t.cantidad,t.tienda_destino,t.numero_peticion]),Ne(a),void 0!==n[0]?(o=n.length,c=parseInt(De[0]),o<c?(console.log("FALTAN",c-o),be(2),Se(!0),ke(c-o),Ae(o)):(console.log("TODO BIEN"),be(1),oe(n),Se(!0))):(console.log("NO HAY EXISTENCIAS"),be(3),Se(!0));case 8:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),Fa=function(){var e=Object(xe.a)(Le.a.mark(function e(a){var t,n,o;return Le.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("MANEJO DECISION",a),1!==a){e.next=9;break}return e.next=4,qa(Ia,{numeros_de_entrada:te,data:{tienda_destino:De[1],numero_peticion:De[2],id_decision:a}});case 4:t=e.sent,Ke(!Ze),console.log(t),e.next=23;break;case 9:if(0!==a){e.next=17;break}return e.next=12,qa(Ia,{data:{numero_peticion:De[2],id_decision:a}});case 12:n=e.sent,Ke(!Ze),console.log(n),e.next=23;break;case 17:if(2!==a){e.next=23;break}return e.next=20,qa(Ia,{numeros_de_entrada:te,data:{tienda_destino:De[1],numero_peticion:De[2],id_decision:a,envio_real:Ie}});case 20:o=e.sent,Ke(!Ze),console.log(o);case 23:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),Pa=function(e){e.preventDefault();var a=e.target.getAttribute("href"),t=document.querySelector(a).offsetTop;document.getElementById("scroll-shops").scrollTo(0,t-55)},Ua=function(e){ga(e)};return o.a.createElement("div",{className:"general-container-shops"},o.a.createElement("div",{className:"navbar-shops"},o.a.createElement("h2",{className:"navbar-shops__h2"},"Tiendas"),o.a.createElement("div",{className:"navbar-shops-otpions"},o.a.createElement("div",{className:1===fa?"tabs-shops active-tabs-shops":"tabs-shops",onClick:function(){return Ua(1)}},o.a.createElement("a",{href:"#shops-request-wp",onClick:Pa},"Peticion a bodega productos")),o.a.createElement("div",{className:2===fa?"tabs-shops active-tabs-shops":"tabs-shops",onClick:function(){return Ua(2)}},o.a.createElement("a",{href:"#products-process-shops-section",onClick:Pa},"Productos en procesos")),o.a.createElement("div",{className:3===fa?"tabs-shops active-tabs-shops":"tabs-shops",onClick:function(){return Ua(3)}},o.a.createElement("a",{href:"#products-send-shops-section",onClick:Pa},"Productos enviados")),o.a.createElement("div",{className:4===fa?"tabs-shops active-tabs-shops":"tabs-shops",onClick:function(){return Ua(4)}},o.a.createElement("a",{href:"#reqs-between-shops-section",onClick:Pa},"Petici\xf3n entre tiendas")),o.a.createElement("div",{className:5===fa?"tabs-shops active-tabs-shops":"tabs-shops",onClick:function(){return Ua(5)}},o.a.createElement("a",{href:"#active-req-between-shops-section",onClick:Pa},"Peticiones activas entre tiendas")))),o.a.createElement("div",{className:"scroll-shops-section",id:"scroll-shops"},o.a.createElement("div",{className:"shops-request-wp",id:"shops-request-wp"},o.a.createElement("div",{className:"makeReqShopsContainer"},o.a.createElement("h4",null,"Enviar peticiones a Bodega Producto"),o.a.createElement("div",{className:"makeReqShopsContainer__dropdownReference"},o.a.createElement(ne,{options:t,id:"referencia",label:"referencia",prompt:"Seleccionar referencia",value:y,onChange:function(e){return I(e)}})),o.a.createElement("input",{ref:Ve,id:"actualAmount",name:"actualAmount",className:"actualAmount",placeholder:"Digite la cantidad",type:"number",autoComplete:"off",onChange:function(e){D(e.target.value)}}),o.a.createElement("div",{className:"makeReqShopsContainer__dropdownShop"},o.a.createElement(ne,{options:l,id:"idTienda",label:"nombre_tienda",prompt:"Seleccionar tienda",value:R,onChange:function(e){return w(e)}})),o.a.createElement("button",{className:"btn makeReqButtonContainer",type:"button",onClick:wa},"Enviar")),o.a.createElement("div",{className:"information-shop-request-wp-container"},o.a.createElement("h2",{className:"information-shop-request-wp-container__h2"},"Enviar petici\xf3n a Bodega Productos"),o.a.createElement("p",{className:"information-shop-request-wp-container__p"},"\xbfNecesitas stock en alguna tienda? Entonces env\xeda una petici\xf3n a Bodega Productos para enviar productos a una tienda en concreto. Solo escoge la referencia del producto que necesitas, digita cuantos deseas, selecciona la tienda de destino y preciona el bot\xf3n de enviar. As\xed de sencillo :)"))),o.a.createElement("div",{className:"products-process-shops-section",id:"products-process-shops-section"},o.a.createElement("h3",{className:"products-process-shops-section__h3"},"Inventario tiendas"),o.a.createElement("p",{className:"products-process-shops-section__p"},"En este apartado se encuentra el inventario de todas las tiendas."),o.a.createElement(Be,{arrayInformation:J,checkNumber:0})),o.a.createElement("div",{className:"products-send-shops-section",id:"products-send-shops-section"},o.a.createElement("h3",{className:"products-send-shops-section__h3"},"Productos en envio"),o.a.createElement("p",{className:"products-send-shops-section__p"},"Aqu\xed se encuentran los productos que est\xe1n en camino hacia una o varias tiendas. Por favor, informe que ya ha llegado el pedido presionando el bot\xf3n 'Confirmar recibido'."),o.a.createElement(Be,{arrayInformation:H,checkNumber:1,receivedFunction:function(e){m.a.post(ja,H[e]).then(function(e){Q(e.data[0]),Z(e.data[1])}),Ke(!Ze)}})),o.a.createElement("div",{className:"reqs-between-shops-section",id:"reqs-between-shops-section"},o.a.createElement("div",{className:"reqs-between-shops"},o.a.createElement("h4",null,"Enviar petici\xf3n entre tiendas"),o.a.createElement("div",{className:"reqs-between-shops__dropdownReference"},o.a.createElement(ne,{options:t,id:"referencia",label:"referencia",prompt:"Seleccionar referencia",value:aa,onChange:function(e){return ta(e)}})),o.a.createElement("input",{ref:Qe,id:"actualAmount",name:"actualAmount",className:"actualAmount",placeholder:"Digite la cantidad",type:"number",autoComplete:"off",onChange:function(e){sa(e.target.value)}}),o.a.createElement("div",{className:"reqs-between-shops__dropdownShop"},o.a.createElement(ne,{options:h,id:"idTienda",label:"nombre_tienda",prompt:"Seleccionar la tienda origen",value:la,onChange:function(e){ma(e),function(e){var a=JSON.stringify(e.nombre_tienda).replace(/['"]+/g,"");m.a.get(Na).then(function(e){var t=e.data.filter(function(e){return e.nombre_tienda!==a});C(t),Ea(null),de(!0)})}(e)}})),o.a.createElement("div",{className:"reqs-between-shops__dropdownShop"},ue?o.a.createElement(ne,{options:O,id:"idTienda",label:"nombre_tienda",prompt:"Seleccionar la tienda de destino",value:pa,onChange:function(e){return Ea(e)}}):null),o.a.createElement("div",{className:"reqs-between-shops-buttonContainer"},o.a.createElement("button",{className:"btn",type:"button",onClick:Ta},"Enviar"))),o.a.createElement("div",{className:"information-between-shops-container"},o.a.createElement("h2",{className:"information-between-shops-container__h2"},"Enviar petici\xf3n entre tiendas"),o.a.createElement("p",{className:"information-between-shops-container__p"},"\xbfNecesitas urgente un producto que solicita un cliente y est\xe1 en otra tienda? Entonces env\xeda una petici\xf3n entre tiendas. Solo escoge la referencia del producto que necesitas, digita la cantidad que requieres, escoge la tienda donde se encuentra el producto, luego escoge la tienda de destino y presiona el bot\xf3n enviar. As\xed de f\xe1cil :)"))),o.a.createElement("div",{className:"active-req-between-shops-section",id:"active-req-between-shops-section"},o.a.createElement("h3",{className:"active-req-between-shops-section__h3"},"Peticiones activas entre tiendas"),o.a.createElement("p",{className:"active-req-between-shops-section__p"},"En este apartado se encuentran la peticiones de las tiendas que han solicitado productos de otras tiendas."),0==re.length&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"no-data-image-shops-container"},o.a.createElement("img",{src:ee.a,alt:"no-data",className:"no-data-image-shops-container__img"})),o.a.createElement("p",{className:"no-data-image-shops-paragraph"},"A\xfan no hay peticiones")),0!==re.length&&o.a.createElement("div",{className:"activeRequestBetweenShopsContainer"},re.map(function(e,a){return o.a.createElement("div",{className:"activeRequestBetweenShopsCard"},o.a.createElement("h4",{className:"activeRequestBetweenShopsCard__h4"},"Informaci\xf3n de la petici\xf3n"),o.a.createElement("div",{className:"activeRequestBetweenShopsCard__order"},"# de petici\xf3n: ",e.numero_peticion),o.a.createElement("div",{className:"activeRequestBetweenShopsCard__reference"},"Referencia: ",e.referencia),o.a.createElement("div",{className:"activeRequestBetweenShopsCard__amount"},"Cantidad: ",e.cantidad),o.a.createElement("div",{className:"activeRequestBetweenShopsCard__shop"},"Tienda Origen: ",e.tienda_origen_nombre),o.a.createElement("div",{className:"activeRequestBetweenShopsCard__shop"},"Tienda Destino: ",e.tienda_destino_nombre),o.a.createElement("div",{className:"activeRequestBetweenShopsCard__date"},"Fecha: ",e.timestamp.replace("T"," ").slice(0,16)),o.a.createElement("button",{className:"btn activeRequestBetweenShopsCard__deploy",key:a,"data-index":a,onClick:function(){return Da(a)}},"Desplegar requerimientos"))})))),o.a.createElement(f,{isOpen:We.isModalOpen,closeModal:Aa},o.a.createElement("h1",{className:"modalWarehouseh1"},We.modalContent),1===We.imgCheckNumber&&o.a.createElement("img",{className:"modalWarehouseImg",src:K.a,alt:"modalImg"}),2===We.imgCheckNumber&&o.a.createElement("img",{className:"modalWarehouseImg",src:v.a,alt:"modalImg"})),Ce&&o.a.createElement(Ge,{isOpen:!0,closeModal:Aa,checkReqNumber:he,indexReq:ve,handleDecision:Fa,stockMissingAmount:Ie,stockAvailableAmount:we,requiredStock:te}))},Qe=t(23);var Ve=function(e){var a=e.isAuth,t=e.component,n=(e.enable,Object(Qe.a)(e,["isAuth","component","enable"]));return o.a.createElement("div",null,o.a.createElement(S.b,Object.assign({},n,{render:function(e){return a?o.a.createElement(S.a,{to:{pathname:"/",state:{from:e.location}}}):o.a.createElement(t,null)}})))},Ye=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Error"))};var Je=function(e){var a=e.isAuth,t=e.component,n=Object(Qe.a)(e,["isAuth","component"]);return o.a.createElement("div",null,o.a.createElement(S.b,Object.assign({},n,{render:function(e){return a?o.a.createElement(t,null):o.a.createElement(S.a,{to:{pathname:"/login",state:{from:e.location}}})}})))},Ze=function(e){var a=e.rol,t=e.isAuth;return e.enableRoutes?o.a.createElement("div",null,o.a.createElement(S.d,null,1===a.idRol&&o.a.createElement(Je,{exact:!0,path:"/register",component:qe,isAuth:t}),o.a.createElement(Je,{exact:!0,path:"/",component:Q,isAuth:t}),o.a.createElement(S.b,{exact:!0,path:"/dressmaking",component:ce}),o.a.createElement(Je,{path:"/warehouse",component:be,isAuth:t}),o.a.createElement(Je,{exact:!0,path:"/dise\xf1o",component:ke,isAuth:t}),o.a.createElement(Je,{exact:!0,path:"/logout",component:Te,isAuth:t}),o.a.createElement(Je,{exact:!0,path:"/warehouseproducts",component:Pe,isAuth:t}),o.a.createElement(Je,{exact:!0,path:"/shops",component:He,isAuth:t}),o.a.createElement(S.b,{path:"*",component:Ye}))):o.a.createElement(o.a.Fragment,null)};m.a.defaults.withCredentials=!0;var Ke=function(){var e=Object(n.useState)(!1),a=Object(r.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)(!1),l=Object(r.a)(s,2),p=l[0],E=l[1],h=Object(n.useState)(!1),b=Object(r.a)(h,2),f=b[0],g=b[1],v=u+"api/isAuth",N=Object(n.useContext)(d),_={idRol:0};N&&(_={idRol:N.idRol}),Object(n.useEffect)(function(){m.a.get(v).then(function(e){e.data?(c(!0),E(!0)):(c(!1),E(!1))}).catch(function(e){console.log(e)})},[t]),Object(n.useEffect)(function(){},[f]);return p?o.a.createElement(i.a,null,o.a.createElement("div",{className:"maxDiv-Control-App"},o.a.createElement(M,{switchActive:function(){g(!0)}}),o.a.createElement("div",{className:"maxDiv-Control-App__Routes"},o.a.createElement(Ze,{rol:_,isAuth:t,enableRoutes:f})))):o.a.createElement(i.a,null,o.a.createElement("switch",null,o.a.createElement(Ve,{path:"/login",component:C,isAuth:t,enable:p}),o.a.createElement(Je,{exact:!0,path:"/",component:Q,isAuth:t}),o.a.createElement(Je,{exact:!0,path:"/dressmaking",component:ce}),o.a.createElement(Je,{path:"/warehouse",component:be,isAuth:t}),o.a.createElement(Je,{exact:!0,path:"/dise\xf1o",component:ke,isAuth:t}),o.a.createElement(Je,{exact:!0,path:"/logout",component:Te,isAuth:t}),o.a.createElement(Je,{exact:!0,path:"/warehouseproducts",component:Pe,isAuth:t}),o.a.createElement(Je,{exact:!0,path:"/shops",component:He,isAuth:t}),o.a.createElement(Je,{exact:!0,path:"/register",component:qe,isAuth:t})))};s.a.render(o.a.createElement(p,null,o.a.createElement(Ke,null)),document.getElementById("root"))},29:function(e,a,t){e.exports=t.p+"static/media/Not Found.78ed35cb.svg"},67:function(e,a,t){e.exports=t.p+"static/media/Loading.0d06e13b.svg"},92:function(e,a,t){e.exports=t.p+"static/media/Securelogin.647d91f1.svg"},94:function(e,a,t){e.exports=t.p+"static/media/shop.723592c7.png"},95:function(e){e.exports=[{value:"01",label:"Enero"},{value:"02",label:"Febrero"},{value:"03",label:"Marzo"},{value:"04",label:"Abril"},{value:"05",label:"Mayo"},{value:"06",label:"Junio"},{value:"07",label:"Julio"},{value:"08",label:"Agosto"},{value:"09",label:"Septiembre"},{value:"10",label:"Octubre"},{value:"11",label:"Noviembre"},{value:"12",label:"Diciembre"}]},96:function(e,a,t){e.exports=t.p+"static/media/notify.0ada35db.svg"},98:function(e,a,t){e.exports=t.p+"static/media/register.68e633cb.svg"}},[[101,1,2]]]);
//# sourceMappingURL=main.5908f7bb.chunk.js.map