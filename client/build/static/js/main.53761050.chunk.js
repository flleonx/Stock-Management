(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,a,t){e.exports=t(221)},12:function(e,a,t){e.exports=t.p+"static/media/error.2fc8b26b.svg"},124:function(e,a,t){},125:function(e,a,t){},126:function(e,a,t){},133:function(e,a,t){},199:function(e,a,t){},20:function(e,a,t){e.exports=t.p+"static/media/complete.c8683c24.svg"},200:function(e,a,t){},201:function(e,a,t){},202:function(e,a,t){},203:function(e,a,t){},204:function(e,a,t){},205:function(e,a,t){},206:function(e,a,t){},207:function(e,a,t){},208:function(e,a,t){},209:function(e,a,t){},210:function(e,a,t){},211:function(e,a,t){},212:function(e,a,t){},213:function(e,a,t){},214:function(e,a,t){},215:function(e,a,t){},218:function(e,a,t){},219:function(e,a,t){},22:function(e,a,t){e.exports=t.p+"static/media/no-data.c2258281.svg"},220:function(e,a,t){},221:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),o=t(9),s=t.n(o),r=t(2),i=t(17),l=t(6),m=t.n(l),u="http://gestion-inventarios.ddns.net:52000/",d=Object(n.createContext)({});var p=function(e){var a=Object(n.useState)(),t=Object(r.a)(a,2),o=t[0],s=t[1],i=u+"api/isAuth";return Object(n.useEffect)(function(){m.a.get(i).then(function(e){s(e.data)})},[]),c.a.createElement(d.Provider,{value:o},e.children)},E=(t(124),t(92)),h=t.n(E),b=(t(125),document.getElementById("modal")),f=function(e){return e.isOpen?s.a.createPortal(c.a.createElement("div",{className:"ModalComponent"},c.a.createElement("div",{className:"ModalComponent__container"},c.a.createElement("button",{onClick:function(){e.closeModal()},className:"ModalComponent__close-button"},"X"),e.children)),b):null},g=t(12),v=t.n(g),N=t(7),_=function(e,a){if("LOGIN_INFORMATION_INCOMPLETE"===a.type)return Object(N.a)({},e,{isModalOpen:!0,modalContent:"Error: No ha digitado todos los campos"});if("ERROR_AUTH"===a.type)return Object(N.a)({},e,{isModalOpen:!0,modalContent:"Error: El Usuario y/o la contrase\xf1a son incorrectos"});if("CLOSE_MODAL"===a.type)return Object(N.a)({},e,{isModalOpen:!1});throw new Error("No matching action Type")},O={isModalOpen:!1,modalContent:""},C=function(){var e=Object(n.useState)(""),a=Object(r.a)(e,2),t=a[0],o=a[1],s=Object(n.useState)(""),i=Object(r.a)(s,2),l=i[0],d=i[1],p=Object(n.useReducer)(_,O),E=Object(r.a)(p,2),b=E[0],g=E[1],N=u+"api/login";return c.a.createElement("div",{className:"general-login-container"},c.a.createElement("form",{className:"login-form"},c.a.createElement("h2",null,"Login"),c.a.createElement("div",{className:"border-div"}),c.a.createElement("input",{type:"text",name:"username",placeholder:"Usuario",id:"username",autoComplete:"off",onChange:function(e){return o(e.target.value)}}),c.a.createElement("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",autoComplete:"off",id:"password",onChange:function(e){return d(e.target.value)}}),c.a.createElement("button",{onClick:function(e){e.preventDefault(),t&&l?m.a.post(N,{username:t,password:l}).then(function(e){if("ERROR"===e.data){g({type:"ERROR_AUTH"});var a=document.getElementById("username"),t=document.getElementById("password");a.value="",t.value=""}else window.location.href="/"}):g({type:"LOGIN_INFORMATION_INCOMPLETE"})},className:"btn"},"Iniciar sesi\xf3n")),b.isModalOpen&&c.a.createElement(f,{isOpen:b.isModalOpen,closeModal:function(){g({type:"CLOSE_MODAL"})}},c.a.createElement("h1",{className:"modalLoginh1"},b.modalContent),c.a.createElement("img",{className:"modalLoginImg",src:v.a,alt:"modalImg"})),c.a.createElement("div",{className:"img-login-container"},c.a.createElement("img",{src:h.a,alt:"login"})))},S=(t(126),t(11));var j=function(e){return c.a.createElement("div",{className:"navbar-container"},c.a.createElement(y,null),c.a.createElement(k,{classIcon:"gg-chart",title:"Dashboard",url:"/"}),c.a.createElement(k,{classIcon:"gg-pen",title:"Taller Dise\xf1o",url:"/dise\xf1o"}),c.a.createElement(k,{classIcon:"gg-box",title:"Bodega Insumo",url:"/warehouse"}),c.a.createElement(k,{classIcon:"gg-shape-half-circle",title:"Confecci\xf3n",url:"/dressmaking"}),c.a.createElement(k,{classIcon:"gg-browse",title:"Bodega Producto",url:"/warehouseproducts"}),c.a.createElement(k,{classIcon:"gg-home-alt",title:"Tiendas",url:"/shops"}),c.a.createElement(k,{classIcon:"gg-add-r",title:"Registrar",url:"/register"}),c.a.createElement(k,{classIcon:"gg-log-out",title:"Cerrar Sesion",url:"/logout"}),c.a.createElement(I,{user:e.user}))},y=function(){return c.a.createElement("div",{className:"navbar-brand"},c.a.createElement("div",{className:"navbar-brand__icon"},c.a.createElement("i",{className:"gg-read"})),c.a.createElement("h5",{className:"navbar-brand__h5"},"Rutnev"))},k=function(e){var a=e.classIcon,t=e.title,n=e.url;return c.a.createElement(i.b,{exact:!0,to:n,className:"click_navbar-option",activeClassName:"clicked_navbar-option"},c.a.createElement("div",{className:"navbar-option"},c.a.createElement("div",{className:"navbar-option__icon"},c.a.createElement("i",{className:a})),c.a.createElement("h5",{className:"navbar-option__h5"},t)))},I=function(e){return c.a.createElement("div",{className:"user-section"},c.a.createElement("div",{className:"user-section__icon"},c.a.createElement("i",{className:"gg-user"})),c.a.createElement("h4",null,e.user))},M=Object(S.g)(function(e){var a=e.switchActive,t=Object(n.useState)(!1),o=Object(r.a)(t,2),s=o[0],i=o[1],l=Object(n.useState)(""),d=Object(r.a)(l,2),p=d[0],E=d[1],h=u+"api/isAuth";return Object(n.useEffect)(function(){m.a.get(h).then(function(e){var a=e.data;E(a.user),i(!0)})},[s]),s?(a(),c.a.createElement("div",{className:"navbar-user-container"},c.a.createElement(j,{user:p}))):c.a.createElement(c.a.Fragment,null)}),R=t(228),w=t(230),q=t(229),A=t(66),D=t(31),T=t.n(D),P=t(99),F=t(94),U=t.n(F),x=t(67),L=t.n(x),B=t(68),W=t.n(B),G=(t(131),t(132),t(95)),z=t(96),X=t.n(z),V=(t(133),[{id:1,name:"Tienda Sur",latitude:11.001643604812687,longitude:-74.81665954890138},{id:0,name:"Tienda Norte",latitude:11.009774250972912,longitude:-74.81215193217375}]),H=Object(S.g)(function(){var e=Object(n.useState)(!1),a=Object(r.a)(e,2),t=a[0],o=a[1],s=Object(n.useState)({id:"",name:""}),i=Object(r.a)(s,2),l=i[0],d=i[1],p=Object(n.useState)(null),E=Object(r.a)(p,2),h=E[0],b=E[1],g=Object(n.useState)(null),v=Object(r.a)(g,2),N=v[0],_=v[1],O=Object(n.useState)([]),C=Object(r.a)(O,2),S=C[0],j=C[1],y=Object(n.useState)(!1),k=Object(r.a)(y,2),I=k[0],M=k[1],D=Object(n.useState)(""),F=Object(r.a)(D,2),x=F[0],B=F[1],z=Object(n.useState)([["Shop","Ventas"]]),H=Object(r.a)(z,2),Q=H[0],Y=H[1],J=u+"api/dashboard_pie",Z=u+"api/dashboard_date_filter";Object(n.useEffect)(function(){m.a.post(J,{mes:"05"}).then(function(e){Y(e.data)})},[]);return c.a.createElement("div",{className:"general-container-home"},c.a.createElement("div",{className:"navbar-home"},c.a.createElement("h2",{className:"navbar-home__h2"},"Dashboard")),c.a.createElement("div",{className:"map-section"},c.a.createElement("div",{className:"map-home-container"},c.a.createElement("h3",null,"Mapa"),c.a.createElement("p",null,"En este apartado puedes puedes ver las tiendas en el mapa. Si das click en una de las tiendas, en la esquina inferior derecha aparecer\xe1 informaci\xf3n de las ventas de esta."),c.a.createElement(R.a,{center:[11.004462,-74.814401],zoom:15,scrollWheelZoom:!0},c.a.createElement(w.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),V.map(function(e){return c.a.createElement(q.a,{key:e.id,position:[e.latitude,e.longitude],icon:T.a.icon({iconUrl:U.a,iconSize:[30,30]}),eventHandlers:{click:function(){d(e),j([]),o(!0);var a=document.getElementById("start-date-picker"),t=document.getElementById("end-date-picker");a.value="",t.value=""}}})}))),c.a.createElement("div",{className:"stats-home-container"},c.a.createElement("h3",null,"Estad\xedsticas"),c.a.createElement("p",null,"En este apartado puedes ver el porcentaje de ventas correspondiente a cada tienda. Adem\xe1s, puedes filtrar por mes."),c.a.createElement("div",{className:"month-filter-pie-chart-container"},c.a.createElement("div",{className:"month-select-container"},c.a.createElement(P.a,{options:G,placeholder:"Filtrar por mes",className:"month-select-container__select",onChange:function(e){var a=e.value;m.a.post(J,{mes:a}).then(function(e){Y(e.data)})}})),c.a.createElement("div",{className:"pie-chart-container"},c.a.createElement(A.a,{width:"100%",height:"100%",chartType:"PieChart",loader:c.a.createElement("div",null,"Loading Chart"),data:Q,options:{title:"Total ventas",is3D:!0},rootProps:{"data-testid":"1"}}))),c.a.createElement("div",{className:"specific-stats-for-shops-container"},!t&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Estadisticas especificas de la tienda"),c.a.createElement("p",null,"Si haces click en uno de los iconos de tiendas que se encuentran en el mapa, se desplegar\xe1 aqu\xed un diagrama de barras sobre las ventas de la tienda en espec\xedfico."),c.a.createElement("div",{className:"pie-chart-img-container"},c.a.createElement("img",{src:L.a,alt:"loading"}))),t&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Ventas de la ",l.name),c.a.createElement("p",null,"En este apartado se muestra las ventas de la"," ",l.name,". Para ver el gr\xe1fico de barras, utiliza el filtro."),c.a.createElement("div",{className:"filter-date-container"},c.a.createElement(W.a,{selected:h,onChange:function(e){b(e)},selectsStart:!0,startDate:h,endDate:N,dateFormat:"yyyy-MM-dd",placeholderText:"Selecciona la fecha inicial",className:"start-date-picker",id:"start-date-picker"}),c.a.createElement(W.a,{selected:N,onChange:function(e){return _(e)},selectsEnd:!0,startDate:h,endDate:N,minDate:h,dateFormat:"yyyy-MM-dd",placeholderText:"Selecciona la fecha final",className:"end-date-picker",id:"end-date-picker"}),c.a.createElement("button",{className:"btn",id:"filter-button",onClick:function(){var e=document.getElementById("start-date-picker"),a=document.getElementById("end-date-picker");""!==e.value||""!==a.value?m.a.post(Z,{fecha_inicial:e.value,fecha_final:a.value,idTienda:l.id}).then(function(e){e.data.length>1?j(e.data):(j([]),B("No hay ventas en ese rango de fecha"),M(!0))}):(B("Por favor, digite las fechas bien"),M(!0))}},"Filtrar por fecha")),0===S.length&&c.a.createElement("div",{className:"bar-chart-img-container"},c.a.createElement("img",{src:L.a,alt:"loading"})),0!==S.length&&c.a.createElement("div",{className:"bar-chart-container"},c.a.createElement(A.a,{width:"500px",height:"300px",chartType:"Bar",loader:c.a.createElement("div",null,"Loading Chart"),data:S,options:{chart:{title:"Gr\xe1fico de barras de las ventas de la tienda "}},rootProps:{"data-testid":"2"}})))))),c.a.createElement(f,{isOpen:I,closeModal:function(){M(!1),B("")}},c.a.createElement("h1",{className:"modalHome"},x),c.a.createElement("img",{className:"modalHomeImg",src:X.a,alt:"modalImg"})))}),Q=(t(199),function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container_table"},c.a.createElement("div",{className:"table_title"},"Informaci\xf3n"),c.a.createElement("div",{className:"table_header"},"Insumo insuficiente"),c.a.createElement("div",{className:"table_header"},"Imagen"),e.modalContent.map(function(e){return c.a.createElement("div",{className:"items_container",key:e.codigo},c.a.createElement("div",{className:"sub_items_container"},c.a.createElement("div",{className:"sub_sub_items_container"},c.a.createElement("div",{className:"table_item"},"Item: ",e.codigo),c.a.createElement("div",{className:"table_item"},"Descripci\xf3n: ",e.descripcion),c.a.createElement("div",{className:"table_item"},"Existencias: ",e.metros),c.a.createElement("div",{className:"table_item"},"Remanente: ",e.remainingAmount)),c.a.createElement("div",{className:"table_item"},c.a.createElement("img",{className:"table_img",src:e.nombre_imagen}))))})))}),Y=function(e){var a=e.modalContent,t=(e.checkNumber,e.closeModal);return Object(n.useEffect)(function(){setTimeout(function(){t()},4e4)}),c.a.createElement(Q,{modalContent:a})},J=function(e,a){if("INSUFFICIENT_SUPPLIES"===a.type){var t=a.payload;return Object(N.a)({},e,{modalContent:t,isInsufficientModalOpen:!0,checkNumber:0,imgCheckNumber:2})}return"SUCCESSFUL_REQUEST"===a.type?Object(N.a)({},e,{modalContent:["Petici\xf3n realizada con exito"],isModalOpen:!0,isInsufficientModalOpen:!1,checkNumber:1,imgCheckNumber:1}):"WRONG_INPUT"===a.type?Object(N.a)({},e,{modalContent:["Por favor: Ingrese correctamente los campos."],isModalOpen:!0,isInsufficientModalOpen:!1,checkNumber:2,imgCheckNumber:2}):"WRONG_INPUT_PROCESS"===a.type?Object(N.a)({},e,{modalContent:["Por favor: Ingrese correctamente los campos."],isModalOpen:!0,isInsufficientModalOpen:!1,checkNumber:2,imgCheckNumber:2}):"DIFF_NEGATIVE"===a.type?Object(N.a)({},e,{modalContent:["Error: Digite una cantidad menor o igual a la cantidad en proceso."],isModalOpen:!0,isInsufficientModalOpen:!1,checkNumber:2,imgCheckNumber:2}):"REFERENCE_DOES_NOT_EXIST"===a.type?Object(N.a)({},e,{modalContent:["Error: Esta referencia no existe."],isModalOpen:!0,isInsufficientModalOpen:!1,checkNumber:2,imgCheckNumber:2}):"CLOSE_MODAL"===a.type?Object(N.a)({},e,{isModalOpen:!1,isInsufficientModalOpen:!1,imgCheckNumber:0}):Object(N.a)({},e,{isModalOpen:!1,imgCheckNumber:0})},Z=(t(200),t(201),t(20)),K=t.n(Z),$=t(22),ee=t.n($),ae=(t(202),document.getElementById("ModalAreYouSureDressmaking")),te=function(e){var a=function(){e.closeModal()};return e.isOpen?s.a.createPortal(c.a.createElement("div",{className:"ModalAYSDressmakingComponent"},c.a.createElement("div",{className:"ModalAYSDressmakingComponent__container"},c.a.createElement("button",{onClick:a,className:"ModalAYSDressmakingComponent__close-button"},"X"),c.a.createElement("h3",{className:"ModalAYSDressmakingComponent__h3"},"\xbfEst\xe1s seguro?"),c.a.createElement("p",{className:"ModalAYSDressmakingComponent__p"},"Ten cuidado. Solo presiona el bot\xf3n de aceptar si est\xe1s completamente seguro porque no hay vuelta atr\xe1s."),c.a.createElement("div",{className:"ARYDressmakingButtonsContainer"},c.a.createElement("button",{className:"btn ARYDressmakingButtonsContainer__accept",onClick:function(){e.subAmountFunction(),e.closeModal()}},"Aceptar"),c.a.createElement("button",{className:"btn ARYDressmakingButtonsContainer__cancel",onClick:a},"Cancelar")))),ae):null},ne=(t(203),function(e){var a=e.options,t=e.id,o=e.label,s=e.prompt,i=e.value,l=e.onChange,m=Object(n.useState)(!1),u=Object(r.a)(m,2),d=u[0],p=u[1],E=Object(n.useState)(!1),h=Object(r.a)(E,2),b=h[0],f=(h[1],Object(n.useState)("")),g=Object(r.a)(f,2),v=g[0],N=g[1],_=Object(n.useRef)(null);Object(n.useEffect)(function(){return document.addEventListener("click",O),function(){return document.removeEventListener("click",O)}},[]);var O=function(e){p(e&&e.target===_.current)};return c.a.createElement("div",{className:"dropdown"},c.a.createElement("div",{className:"control",onClick:function(){p(function(e){return!e}),b&&p(!1)}},c.a.createElement("div",{className:"selected-value"},c.a.createElement("input",{type:"number",id:"valueInput",ref:_,placeholder:i?i[o]:s,value:v.length>0?v:i?i[o]:"",onChange:function(e){N(e.target.value),l(e.target.value)},onClick:function(){return p(function(e){return!e})}})),c.a.createElement("div",{className:"arrow ".concat(d?"open":null)})),c.a.createElement("div",{className:"options ".concat(d?"open":null)},function(e){return e.filter(function(e){return e[o].toString().toLowerCase().indexOf(v.toLowerCase())>-1})}(a).map(function(e){return c.a.createElement("div",{key:e[t],className:"option ".concat(i===e?"selected":null),onClick:function(){N(""),l(e),p(!1)}},e[o])})))}),ce={modalContent:[],isModalOpen:!1,isInsufficientModalOpen:!1,checkNumber:0,imgCheckNumber:0},oe=function(){var e=Object(n.useState)([]),a=Object(r.a)(e,2),t=a[0],o=a[1],s=Object(n.useState)(""),i=Object(r.a)(s,2),l=i[0],d=i[1],p=Object(n.useState)(""),E=Object(r.a)(p,2),h=(E[0],E[1],Object(n.useReducer)(J,ce)),b=Object(r.a)(h,2),g=b[0],N=b[1],_=Object(n.useState)([]),O=Object(r.a)(_,2),C=O[0],S=O[1],j=Object(n.useState)([]),y=Object(r.a)(j,2),k=y[0],I=y[1],M=Object(n.useState)(""),R=Object(r.a)(M,2),w=(R[0],R[1],Object(n.useRef)(null)),q=Object(n.useState)(!1),A=Object(r.a)(q,2),D=A[0],T=A[1],P=Object(n.useState)({}),F=Object(r.a)(P,2),U=F[0],x=F[1],L=Object(n.useState)(null),B=Object(r.a)(L,2),W=B[0],G=B[1],z=Object(n.useState)(1),X=Object(r.a)(z,2),V=X[0],H=X[1],Q=u+"api/references",Z=u+"api/requesttowarehouse",$=u+"api/getapprovedrequests",ae=u+"api/updatedressmakingprocess",oe=u+"api/getRequestHistoryDressmaking";Object(n.useEffect)(function(){m.a.get(Q).then(function(e){o(e.data)}),m.a.get($).then(function(e){S(e.data)}),m.a.get(oe).then(function(e){I(e.data)})},[]);var se=function(){T(!1),N({type:"CLOSE_MODAL"})},re=function(e){e.preventDefault();var a=e.target.getAttribute("href"),t=document.querySelector(a).offsetTop;document.getElementById("scroll-dressmaking").scrollTo(0,t-55)},ie=function(e){H(e)};return c.a.createElement("div",{className:"general-container-dressmaking"},c.a.createElement("div",{className:"navbar-dressmaking"},c.a.createElement("h2",{className:"navbar-dressmaking__h2"},"Taller confecci\xf3n"),c.a.createElement("div",{className:"navbar-dressmaking-otpions"},c.a.createElement("div",{className:1===V?"tabs-dressmaking active-tabs-dressmaking":"tabs-dressmaking",onClick:function(){return ie(1)}},c.a.createElement("a",{href:"#ressmaking-request-container",onClick:re},"Enviar petici\xf3n")),c.a.createElement("div",{className:2===V?"tabs-dressmaking active-tabs-dressmaking":"tabs-dressmaking",onClick:function(){return ie(2)}},c.a.createElement("a",{href:"#dressmaking-process-container",onClick:re},"Art\xedculos en proceso")),c.a.createElement("div",{className:3===V?"tabs-dressmaking active-tabs-dressmaking":"tabs-dressmaking",onClick:function(){return ie(3)}},c.a.createElement("a",{href:"#requests-history-section",onClick:re},"Historial de peticiones")))),c.a.createElement("div",{className:"scroll-dressmaking-section",id:"scroll-dressmaking"},c.a.createElement("div",{className:"dressmaking-request-container",id:"ressmaking-request-container"},c.a.createElement("div",{className:"dressmaking-request-card"},c.a.createElement("div",{className:"dressmaking-request-card__h2"},"Enviar petici\xf3n a Bodega Insumos"),c.a.createElement("div",{className:"dressmaking-request-form"},c.a.createElement("div",{className:"filter-dropdown-request-dressmaking"},c.a.createElement(ne,{options:t,id:"referencia",label:"referencia",prompt:"Seleccionar referencia",value:W,onChange:function(e){return G(e)}})),c.a.createElement("input",{ref:w,id:"actualAmount",name:"actualAmount",className:"actualAmount",placeholder:"cantidad",type:"number",value:l,autoComplete:"off",onChange:function(e){d(e.target.value)}}),c.a.createElement("button",{className:"btn",type:"button",onClick:function(){var e="",a=0,n=parseFloat(l);null===W?e="":"object"===typeof W?e=W.referencia.toString():"string"===typeof W&&(e=W),t.map(function(t){return t.referencia===e?a+=1:a});var c=""!==e;Number.isInteger(n)&&n>0&&c?1===a?m.a.post(Z,{actualAmount:l,referenceSelection:e}).then(function(e){"SUCCESSFUL_REQUEST"===e.data?(d(""),G(null),w.current.value="",N({type:"SUCCESSFUL_REQUEST"})):N({type:"INSUFFICIENT_SUPPLIES",payload:e.data})}):N({type:"REFERENCE_DOES_NOT_EXIST"}):(N({type:"WRONG_INPUT"}),w.current.value="")}},"Enviar"))),c.a.createElement("div",{className:"information-dressmaking-request-container"},c.a.createElement("h2",{className:"information-dressmaking-request-container__h2"},"Enviar petici\xf3n a Bodega Insumos"),c.a.createElement("p",{className:"information-dressmaking-request-container__p"},"\xbfNecesitas confeccionar un nuevo art\xedculo? Entonces env\xeda una petici\xf3n a Bodega Insumos para obtener los insumos necesarios para confeccionar este art\xedculo. Para esto solo escoge la referencia del art\xedculo que quieres hacer, cuantos art\xedculos quieres realizar y preciona el bot\xf3n enviar. As\xed de f\xe1cil :)"))),c.a.createElement("div",{className:"dressmaking-process-container",id:"dressmaking-process-container"},c.a.createElement("h3",null,"Art\xedculos en proceso"),c.a.createElement("p",null,"En este apartado se muestra los art\xedculos que se est\xe1n produciendo. Puedes ir descontando la cantidad en proceso de los art\xedculos a medida que los vas produciendo. Solo digita la cantidad producida y presiona aceptar."," "),0==C.length&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"no-data-image-approved-req-dressmaking-container"},c.a.createElement("img",{src:ee.a,alt:"no-data",className:"no-data-image-approved-req-dressmaking-container__img"})),c.a.createElement("p",{className:"no-data-image-approved-req-dressmaking-paragraph"},"A\xfan no hay art\xedculos en proceso")),0!==C.length&&c.a.createElement("div",{className:"approved-requests-dressmaking-container"},C.map(function(e){return c.a.createElement("div",{className:"requestDressmakingContainer"},c.a.createElement("h4",{className:"requestDressmakingContainer__h4"},"Referencia en proceso"),c.a.createElement("div",{className:"requestDressmakingContainer__reference"},"Petici\xf3n: #",e.id),c.a.createElement("div",{className:"requestDressmakingContainer__reference"},"Referencia: ",e.referencia),c.a.createElement("div",{className:"requestDressmakingContainer__amount"},"Cantidad en proceso: ",e.cantidad),c.a.createElement("div",{className:"requestDressmakingContainer__timestamp"},"Fecha: ",e.timestamp.replace("T"," ").slice(0,16)),c.a.createElement("input",{className:"h"+e.id,id:"requestDressmakingContainer__amountInput",type:"number",placeholder:"Digite la cantidad terminada"}),c.a.createElement("button",{className:"btn requestDressmakingContainer__accept",onClick:function(){!function(e,a,t,n){var c=parseFloat(n.value);c>0&&Number.isInteger(c)?parseFloat(t)-c>=0?(T(!0),x({reference:e,id:a,amount:t,valueInput:c,HTMLElement:n})):N({type:"DIFF_NEGATIVE"}):(T(!1),N({type:"WRONG_INPUT_PROCESS"}))}(e.referencia,e.id,e.cantidad,document.querySelector(".h"+e.id))}},"Aceptar"))}))),c.a.createElement("div",{className:"requests-history-section",id:"requests-history-section"},c.a.createElement("h3",null,"Historial de peticiones"),c.a.createElement("p",null,"Aqu\xed se despliega el historial de peticiones realizadas de taller confecci\xf3n a bodega insumos."),c.a.createElement("div",{className:"requets-history-dressmaking-container"},c.a.createElement("div",{className:"label-history-request-dressmanking"},c.a.createElement("div",{className:"label-history-request-dressmanking__number-of-order"},"N\xfamero de orden"),c.a.createElement("div",{className:"label-history-request-dressmanking__reference"},"Referencia"),c.a.createElement("div",{className:"label-history-request-dressmanking__amount"},"Cantidad"),c.a.createElement("div",{className:"label-history-request-dressmanking__decision"},"Decisi\xf3n"),c.a.createElement("div",{className:"label-history-request-dressmanking__timestamp"},"Fecha")),k.map(function(e){return c.a.createElement("div",{className:"request-card-container"},c.a.createElement("div",{className:"request-card-container__order"},e.numero_de_orden),c.a.createElement("div",{className:"request-card-container__reference"},e.referencia),c.a.createElement("div",{className:"request-card-container__amount"},e.cantidad),c.a.createElement("div",{className:"request-card-container__decision"},e.decision),c.a.createElement("div",{className:"request-card-container__date"}," ",e.timestamp.replace("T"," ").slice(0,16)))})))),g.isInsufficientModalOpen&&c.a.createElement(Y,{modalContent:g.modalContent,closeModal:se,checkNumber:g.checkNumber}),c.a.createElement(f,{isOpen:g.isModalOpen,closeModal:se},c.a.createElement("h1",{className:"modalWarehouseh1"},g.modalContent),1===g.imgCheckNumber&&c.a.createElement("img",{className:"modalWarehouseImg",src:K.a,alt:"modalImg"}),2===g.imgCheckNumber&&c.a.createElement("img",{className:"modalWarehouseImg",src:v.a,alt:"modalImg"})),c.a.createElement(te,{isOpen:D,closeModal:se,subAmountFunction:function(){var e=U.amount-U.valueInput;U.HTMLElement.value="",m.a.post(ae,{referencia:U.reference,id:U.id,diff:e,amount:U.valueInput}).then(function(e){U.valueInput=null,m.a.get($).then(function(e){S(e.data)})})}}))},se=(t(204),t(29)),re=t.n(se),ie=(t(205),function(e){var a=e.modalContent,t=(e.closeModal,Object(n.useState)("")),o=Object(r.a)(t,2),s=o[0],i=o[1],l=0,m=!0,u=!1;return c.a.createElement("div",{className:"container_table-bodega"},c.a.createElement("div",{className:"table_title-bodega"},"Informaci\xf3n"),c.a.createElement("div",{className:"search-warehouse-container"},c.a.createElement("i",{className:"gg-search"}),c.a.createElement("input",{type:"search",placeholder:"Buscar por c\xf3digo...",className:"search-filter-design-warehouse",onChange:function(e){return function(e){i(e),l=0,m=!0,u=!1}(e.target.value)}})),c.a.createElement("div",{className:"table-header-container-warehouse"},c.a.createElement("div",{className:"table_header-bodega"},"Insumo"),c.a.createElement("div",{className:"table_header-bodega"},"Imagen")),c.a.createElement("div",{className:"scroll-modal-inventory"},a.filter(function(e){return l+=1,""===s?e:e.codigo.toString().slice(0,s.length).includes(s)?(m=!1,e):void(l==a.length&&1==m&&(u=!0))}).map(function(e){return c.a.createElement("div",{className:"items_container-bodega",key:e.codigo},c.a.createElement("div",{className:"sub_items_container-bodega"},c.a.createElement("div",{className:"sub_sub_items_container-bodega"},c.a.createElement("div",{className:"table_item-bodega"},"C\xf3digo: ",e.codigo),c.a.createElement("div",{className:"table_item-bodega"},"Descripci\xf3n: ",e.descripcion),c.a.createElement("div",{className:"table_item-bodega"},"Cantidad: ",null!=e.metros?e.metros:e.cantidad)),c.a.createElement("div",{className:"table_item-bodega"},c.a.createElement("img",{className:"table_img-bodega",src:e.nombre_imagen}))))}),u&&c.a.createElement("img",{className:"notFoundImgWarehouse",src:re.a,alt:"Not found"})))}),le=(t(206),document.getElementById("insufficientSuppliesModal")),me=function(e){console.log(e.arrayNoSupplies);return e.isOpen?s.a.createPortal(c.a.createElement("div",{className:"ModalNoSuppliesComponent"},c.a.createElement("div",{className:"ModalNoSuppliesComponent__container"},c.a.createElement("button",{onClick:function(){e.closeModal()},className:"ModalNoSuppliesComponent__close-button"},"X"),c.a.createElement("h4",null,"Error: En el inventario no se encuentran los insumos suficientes"),c.a.createElement("p",null,"No se puede aceptar esta petici\xf3n debido a que en Bodega no hay los insumos suficientes para cumplir con la producci\xf3n. Por favor, rechace esta petici\xf3n."),c.a.createElement("div",{className:"containerNoSupplies_table"},c.a.createElement("div",{className:"tableNoSupplies_title"},"Insumos insuficientes"),c.a.createElement("div",{className:"tableNoSupplies_header"},"Insumo insuficiente"),c.a.createElement("div",{className:"tableNoSupplies_header"},"Imagen"),e.arrayNoSupplies.map(function(e){return c.a.createElement("div",{className:"itemsNoSupplies_container",key:e.codigo},c.a.createElement("div",{className:"sub_itemsNoSupplies_container"},c.a.createElement("div",{className:"sub_sub_itemsNoSupplies_container"},c.a.createElement("div",{className:"tableNoSupplies_item"},"Item: ",e.codigo),c.a.createElement("div",{className:"tableNoSupplies_item"},"Descripci\xf3n: ",e.descripcion),c.a.createElement("div",{className:"tableNoSupplies_item"},"Existencias: ",null!=e.cantidad?e.cantidad:e.metros),c.a.createElement("div",{className:"tableNoSupplies_item"},"Faltante: ",e.remainingAmount)),c.a.createElement("div",{className:"tableNoSupplies_item"},c.a.createElement("img",{className:"tableNoSupplies_img",src:e.nombre_imagen}))))})),c.a.createElement("div",{className:"InsuficcientButtonRejectContainer",onClick:function(){e.handlerReject(e.infoRequest.index),e.closeModal()}},c.a.createElement("button",{className:"btn"},"Rechazar petici\xf3n")))),le):null},ue=(t(207),document.getElementById("ModalDecisionSupplies")),de=function(e){var a=u+"api/temporal",t=Object(n.useState)([]),o=Object(r.a)(t,2),i=o[0],l=o[1];Object(n.useEffect)(function(){e.isOpen&&m.a.post(a,{referenceSelection:e.infoRequest.reference,actualAmount:e.infoRequest.amount}).then(function(e){l(e.data)})},[e.isOpen]);return e.isOpen?s.a.createPortal(c.a.createElement("div",{className:"ModalDecisionSuppliesComponent"},c.a.createElement("div",{className:"ModalDecisionSuppliesComponent__container"},c.a.createElement("button",{onClick:function(){e.closeModal()},className:"ModalDecisionSuppliesComponent__close-button"},"X"),c.a.createElement("h4",null,"Informaci\xf3n de los insumos"),c.a.createElement("p",null,"Si aceptas esta decisi\xf3n, estos ser\xe1n los insumos que se ver\xe1n afectados."),c.a.createElement("div",{className:"containerDecisionSupplies_table"},c.a.createElement("div",{className:"tableDecisionSupplies_title"},"Insumos Necesarios"),c.a.createElement("div",{className:"tableDecisionSupplies_header"},"Informaci\xf3n del insumo"),c.a.createElement("div",{className:"tableDecisionSupplies_header"},"Imagen"),i.map(function(e){return c.a.createElement("div",{className:"itemsDecisionSupplies_container",key:e.codigo},c.a.createElement("div",{className:"sub_itemsDecisionSupplies_container"},c.a.createElement("div",{className:"sub_sub_itemsDecisionSupplies_container"},c.a.createElement("div",{className:"tableDecisionSupplies_item"},"Item: ",e.codigo),c.a.createElement("div",{className:"tableDecisionSupplies_item"},"Color: ",e.color),c.a.createElement("div",{className:"tableDecisionSupplies_item"},"Descripci\xf3n: ",e.descripcion),c.a.createElement("div",{className:"tableDecisionSupplies_item"},"Consumo: ",e.amount,e.metros?" metros":"")),c.a.createElement("div",{className:"tableDecisionSupplies_item"},c.a.createElement("img",{className:"tableDecisionSupplies_img",src:e.nombre_imagen}))))})),c.a.createElement("div",{className:"DecisionButtonsContainer"},c.a.createElement("button",{className:"btn DecisionButtonsContainer__accept",onClick:function(){e.handlerAccept(e.infoRequest.index),e.closeModal()}},"Aceptar"),c.a.createElement("button",{className:"btn DecisionButtonsContainer__reject",onClick:function(){e.handlerReject(e.infoRequest.index),e.closeModal()}},"Rechazar")))),ue):null},pe=function(e,a){return"SUCCESSFUL_FORM"===a.type?Object(N.a)({},e,{modalFormContent:"\xa1Felicitaciones! Se ha agregado un nuevo insumo correctamente",isFormModalOpen:!0,isModalOpen:!1,imgCheckNumber:1}):"SUCCESSFUL_UPDATE"===a.type?Object(N.a)({},e,{modalUpdateContent:"Inventario a\xf1adido exitosamente",isModalUpdateOpen:!0,isModalOpen:!1,imgCheckNumber:1}):"EXISTING_CODE"===a.type?Object(N.a)({},e,{modalFormContent:"Este codigo ya existe en el inventario. Por favor dirigirse a la secci\xf3n A\xf1adir a Insumo registrado",isFormModalOpen:!0,isModalOpen:!1,imgCheckNumber:2}):"SUCCESSFUL_ADDING"===a.type?Object(N.a)({},e,{modalFormContent:"Insumo a\xf1adido correctamente",isModalOpen:!1,isFormModalOpen:!0}):"WRONG_INPUT"===a.type?Object(N.a)({},e,{modalUpdateContent:"OJO: Por favor ingrese correctamente todos los campos",isModalUpdateOpen:!0,isModalOpen:!1,imgCheckNumber:2}):"CODE_DOES_NOT_EXIST"===a.type?Object(N.a)({},e,{modalUpdateContent:"Error: Este c\xf3digo no existe",isModalUpdateOpen:!0,isModalOpen:!1,imgCheckNumber:2}):"INSUFFICIENT_SUPPLIES"===a.type?Object(N.a)({},e,{isOpenNoSupplies:!0,modalContent:a.payload}):"CLOSE_MODAL"===a.type?Object(N.a)({},e,{isModalOpen:!1,isOpenNoSupplies:!1,imgCheckNumber:0}):Object(N.a)({},e,{isModalOpen:!1,isFormModalOpen:!1,isModalUpdateOpen:!1,isOpenNoSupplies:!1,isModalSuppliesOpen:!1})},Ee={isModalOpen:!1,isFormModalOpen:!1,isModalUpdateOpen:!1,isOpenNoSupplies:!1,modalContent:[],modalFormContent:"",modalUpdateContent:"",checkNumber:0,imgCheckNumber:0};var he=Object(S.g)(function(){var e=Object(n.useState)(""),a=Object(r.a)(e,2),t=a[0],o=a[1],s=Object(n.useState)(""),i=Object(r.a)(s,2),l=i[0],d=i[1],p=Object(n.useState)(""),E=Object(r.a)(p,2),h=E[0],b=E[1],g=Object(n.useState)(""),_=Object(r.a)(g,2),O=_[0],C=_[1],S=Object(n.useState)(""),j=Object(r.a)(S,2),y=j[0],k=j[1],I=Object(n.useState)(""),M=Object(r.a)(I,2),R=M[0],w=(M[1],Object(n.useReducer)(pe,Ee)),q=Object(r.a)(w,2),A=q[0],D=q[1],T=Object(n.useState)([]),P=Object(r.a)(T,2),F=P[0],U=P[1],x=Object(n.useState)(""),L=Object(r.a)(x,2),B=(L[0],L[1],Object(n.useState)("")),W=Object(r.a)(B,2),G=W[0],z=W[1],X=Object(n.useState)([]),V=Object(r.a)(X,2),H=V[0],Q=V[1],Y=Object(n.useState)([]),J=Object(r.a)(Y,2),Z=J[0],$=J[1],ae=Object(n.useState)(!1),te=Object(r.a)(ae,2),ce=(te[0],te[1],Object(n.useState)({})),oe=Object(r.a)(ce,2),se=oe[0],re=oe[1],le=Object(n.useState)(!1),ue=Object(r.a)(le,2),he=ue[0],be=ue[1],fe=Object(n.useState)(null),ge=Object(r.a)(fe,2),ve=ge[0],Ne=ge[1],_e=Object(n.useState)(null),Oe=Object(r.a)(_e,2),Ce=Oe[0],Se=Oe[1],je=Object(n.useState)(1),ye=Object(r.a)(je,2),ke=ye[0],Ie=ye[1],Me=Object(n.useState)(!1),Re=Object(r.a)(Me,2),we=Re[0],qe=Re[1],Ae=u+"api/savecloth",De=u+"api/invetorywarehouse",Te=u+"api/invetorywarehouse",Pe=u+"api/updatewarehouseinventory",Fe=u+"api/dressmakingrequest",Ue=u+"api/suppliesrequest",xe=u+"api/savewarehousedecision";Object(n.useEffect)(function(){m.a.get(Te).then(function(e){U(e.data),console.log(e.data)}),m.a.get(Fe).then(function(e){Q(e.data)}),m.a.get(De).then(function(e){$(e.data)}).catch(function(e){if(e)throw e})},[we]);var Le=function(e){var a=e;m.a.post(xe,Object(N.a)({},H[a],{idDecision:0})).then(function(e){if("SUCCESSFUL_SAVING"===e.data){var t=H.filter(function(e){return e.id!=H[a].id});Q(t)}})},Be=function(){be(!1),D({tpye:"CLOSE_MODAL"})},We=function(e){e.preventDefault();var a=e.target.getAttribute("href"),t=document.querySelector(a).offsetTop;document.getElementById("scroll-warehouse").scrollTo(0,t-55)},Ge=function(e){Ie(e)};return c.a.createElement("div",{className:"general-container-warehouse"},c.a.createElement("div",{className:"navbar-warehouse"},c.a.createElement("h2",{className:"navbar-warehouse__h2"},"Bodega Insumos"),c.a.createElement("div",{className:"navbar-warehouse-otpions"},c.a.createElement("div",{className:1===ke?"tabs-warehouse active-tabs-warehouse":"tabs-warehouse",onClick:function(){return Ge(1)}},c.a.createElement("a",{href:"#new-supplies-section",onClick:We},"Registrar nuevos insumos")),c.a.createElement("div",{className:2===ke?"tabs-warehouse active-tabs-warehouse":"tabs-warehouse",onClick:function(){return Ge(2)}},c.a.createElement("a",{href:"#inventory-warehouse-modal-section",onClick:We},"Inventario")),c.a.createElement("div",{className:3===ke?"tabs-warehouse active-tabs-warehouse":"tabs-warehouse",onClick:function(){return Ge(3)}},c.a.createElement("a",{href:"#update-section",onClick:We},"Actualizar insumos existentes")),c.a.createElement("div",{className:4===ke?"tabs-warehouse active-tabs-warehouse":"tabs-warehouse",onClick:function(){return Ge(4)}},c.a.createElement("a",{href:"#request-section",onClick:We},"Peticiones")))),c.a.createElement("div",{className:"scroll-warehouse",id:"scroll-warehouse"},c.a.createElement("div",{className:"body-warehouse-information",id:"new-supplies-section"},c.a.createElement("div",{className:"warehouse-form-container"},c.a.createElement("form",{className:"warehouse-form"},c.a.createElement("h2",null,"Registrar nuevos insumos"),c.a.createElement("div",{className:"border-div"}),c.a.createElement("input",{type:"text",id:"codigo",placeholder:"C\xf3digo",onChange:function(e){return o(e.target.value)}}),c.a.createElement("input",{type:"text",id:"color",placeholder:"Color",onChange:function(e){return d(e.target.value)}}),c.a.createElement("input",{type:"number",id:"amount",placeholder:"Metros/Cantidad",onChange:function(e){return b(e.target.value)}}),c.a.createElement("input",{type:"text",id:"descripcion",placeholder:"Descripci\xf3n",className:"descriptionInput",onChange:function(e){return C(e.target.value)}}),c.a.createElement("input",{type:"text",id:"url-img",placeholder:"URL de la im\xe1gen",onChange:function(e){return k(e.target.value)}}),c.a.createElement("div",{className:"filterDropdownSupplieWarehouse"},c.a.createElement(ne,{options:[{id:"1",value:"Tela"},{id:"2",value:"Insumo"}],id:"id",label:"value",prompt:"Seleccionar tela o insumo",value:Ce,onChange:function(e){return Se(e)}})),c.a.createElement("button",{className:"btn",onClick:function(e){e.preventDefault();var a="";null===Ce?a="":"object"===typeof Ce?a=Ce.value.toString():"string"===typeof Ce&&(a=Ce);var n={code:t,color:l,amount:h,description:O,img:y,type:a};if(("Tela"==R?parseFloat(h)>0:Number.isInteger(parseInt(h))&&parseInt(h)>0)&&""!==t&&""!==l&&""!==O&&""!==y&&""!==a){var c=document.getElementById("codigo"),o=document.getElementById("color"),s=document.getElementById("amount"),r=document.getElementById("descripcion"),i=document.getElementById("url-img");document.querySelector(".selected-option-bodega"),m.a.post(Ae,{newCloth:n}).then(function(e){"SUCCESSFUL_ADDING"==e.data&&(D({type:"SUCCESSFUL_FORM"}),c.value="",o.value="",s.value="",r.value="",i.value="",Se(null),m.a.get(Te).then(function(e){U(e.data)}),qe(!we)),"EXISTING_CODE"==e.data&&D({type:"EXISTING_CODE"})}).catch(function(e){console.log(e)})}else D({type:"WRONG_INPUT"})}},"Enviar"))),c.a.createElement("div",{className:"information-add-supplies-container"},c.a.createElement("h2",{className:"information-add-supplies-container__h2"},"Registrar nuevos insumos"),c.a.createElement("p",{className:"information-add-supplies-container__p"},"\xbfHas recibido stock de insumos nuevos? En este apartado puedes agregar estos insumos nuevos al inventario. S\xf3lo digita el c\xf3digo con el cual identificar\xe1s el insumo, el color, metros o cantidad dependiendo si es tela o otro elemento (botones, correderas, etc), una descripci\xf3n, el URL de la im\xe1gen y selecciona si es tela o insumo (si es un bot\xf3n, corredera, etc). Por \xfaltimo, presiona el bot\xf3n de enviar y listo :)"))),c.a.createElement("div",{className:"inventory-warehouse-modal-section",id:"inventory-warehouse-modal-section"},c.a.createElement("h3",null,"Inventario de los insumos"),c.a.createElement("p",null,"En este apartado se despliega el inventario de los insumos (telas, botones, correderas, etc\xe9tera)."),c.a.createElement(ie,{modalContent:Z,closeModal:Be})),c.a.createElement("div",{className:"update-container",id:"update-section"},c.a.createElement("div",{className:"update-container-card"},c.a.createElement("div",{className:"update-container__h2"},"Actualizar insumos registrados"),c.a.createElement("div",{className:"update-container-form"},c.a.createElement("div",{className:"filterDropdownUpdateWarehouse"},c.a.createElement(ne,{options:F,id:"codigo",label:"codigo",prompt:"Seleccionar c\xf3digo",value:ve,onChange:function(e){return Ne(e)}})),c.a.createElement("input",{type:"number",id:"amount-update-inventory",placeholder:"Cantidad",className:"amount-update-inventory",onChange:function(e){return z(e.target.value)}}),c.a.createElement("button",{className:"btn",onClick:function(){var e="",a=0,t=document.getElementById("amount-update-inventory");null===ve?e="":"object"===typeof ve?e=ve.codigo.toString():"string"===typeof ve&&(e=ve),F.map(function(t){return t.codigo===e?a+=1:a});var n=Number.isInteger(parseInt(G))&&parseInt(G)>0;if(console.log(n),n&&""!==e)if(1===a){var c={code:e,amount:G};Ne(null),t.value="",z("0"),m.a.post(Pe,c).then(function(e){"SUCCESSFUL_UPDATE"==e.data&&(D({type:"SUCCESSFUL_UPDATE"}),qe(!we))})}else D({type:"CODE_DOES_NOT_EXIST"});else D({type:"WRONG_INPUT"})}}," ","Actualizar"))),c.a.createElement("div",{className:"information-update-container"},c.a.createElement("h2",{className:"information-update-container__h2"},"Actualizar cantidad a un insumo registrado"),c.a.createElement("p",{className:"information-update-container__p"},"\xbfHas recibido m\xe1s stock de insumos ya registrados en tu inventario? En este apartado puedes actualizar estos insumos existentes. Solo escoge el codigo, digita la cantidad y presiona el bot\xf3n actualizar. As\xed de sencillo :)"))),c.a.createElement("div",{className:"warehouseReqSection",id:"request-section"},c.a.createElement("h3",null,"Peticiones"),c.a.createElement("p",null,"En este apartado se muestran las peticiones realizadas por taller confecci\xf3n. Recuerda presionar el bot\xf3n 'Tomar decisi\xf3n' para aceptar o rechazar las peticiones."),0==H.length&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"no-data-image-warehouse-container"},c.a.createElement("img",{src:ee.a,alt:"no-data",className:"no-data-image-warehouse-container__img"})),c.a.createElement("p",{className:"no-data-image-warehouse-paragraph"},"A\xfan no hay peticiones")),0!==H.length&&c.a.createElement("div",{className:"dressmakingReqContainer"},H.map(function(e,a){return c.a.createElement("div",{key:a,className:"requestWarehouseContainer"},c.a.createElement("h4",{className:"requestWarehouseContainer__h4"},"Petici\xf3n de taller confecci\xf3n"),c.a.createElement("div",{className:"requestWarehouseContainer__reference"},"Referencia: ",e.referencia),c.a.createElement("div",{className:"requestWarehouseContainer__reference"},"Cantidad: ",e.cantidad),c.a.createElement("div",{className:"requestWarehouseDecisionBTNContainer"},c.a.createElement("button",{className:"btn",onClick:function(){!function(e){re({index:e,amount:H[e].cantidad,reference:H[e].referencia}),m.a.post(Ue,{actualAmount:H[e].cantidad,referenceSelection:H[e].referencia,checkAccept:!1}).then(function(e){"SUCCESSFUL_REQUEST"===e.data?be(!0):D({type:"INSUFFICIENT_SUPPLIES",payload:e.data})})}(a)}},"Tomar decisi\xf3n")))}))),c.a.createElement(me,{isOpen:A.isOpenNoSupplies,closeModal:Be,arrayNoSupplies:A.modalContent,infoRequest:se,handlerReject:Le}),c.a.createElement(de,{isOpen:he,closeModal:Be,infoRequest:se,handlerReject:Le,handlerAccept:function(e){var a=e;m.a.post(Ue,{actualAmount:H[a].cantidad,referenceSelection:H[a].referencia,checkAccept:!0}).then(function(e){if("SUCCESSFUL_REQUEST"===e.data){m.a.post(xe,Object(N.a)({},H[a],{idDecision:1})).then(function(e){});var t=H.filter(function(e){return e.id!=H[a].id});Q(t)}})}}),c.a.createElement(f,{isOpen:A.isFormModalOpen,closeModal:Be},c.a.createElement("h1",{className:"modalWarehouseh1"},A.modalFormContent),1===A.imgCheckNumber&&c.a.createElement("img",{className:"modalWarehouseImg",src:K.a,alt:"modalImg"}),2===A.imgCheckNumber&&c.a.createElement("img",{className:"modalWarehouseImg",src:v.a,alt:"modalImg"})),c.a.createElement(f,{isOpen:A.isModalUpdateOpen,closeModal:Be},c.a.createElement("h1",{className:"modalWarehouseh1"},A.modalUpdateContent),1===A.imgCheckNumber&&c.a.createElement("img",{className:"modalWarehouseImg",src:K.a,alt:"modalImg"}),2===A.imgCheckNumber&&c.a.createElement("img",{className:"modalWarehouseImg",src:v.a,alt:"modalImg"}))))}),be=function(e,a){if("INSUFFICIENT_SUPPLIES"===a.type){var t=a.payload;return Object(N.a)({},e,{modalContent:t,isModalOpen:!0,checkNumber:0,imgCheckNumber:2})}if("SUCCESSFUL_REQUEST"===a.type)return Object(N.a)({},e,{modalContent:["La referencia se ha guardado correctamente"],isModalOpen:!0,checkNumber:1,imgCheckNumber:1});if("FAILED_REQUEST"===a.type)return Object(N.a)({},e,{modalContent:["La petici\xf3n no ha tenido exito"],isModalOpen:!0,checkNumber:2,imgCheckNumber:2});if("INVALID_REFERENCE"===a.type)return Object(N.a)({},e,{modalContent:["Ya existe la referencia que desea ingresar"],isModalOpen:!0,checkNumber:3,imgCheckNumber:2});if("WRONG_INPUT"===a.type)return Object(N.a)({},e,{modalContent:["Ingrese correctamente los campos"],isModalOpen:!0,checkNumber:4,imgCheckNumber:2});if("CODE_DOES_NOT_EXIST"===a.type)return Object(N.a)({},e,{isModalOpen:!0,modalContent:["El codigo talla no existe"],checkNumber:5,imgCheckNumber:2});if("SUCCESSFUL_SAMPLE_INVENTORY"===a.type){var n=a.payload;return Object(N.a)({},e,{isInventoryModalOpen:!0,modalInventoryContent:n})}return a.type,Object(N.a)({},e,{isModalOpen:!1,isInventoryModalOpen:!1,imgCheckNumber:0})},fe=(t(208),t(209),document.getElementById("informationModal")),ge=function(e){return e.isOpen?s.a.createPortal(c.a.createElement("div",{className:"ModalInfoComponent"},c.a.createElement("div",{className:"ModalInfoComponent__container"},c.a.createElement("button",{onClick:function(){e.closeModal()},className:"ModalInfoComponent__close-button"},"X"),c.a.createElement("h4",null,"Referencia: ",e.reference),c.a.createElement("p",null,"Estos son los insumos que consume la referencia ",e.reference),c.a.createElement("div",{className:"ModalInfoComponent__titleInformation"},c.a.createElement("div",null,"Insumo"),c.a.createElement("div",null,"Imagen")),c.a.createElement("div",{className:"scroll-design-information-modal"},e.referenceArray.map(function(e){return c.a.createElement("div",{className:"items_container-design",key:e.codigo},c.a.createElement("div",{className:"items-information-design"},c.a.createElement("div",{className:"item-information-design__ref"},"Referencia: ",e.codigo),c.a.createElement("div",{className:"item-information-design__amount"},"Consumo: ",e.consumptionAmount),c.a.createElement("div",{className:"item-information-design__description"},"Descripci\xf3n: ",e.descripcion),c.a.createElement("div",{className:"item-information-design__color"},"Color: ",e.color)),c.a.createElement("div",{className:"item-information-design"},c.a.createElement("img",{className:"item-information-image",src:e.nombre_imagen})))})))),fe):null},ve=(t(210),function(e){var a=e.modalContent,t=e.closeModal;Object(n.useEffect)(function(){setTimeout(function(){t()},4e4)});var o=Object(n.useState)(""),s=Object(r.a)(o,2),i=s[0],l=s[1],d=Object(n.useState)(!1),p=Object(r.a)(d,2),E=p[0],h=p[1],b=Object(n.useState)(""),f=Object(r.a)(b,2),g=f[0],v=f[1],N=Object(n.useState)([]),_=Object(r.a)(N,2),O=_[0],C=_[1],S=u+"api/getreferenceconsumption",j=0,y=!0,k=!1;return c.a.createElement("div",{className:"container_table-design"},c.a.createElement("div",{className:"table_title-design"},"Informaci\xf3n"),c.a.createElement("div",{className:"search-design-container"},c.a.createElement("i",{className:"gg-search"}),c.a.createElement("input",{type:"search",placeholder:"Buscar...",className:"search-filter-design",onChange:function(e){return function(e){l(e),j=0,y=!0,k=!1}(e.target.value)}})),c.a.createElement("div",{className:"sample-image-container"},c.a.createElement("div",{className:"table_header-design-sample"},"Muestra"),c.a.createElement("div",{className:"table_header-design-img"},"Imagen")),c.a.createElement("div",{className:"scroll-modal-design"},a.filter(function(e){return j+=1,""===i?e:e.referencia.toString().slice(0,i.length).includes(i)?(y=!1,e):void(j==a.length&&1==y&&(k=!0))}).map(function(e){return c.a.createElement("div",{className:"items_container-design",key:e.referencia},c.a.createElement("div",{className:"items-information-container"},c.a.createElement("div",{className:"items-information-ref"},"Referencia: ",e.referencia),c.a.createElement("div",{className:"items-information-size"},"Talla: ",e.talla),c.a.createElement("div",{className:"items-information-description"},"Descripci\xf3n: ",e.descripcion),c.a.createElement("div",{className:"items-information-color"},"Color: ",e.color),c.a.createElement("div",{className:"items-information-valuePerUnit"},"Valor de la unidad: ",e.valor_unidad),c.a.createElement("button",{className:"btn",id:"handleInfoModal",onClick:function(){return function(e){h(!0),v(e);var a=e;m.a.post(S,{referenceSelection:a}).then(function(e){C(e.data)})}(e.referencia)}},"Informaci\xf3n de consumo")),c.a.createElement("div",{className:"table_item-design"},c.a.createElement("img",{className:"table_img-design",src:e.nombre_imagen})))}),k&&c.a.createElement("img",{className:"notfoundImg",src:re.a,alt:"Not Found"})),c.a.createElement(ge,{isOpen:E,closeModal:function(){h(!1)},reference:g,referenceArray:O}))}),Ne=t(100),_e=(t(211),t(212),function(e){var a=e.modalContent,t=e.closeModal;return setTimeout(function(){t()},5e3),c.a.createElement("div",{className:"ModalDesignContainer"},c.a.createElement("h4",null,a))}),Oe=document.getElementById("addSupplies"),Ce=function(e,a){return"WRONG_INFORMATION"===a.type?Object(N.a)({},e,{isOpen:!0,modalContent:"Por favor digite bien todos los campos"}):"CODE_DOES_NOT_EXIST"===a.type?Object(N.a)({},e,{isOpen:!0,modalContent:"Est\xe9 c\xf3digo no existe. Por favor digitar otro"}):"CODE_EXIST"===a.type?Object(N.a)({},e,{isOpen:!0,modalContent:"Error: Este c\xf3digo ya est\xe1 agregado"}):(a.type,Object(N.a)({},e,{isOpen:!1}))},Se={isModalOpen:!1,modalContent:""},je=function(e){var a=Object(n.useState)(null),t=Object(r.a)(a,2),o=t[0],i=t[1],l=Object(n.useReducer)(Ce,Se),d=Object(r.a)(l,2),p=d[0],E=d[1],h=Object(n.useState)([]),b=Object(r.a)(h,2),f=b[0],g=b[1],v=Object(n.useState)([]),N=Object(r.a)(v,2),_=N[0],O=N[1],C=u+"api/warehousecodes",S=Object(n.useState)(""),j=Object(r.a)(S,2),y=j[0],k=j[1],I=Object(n.useState)("Seleccionar insumo"),M=Object(r.a)(I,2),R=(M[0],M[1],""),w=0,q=0;Object(n.useEffect)(function(){m.a.get(C).then(function(a){g(a.data),e.isOpen})},[e.isOpen]);var A=function(){e.closeModal()};return e.isOpen?s.a.createPortal(c.a.createElement("div",{className:"ModalAddSuppliesComponent"},c.a.createElement("div",{className:"ModalAddSuppliesComponent__container"},c.a.createElement("button",{onClick:A,className:"ModalAddSuppliesComponent__close-button"},"X"),c.a.createElement("h4",null,"A\xf1adir telas o insumos"),c.a.createElement("p",{className:"ModalAddSuppliesComponent__p"},"Aqu\xed puedes a\xf1adir las telas y/o insumos que consume esta referencia."),c.a.createElement("div",{className:"addSuppliesZone"},c.a.createElement("div",{style:{width:250}},c.a.createElement(ne,{options:f,id:"codigo",label:"codigo",prompt:"Seleccionar insumo",value:o,onChange:function(e){return i(e)}})),c.a.createElement("input",{type:"number",className:"amountSuppliesInput",placeholder:"Digite la cantidad",autoComplete:"off",onChange:function(e){return k(e.target.value)}}),c.a.createElement("button",{className:"btn",onClick:function(){var e=document.querySelector(".amountSuppliesInput");null===o?R={codigo:""}:"object"===typeof o?R=o.codigo.toString():"string"===typeof o&&(R=o),f.map(function(e){return e.codigo===R?w+=1:w}),_.map(function(e){return e.supplyCode===R?q+=1:q});var a=""!==R||null!==R,t=Number.isInteger(parseInt(e.value))&&parseInt(e.value)>0;if(a&&t)if(1===w)if(0===q){var n={supplyCode:R,supplyAmount:y};O([].concat(Object(Ne.a)(_),[n])),e.value=null,i(null)}else E({type:"CODE_EXIST"});else E({type:"CODE_DOES_NOT_EXIST"});else E({type:"WRONG_INFORMATION"})}},"A\xf1adir")),p.isOpen&&c.a.createElement(_e,{modalContent:p.modalContent,closeModal:function(){E({type:"CLOSE_MODAL"})}}),c.a.createElement("div",{className:"added-container-supplies"},_.map(function(e){return c.a.createElement("div",{key:e.supplyCode,className:"supplie-add"},c.a.createElement("h2",null,"Item agregado: "),"Codigo: ",e.supplyCode," - Cantidad: ",e.supplyAmount,c.a.createElement("button",{className:"removeItemAddSupplies",onClick:function(){return function(e){var a=_.filter(function(a){return a.supplyCode!==e});O(a)}(e.supplyCode)}},"X"))})),c.a.createElement("div",{className:"buttonAddSuppliesContainer"},c.a.createElement("button",{className:"buttonAddSuppliesContainer__ready",onClick:function(){e.suppliesFromDesign(_),e.closeModal()}},"Listo"),c.a.createElement("button",{className:"buttonAddSuppliesContainer__cancel",onClick:A},"Cancelar")))),Oe):null},ye={modalContent:[],isModalOpen:!1,isInventoryModalOpen:!1,modalInventoryContent:[],checkNumber:0,imgCheckNumber:0},ke=Object(S.g)(function(){var e=u+"api/warehousecodes",a=u+"api/savenewreference",t=u+"api/production",o=Object(n.useState)(!1),s=Object(r.a)(o,2),i=s[0],l=s[1],d=Object(n.useState)(""),p=Object(r.a)(d,2),E=p[0],h=p[1],b=Object(n.useState)(""),g=Object(r.a)(b,2),N=g[0],_=g[1],O=Object(n.useState)(""),C=Object(r.a)(O,2),S=C[0],j=C[1],y=Object(n.useState)(""),k=Object(r.a)(y,2),I=k[0],M=k[1],R=Object(n.useState)(""),w=Object(r.a)(R,2),q=w[0],A=w[1],D=Object(n.useState)(null),T=Object(r.a)(D,2),P=T[0],F=T[1],U=[{codigo:"1",label:"1"},{codigo:"2",label:"2"},{codigo:"3",label:"3"},{codigo:"4",label:"4"}],x="",L=Object(n.useState)([]),B=Object(r.a)(L,2),W=B[0],G=B[1],z=Object(n.useReducer)(be,ye),X=Object(r.a)(z,2),V=X[0],H=X[1],Q=Object(n.useState)(!1),Y=Object(r.a)(Q,2),J=Y[0],Z=Y[1],$=Object(n.useState)(1),ae=Object(r.a)($,2),te=ae[0],ce=ae[1];Object(n.useEffect)(function(){m.a.get(e).then(function(e){}),m.a.get(t).then(function(e){H({type:"SUCCESSFUL_SAMPLE_INVENTORY",payload:e.data})}).catch(function(e){})},[i]);var oe=function(){H({tpye:"CLOSE_MODAL"})},se=function(){var e=document.querySelector(".add-reference-input"),a=document.querySelector(".add-description-input"),t=document.querySelector(".add-color-input"),n=document.querySelector(".add-imagename-input"),c=document.getElementById("value-per-unit-input");e.value="",F(null),a.value="",t.value="",n.value="",c.value="",G([]),h(""),_(""),j(""),M(""),A("")},re=function(e){e.preventDefault();var a=e.target.getAttribute("href"),t=document.querySelector(a).offsetTop;document.getElementById("scroll-design-section").scrollTo(0,t-55)},ie=function(e){ce(e)};return c.a.createElement("div",{className:"general-container-design"},c.a.createElement("div",{className:"navbar-design"},c.a.createElement("h2",{className:"navbar-design__h2"},"Taller dise\xf1o"),c.a.createElement("div",{className:"navbar-design-options"},c.a.createElement("div",{className:1===te?"tabs-design active-tabs-design":"tabs-design",onClick:function(){return ie(1)}},c.a.createElement("a",{href:"#add-reference-design-container",onClick:re},"Agregar una nueva muestra")),c.a.createElement("div",{className:2===te?"tabs-design active-tabs-design":"tabs-design",onClick:function(){return ie(2)}},c.a.createElement("a",{href:"#inventory-design-modal-section",onClick:re},"Inventario de las muestras")))),c.a.createElement("div",{className:"scroll-design-section",id:"scroll-design-section"},c.a.createElement("div",{className:"add-reference-design-container",id:"add-reference-design-container"},c.a.createElement("form",{className:"design-form"},c.a.createElement("h2",null,"Agregar muestra"),c.a.createElement("div",{className:"border-design-div"}),c.a.createElement("p",{className:"design-form__information"},"En este formulario puedes asociar insumos a una nueva muestra. Digita la referencia, selecciona la talla, agrega una descripcion, digita el color y la URL de la im\xe1gen. Luego, presiona el bot\xf3n 'A\xf1adir/Eliminar Insumos' para agregar o eliminar los insumos que consume esta nueva muestra. Por ultimo, presiona el bot\xf3n de 'Guardar'."),c.a.createElement("input",{className:"add-reference-input",type:"number",placeholder:"Referencia",onChange:function(e){return h(e.target.value)}}),c.a.createElement("div",{className:"dropdownDesign"},c.a.createElement(ne,{options:U,id:"codigo",label:"codigo",prompt:"Seleccionar el codigo de talla",value:P,onChange:function(e){return F(e)}})),c.a.createElement("input",{className:"add-description-input",type:"text",placeholder:"Descripci\xf3n",onChange:function(e){return _(e.target.value)}}),c.a.createElement("input",{className:"add-color-input",type:"text",placeholder:"Color",onChange:function(e){return j(e.target.value)}}),c.a.createElement("input",{className:"add-imagename-input",type:"text",placeholder:"URL de la im\xe1gen",onChange:function(e){return M(e.target.value)}}),c.a.createElement("input",{className:"value-per-unit-input",id:"value-per-unit-input",type:"number",placeholder:"Valor de la unidad",onChange:function(e){return A(e.target.value)}}),c.a.createElement("button",{type:"button",className:"btn",id:"insumoBTN",onClick:function(){Z(!0)}},"A\xf1adir/Eliminar Insumos"),0!==W.length&&c.a.createElement("button",{type:"button",className:"btn",id:"saveBTN",onClick:function(){document.querySelector(".selected-option-size");var e=0;null===P?x="":"object"===typeof P?x=P.codigo.toString():"string"===typeof P&&(x=P),U.map(function(a){return a.codigo===x?e+=1:e});var t={addReference:E,addSize:x,addDescription:N,addColor:S,addImageName:I,valuePerUnit:q,addedInformationFromModal:W};""!=E&&""!=x&&""!=N&&""!=S&&""!=I&&""!=q&&0!=W.length?1===e?m.a.post(a,t).then(function(e){"SUCCESSFUL_REQUEST"===e.data&&(se(),H({type:"SUCCESSFUL_REQUEST"}),l(!i)),"FAILED_REQUEST"===e.data&&H({type:"FAILED_REQUEST"}),"INVALID_REFERENCE"===e.data&&H({type:"INVALID_REFERENCE"})}):H({type:"CODE_DOES_NOT_EXIST"}):H({type:"WRONG_INPUT"})}},"Guardar")),c.a.createElement("div",{className:"supplies-added-design"},c.a.createElement("h3",null,"Insumos agregados"),0==W.length&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"no-data-image-container"},c.a.createElement("img",{src:ee.a,alt:"no-data",className:"no-data-image-container__img"})),c.a.createElement("p",{className:"no-data-paragraph"},"A\xfan no se han a\xf1adido insumos")),W.map(function(e){return c.a.createElement("div",{key:e.supplyCode,className:"insumo-add"},c.a.createElement("h2",null,"Item agregado: "),"Codigo: ",e.supplyCode," - Cantidad: ",e.supplyAmount)}))),c.a.createElement("div",{className:"inventory-design-modal-section",id:"inventory-design-modal-section"},c.a.createElement("h3",null,"Inventario de las muestras"),c.a.createElement("p",null,"En este apartado se despliega el inventario de las muestras. Si quieres saber que telas e insumos consume una muestra en especifico, presiona el bot\xf3n 'Informaci\xf3n de consumo'."),c.a.createElement(ve,{closeModal:oe,modalContent:V.modalInventoryContent}))),c.a.createElement(f,{isOpen:V.isModalOpen,closeModal:oe},c.a.createElement("h1",{className:"modalWarehouseh1"},V.modalContent),1===V.imgCheckNumber&&c.a.createElement("img",{className:"modalWarehouseImg",src:K.a,alt:"modalImg"}),2===V.imgCheckNumber&&c.a.createElement("img",{className:"modalWarehouseImg",src:v.a,alt:"modalImg"})),c.a.createElement(je,{isOpen:J,closeModal:function(){Z(!1)},suppliesFromDesign:function(e){return G(e)}}))}),Ie=(t(213),t(98)),Me=t.n(Ie),Re=function(e,a){return"ERROR_REGISTER"===a.type?Object(N.a)({},e,{isModalOpen:!0,imgCheckNumber:2,modalContent:"Error: no ha digitado todos los campos"}):"ERROR_ROL"===a.type?Object(N.a)({},e,{isModalOpen:!0,imgCheckNumber:2,modalContent:"Error: No ha escogido un ROL"}):"INVALID PASSWORD"===a.type?Object(N.a)({},e,{isModalOpen:!0,imgCheckNumber:2,modalContent:"Error: Digite una contrase\xf1a mayor o igual a 8 caracteres"}):"PASSWORDS_DO_NOT_MATCH"===a.type?Object(N.a)({},e,{isModalOpen:!0,imgCheckNumber:2,modalContent:"Error: las contrase\xf1as NO coinciden"}):"USERNAME_EXIST"===a.type?Object(N.a)({},e,{isModalOpen:!0,imgCheckNumber:2,modalContent:"Error: el usuario ya existe"}):"SUCCESFUL_POST"===a.type?Object(N.a)({},e,{isModalOpen:!0,imgCheckNumber:1,modalContent:"\xa1Genial! \xa1Se ha registrado correctamente!"}):"CLOSE_MODAL"===a.type?Object(N.a)({},e,{isModalOpen:!1}):Object(N.a)({},e,{isModalOpen:!1,modalContent:""})},we={isModalOpen:!1,modalContent:"",imgCheckNumber:0},qe=function(){var e=Object(n.useState)(""),a=Object(r.a)(e,2),t=a[0],o=a[1],s=Object(n.useState)(""),i=Object(r.a)(s,2),l=i[0],d=i[1],p=Object(n.useState)(""),E=Object(r.a)(p,2),h=E[0],b=E[1],g=Object(n.useState)(""),N=Object(r.a)(g,2),_=N[0],O=N[1],C=Object(n.useReducer)(Re,we),S=Object(r.a)(C,2),j=S[0],y=S[1],k=u+"api/register",I=document.getElementById("username"),M=document.getElementById("password"),R=document.getElementById("validPassword"),w=document.getElementById("idRol");return c.a.createElement("div",{className:"general-register-container"},c.a.createElement("form",{className:"register-form"},c.a.createElement("h2",null,"Registrar usuario"),c.a.createElement("div",{className:"border-div"}),c.a.createElement("input",{type:"text",name:"username",placeholder:"Usuario",autoComplete:"off",id:"username",onChange:function(e){return o(e.target.value)}}),c.a.createElement("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",autoComplete:"off",id:"password",onChange:function(e){return d(e.target.value)}}),c.a.createElement("p",{className:"passwordInfo"},"Ingrese una contrase\xf1a de al menos 8 caracteres"),c.a.createElement("input",{type:"password",name:"validPassword",id:"validPassword",placeholder:"Contrase\xf1a nuevamente",autoComplete:"off",onChange:function(e){return b(e.target.value)}}),c.a.createElement("select",{id:"idRol",onChange:function(e){return O(e.target.value)}},c.a.createElement("option",{value:"0"},"Seleccionar rol"),c.a.createElement("option",{value:"1"},"Administrador"),c.a.createElement("option",{value:"2"},"Dise\xf1ador"),c.a.createElement("option",{value:"3"},"Encargado Bodega"),c.a.createElement("option",{value:"4"},"Cortador"),c.a.createElement("option",{value:"5"},"Vendedor")),c.a.createElement("button",{onClick:function(e){if(e.preventDefault(),t&&l&&h&&_)if("0"!==_)if(l.length>=7)if(l===h){var a={username:t,password:l,idRol:_};m.a.post(k,{user:a}).then(function(e){var a=e.data;"1"===a?y({type:"USERNAME_EXIST"}):"2"===a&&(o(""),d(""),b(""),O(""),I.value="",M.value="",R.value="",w.value="0",y({type:"SUCCESFUL_POST"}))})}else y({type:"PASSWORDS_DO_NOT_MATCH"});else y({type:"INVALID PASSWORD"});else y({type:"ERROR_ROL"});else y({type:"ERROR_REGISTER"})},className:"btn"},"Registrarse"),j.isModalOpen&&c.a.createElement(f,{isOpen:j.isModalOpen,closeModal:function(){y({type:"CLOSE_MODAL"})}},c.a.createElement("h1",{className:"modalWarehouseh1"},j.modalContent),1===j.imgCheckNumber&&c.a.createElement("img",{className:"modalWarehouseImg",src:K.a,alt:"modalImg"}),2===j.imgCheckNumber&&c.a.createElement("img",{className:"modalWarehouseImg",src:v.a,alt:"modalImg"}))),c.a.createElement("div",{className:"img-register-container"},c.a.createElement("img",{src:Me.a,alt:"register"})))},Ae=Object(S.g)(function(){var e=u+"api/logout";return Object(n.useEffect)(function(){m.a.post(e).then(function(){window.location.href="/login"}).catch(function(e){console.log(e)})},[]),c.a.createElement(c.a.Fragment,null)}),De=(t(214),t(215),document.getElementById("warehouseProductsReq")),Te=function(e){var a=function(){e.closeModal()},t=function(){e.handlerRefuse(e.index),e.closeModal()};return e.isOpen?1===e.checkReqNumber?s.a.createPortal(c.a.createElement("div",{className:"ModalWarehouseProductsComponent"},c.a.createElement("div",{className:"ModalWarehouseProductsComponent__container"},c.a.createElement("button",{onClick:a,className:"ModalWarehouseProductsComponent__close-button"},"X"),c.a.createElement("h2",{className:"ModalWarehouseProductsComponent__h2"},"Lotes necesarios para cumplir con el pedido"),c.a.createElement("p",null,"First in, first out (FIFO)"),e.infoReq.map(function(e){return c.a.createElement("div",{className:"successModalCard"},c.a.createElement("h4",{className:"successModalCard__h4"},"Informaci\xf3n del producto"),c.a.createElement("div",{className:"successModalCard__lot"},"Numero lote: ",e.numero_lote),c.a.createElement("div",{className:"successModalCard__reference"},"Referencia: ",e.referencia),c.a.createElement("div",{className:"successModalCard__order"},"# de orden: ",e.numero_de_orden),c.a.createElement("div",{className:"successModalCard__amount"},"Cantidad: ",e.cantidad),c.a.createElement("div",{className:"successModalCard__date"},"Fecha: ",e.timestamp.replace("T"," ").slice(0,16)))}),c.a.createElement("div",{className:"buttonssuccessModalContiner"},c.a.createElement("button",{className:"btn buttonsSuccessModalContiner__approve",onClick:function(){e.handlerAccept(e.index),e.closeModal()}},"Aceptar"),c.a.createElement("button",{className:"btn buttonsSuccessModalContiner__reject",onClick:t},"Rechazar")))),De):2===e.checkReqNumber?s.a.createPortal(c.a.createElement("div",{className:"ModalWarehouseProductsComponent"},c.a.createElement("div",{className:"ModalWarehouseProductsComponent__container"},c.a.createElement("button",{onClick:a,className:"ModalWarehouseProductsComponent__close-button"},"X"),c.a.createElement("h2",{className:"ModalWarehouseProductsComponent__h2"},"Cantidad insuficiente"),c.a.createElement("p",null,"No se puede aceptar esta petici\xf3n debido a que no hay cantidad suficiente del siguiente producto."),e.infoReq.map(function(e){return c.a.createElement("div",{className:"successModalCard"},c.a.createElement("h4",{className:"successModalCard__h4"},"Informaci\xf3n del producto"),c.a.createElement("div",{className:"successModalCard__lot"},"Numero lote: ",e.numero_lote),c.a.createElement("div",{className:"successModalCard__reference"},"Referencia: ",e.referencia),c.a.createElement("div",{className:"successModalCard__order"},"# de orden: ",e.numero_de_orden),c.a.createElement("div",{className:"successModalCard__amount"},"Cantidad: ",e.cantidad),c.a.createElement("div",{className:"successModalCard__date"},"Fecha: ",e.timestamp.replace("T"," ").slice(0,16)))}),c.a.createElement("div",{className:"buttonRejectContainer"},c.a.createElement("button",{className:"btn buttonRejectContainer__Reject",onClick:function(){e.handlerPartialDelivery(e.index),e.closeModal()}},"PET PARCIAL"),c.a.createElement("button",{className:"btn buttonRejectContainer__Reject",onClick:t},"Rechazar petici\xf3n")))),De):s.a.createPortal(c.a.createElement("div",{className:"ModalWarehouseProductsComponent"},c.a.createElement("div",{className:"ModalWarehouseProductsComponent__container"},c.a.createElement("button",{onClick:a,className:"ModalWarehouseProductsComponent__close-button"},"X"),c.a.createElement("h2",{className:"ModalWarehouseProductsComponent__h2"},"Aviso: No hay existencias."),c.a.createElement("div",{className:"imgErrorWarehouseProductContainer"},c.a.createElement("img",{src:v.a,alt:"error image",className:"imgErrorWarehouseProductContainer__img"})),c.a.createElement("div",{className:"buttonssuccessModalContiner"},c.a.createElement("button",{className:"btn buttonsSuccessModalContiner__reject",onClick:t},"Rechazar Petici\xf3n")))),De):null},Pe=function(){var e=Object(n.useState)([]),a=Object(r.a)(e,2),t=a[0],o=a[1],s=Object(n.useState)([]),i=Object(r.a)(s,2),l=i[0],d=i[1],p=Object(n.useState)([]),E=Object(r.a)(p,2),h=E[0],b=E[1],f=Object(n.useState)(""),g=Object(r.a)(f,2),v=(g[0],g[1],Object(n.useState)("")),_=Object(r.a)(v,2),O=(_[0],_[1],Object(n.useState)(!1)),C=Object(r.a)(O,2),S=C[0],j=C[1],y=Object(n.useState)(0),k=Object(r.a)(y,2),I=k[0],M=k[1],R=Object(n.useState)(0),w=Object(r.a)(R,2),q=w[0],A=w[1],D=Object(n.useState)(""),T=Object(r.a)(D,2),P=T[0],F=T[1],U=Object(n.useState)(1),x=Object(r.a)(U,2),L=x[0],B=x[1],W=u+"api/getwarehouseproducts",G=u+"api/shoprequestproducts",z=u+"api/getactualshoprequests",X=u+"api/savewarehouseproductsdecision",V=u+"api/updatepartialdelivery",H=0,Q=!0,Y=!1;Object(n.useEffect)(function(){m.a.get(W).then(function(e){o(e.data)}),m.a.get(z).then(function(e){b(e.data)})},[]);var J=function(e){e.preventDefault();var a=e.target.getAttribute("href"),t=document.querySelector(a).offsetTop;document.getElementById("scroll-warehouseproducts").scrollTo(0,t-55)},Z=function(e){B(e)};return c.a.createElement("div",{className:"general-container-warehouseproducts"},c.a.createElement("div",{className:"navbar-warehouseproducts"},c.a.createElement("h2",{className:"navbar-warehouseproducts__h2"},"Bodega Productos"),c.a.createElement("div",{className:"navbar-warehouseproducts-otpions"},c.a.createElement("div",{className:1===L?"tabs-warehouseproducts active-tabs-warehouseproducts":"tabs-warehouseproducts",onClick:function(){return Z(1)}},c.a.createElement("a",{href:"#products-warehouseproducts-section",onClick:J},"Productos terminados")),c.a.createElement("div",{className:2===L?"tabs-warehouseproducts active-tabs-warehouseproducts":"tabs-warehouseproducts",onClick:function(){return Z(2)}},c.a.createElement("a",{href:"#shops-request-warehouseproducts-section",onClick:J},"Peticiones")))),c.a.createElement("div",{className:"scroll-warehouseproducts",id:"scroll-warehouseproducts"},c.a.createElement("div",{className:"products-warehouseproducts-section",id:"products-warehouseproducts-section"},c.a.createElement("h3",{className:"products-finished-warehouseproducts-section__h3"},"Productos terminados"),c.a.createElement("p",{className:"products-finished-warehouseproducts-section__p"},"En este apartado se muestra el inventario de los productos terminados listos para ser enviado a las tiendas."),c.a.createElement("div",{className:"container_table-warehouseproducts"},c.a.createElement("div",{className:"table_title-warehouseproducts "},"Informaci\xf3n"),c.a.createElement("div",{className:"search-warehouseproducts-container"},c.a.createElement("i",{className:"gg-search"}),c.a.createElement("input",{type:"search",placeholder:"Buscar por referencia...",className:"search-filter-warehouseproducts",onChange:function(e){return function(e){F(e),H=0,Q=!0,Y=!1}(e.target.value)}})),c.a.createElement("div",{className:"sample-image-warehouseproducts-container"},c.a.createElement("div",{className:"table_header-warehouseproducts-sample"},"Producto"),c.a.createElement("div",{className:"table_header-warehouseproducts-img"},"Imagen")),c.a.createElement("div",{className:"scroll-modal-warehouseproducts"},t.filter(function(e){return H+=1,""===P?e:e.referencia.toString().slice(0,P.length).includes(P)?(Q=!1,e):void(H==t.length&&1==Q&&(Y=!0))}).map(function(e){return c.a.createElement("div",{className:"items_container-warehouseproducts",key:e.referencia},c.a.createElement("div",{className:"items-information-wproducts-container"},c.a.createElement("div",{className:"items-information-wp-lot"},"Numero de lote: ",e.numero_lote),c.a.createElement("div",{className:"items-information-wp-ref"},"Referencia: ",e.referencia),c.a.createElement("div",{className:"items-information-wp-order"},"Numero de orden: ",e.numero_de_orden),c.a.createElement("div",{className:"items-information-amount"},"Cantidad: ",e.cantidad),c.a.createElement("div",{className:"items-information-timestamp"},"Fecha:"," ",e.timestamp.replace("T"," ").slice(0,16))),c.a.createElement("div",{className:"table_item-warehouseproduct"},c.a.createElement("img",{className:"table_img-warehouseproduct",src:e.nombre_imagen})))}),Y&&c.a.createElement("img",{className:"notfoundImg-warehouseproducts",src:re.a,alt:"Not Found"})))),c.a.createElement("div",{className:"shops-request-warehouseproducts-section",id:"shops-request-warehouseproducts-section"},c.a.createElement("h3",{className:"shops-request-warehouseproducts-section__h3"},"Peticiones"),c.a.createElement("p",{className:"shops-request-warehouseproducts-section__p"},"En este apartado se encuentran la peticiones realizadas por las tiendas que necesitan stock."),0==h.length&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"no-data-image-warehouseproducts-container"},c.a.createElement("img",{src:ee.a,alt:"no-data",className:"no-data-image-warehouseproducts-container__img"})),c.a.createElement("p",{className:"no-data-image-warehouseproducts-paragraph"},"A\xfan no hay peticiones")),0!==h.length&&c.a.createElement("div",{className:"shopsRequestContainer"},h.map(function(e,a){return c.a.createElement("div",{className:"shopRequestCard"},c.a.createElement("h4",{className:"shopRequestCard__h4"},"Informaci\xf3n de la petici\xf3n"),c.a.createElement("div",{className:"shopRequestCard__order"},"# de orden: ",e.numero_de_orden),c.a.createElement("div",{className:"shopRequestCard__reference"},"Referencia: ",e.referencia),c.a.createElement("div",{className:"shopRequestCard__amount"},"Cantidad: ",e.cantidad),c.a.createElement("div",{className:"shopRequestCard__shop"},"Tienda: ",e.nombre_tienda),c.a.createElement("div",{className:"shopRequestCard_date"},"Fecha: ",e.timestamp.replace("T"," ").slice(0,16)),c.a.createElement("div",{className:"shopRequestCard__address"},"Direcci\xf3n: ",e.direccion?e.direccion:"0"),c.a.createElement("button",{className:"btn shopRequestCard__deploy",key:a,"data-index":a,onClick:function(){return function(e){m.a.post(G,{reference:h[e].referencia,amount:h[e].cantidad}).then(function(a){a.data[a.data.length-1].faltante?(d(a.data),M(2),A(e),j(!0)):"NO EXISTE"===a.data?(M(3),A(e),j(!0)):(d(a.data),M(1),A(e),j(!0))})}(a)}},"Desplegar requerimientos"))})))),c.a.createElement(Te,{isOpen:S,closeModal:function(){j(!1)},infoReq:l,checkReqNumber:I,handlerRefuse:function(e){var a=e;m.a.post(X,Object(N.a)({},h[a],{idDecision:0})).then(function(e){if("SUCCESSFUL_SAVING"===e.data){var t=h.filter(function(e){return e.numero_de_orden!==h[a].numero_de_orden});b(t)}})},handlerAccept:function(e){var a=e;m.a.post(X,Object(N.a)({},h[a],{neededStock:l,idDecision:1})).then(function(e){});var t=h.filter(function(e){return e.numero_de_orden!=h[a].numero_de_orden});b(t)},handlerPartialDelivery:function(e){m.a.post(V,Object(N.a)({},h[e],{neededStock:l,idDecision:1})).then(function(e){})},index:q}))},Fe=t(16),Ue=t.n(Fe),xe=t(33),Le=(t(218),t(219),function(e){var a=Object(n.useState)(""),t=Object(r.a)(a,2),o=t[0],s=t[1],i=0,l=!0,m=!1,u=function(e){s(e),i=0,l=!0,m=!1},d=function(a){e.receivedFunction(a)};return 1===e.checkNumber?c.a.createElement("div",{className:"container_table-shops"},c.a.createElement("div",{className:"table_title-shops"},"Informaci\xf3n"),c.a.createElement("div",{className:"search-shops-container"},c.a.createElement("i",{className:"gg-search"}),c.a.createElement("input",{type:"search",placeholder:"Buscar por referencia...",className:"search-filter-shops",onChange:function(e){return u(e.target.value)}})),c.a.createElement("div",{className:"sample-image-shops-container"},c.a.createElement("div",{className:"table_header-shops-sample"},"Producto"),c.a.createElement("div",{className:"table_header-shops-img"},"Imagen")),c.a.createElement("div",{className:"scroll-modal-shops"},e.arrayInformation.filter(function(a){return i+=1,""===o?a:a.referencia.toString().slice(0,o.length).includes(o)?(l=!1,a):void(i==e.arrayInformation.length&&1==l&&(m=!0))}).map(function(e,a){return c.a.createElement("div",{className:"items_container-shops",key:a},c.a.createElement("div",{className:"items-information-shops-container"},c.a.createElement("div",{className:"items-information-shops__lot"},"Numero de lote: ",e.numero_lote),c.a.createElement("div",{className:"items-information-shops__ref"},"Referencia: ",e.referencia),c.a.createElement("div",{className:"items-information-shops__order"},"Numero de orden: ",e.numero_de_orden),c.a.createElement("div",{className:"items-information-shops__shop"},"Tienda destino: ",e.nombre_tienda),c.a.createElement("div",{className:"items-information-shops__amount"},"Cantidad: ",e.cantidad),c.a.createElement("div",{className:"items-information-shops__timestamp"},"Fecha: ",e.timestamp.replace("T"," ").slice(0,16)),c.a.createElement("div",{className:"items-information-shops-button-container"},c.a.createElement("button",{className:"btn items-information-shops__button",onClick:function(){return d(a)}},"Confirmar Recibido"))),c.a.createElement("div",{className:"table_item-shops"},c.a.createElement("img",{className:"table_img-shops",src:e.nombre_imagen})))}),m&&c.a.createElement("img",{className:"notfoundImg-shops",src:re.a,alt:"Not Found"}))):c.a.createElement("div",{className:"container_table-shops"},c.a.createElement("div",{className:"table_title-shops"},"Informaci\xf3n"),c.a.createElement("div",{className:"search-shops-container"},c.a.createElement("i",{className:"gg-search"}),c.a.createElement("input",{type:"search",placeholder:"Buscar por referencia...",className:"search-filter-shops",onChange:function(e){return u(e.target.value)}})),c.a.createElement("div",{className:"sample-image-shops-container"},c.a.createElement("div",{className:"table_header-shops-sample"},"Producto"),c.a.createElement("div",{className:"table_header-shops-img"},"Imagen")),c.a.createElement("div",{className:"scroll-modal-shops"},e.arrayInformation.filter(function(a){return i+=1,""===o?a:a.referencia.toString().slice(0,o.length).includes(o)?(l=!1,a):void(i==e.arrayInformation.length&&1==l&&(m=!0))}).map(function(e,a){return c.a.createElement("div",{className:"items_container-shops",key:a},c.a.createElement("div",{className:"items-information-shops-container"},c.a.createElement("div",{className:"items-information-shops__lot"},"Numero de lote: ",e.numero_lote),c.a.createElement("div",{className:"items-information-shops__ref"},"Referencia: ",e.referencia),c.a.createElement("div",{className:"items-information-shops__order"},"Numero de orden: ",e.numero_de_orden),c.a.createElement("div",{className:"items-information-shops__shop"},"Tienda: ",e.nombre_tienda),c.a.createElement("div",{className:"items-information-shops__amount"},"Cantidad: ",e.cantidad),c.a.createElement("div",{className:"items-information-shops__timestamp"},"Fecha: ",e.timestamp.replace("T"," ").slice(0,16))),c.a.createElement("div",{className:"table_item-shops"},c.a.createElement("img",{className:"table_img-shops",src:e.nombre_imagen})))}),m&&c.a.createElement("img",{className:"notfoundImg-shops",src:re.a,alt:"Not Found"})))}),Be=(t(220),document.getElementById("ModalShopsReq")),We=function(e){var a=u+"api/modalrequiredstock",t=e.requiredStock,o=Object(n.useState)([]),i=Object(r.a)(o,2),l=i[0],d=i[1],p=function(){e.closeModal()},E=function(a){e.handleDecision(a),e.closeModal()};return Object(n.useEffect)(function(){3!==e.checkReqNumber&&m.a.post(a,t).then(function(e){d(e.data)})},[]),e.isOpen?1===e.checkReqNumber?s.a.createPortal(c.a.createElement("div",{className:"ModalShopsComponent"},c.a.createElement("div",{className:"ModalShopsComponent__container"},c.a.createElement("button",{onClick:p,className:"ModalShopsComponent__close-button"},"X"),c.a.createElement("h2",{className:"ModalShopsComponent__h2"},"Lotes necesarios para cumplir con el pedido"),c.a.createElement("p",null,"First in, first out (FIFO)"),l.map(function(e){return c.a.createElement("div",{className:"ModalShopsCard"},c.a.createElement("h4",{className:"ModalShopsCard__h4"},"Informaci\xf3n del producto"),c.a.createElement("div",{className:"ModalShopsCard__lot"},"Numero lote: ",e.numero_lote),c.a.createElement("div",{className:"ModalShopsCard__reference"},"Referencia: ",e.referencia),c.a.createElement("div",{className:"ModalShopsCard__amount"},"Cantidad: ",e.cantidadTotal))}),c.a.createElement("div",{className:"buttonsModalShopsContainer"},c.a.createElement("button",{className:"btn buttonsModalShopsContainer__approve",onClick:function(){return E(1)}},"Aceptar"),c.a.createElement("button",{className:"btn buttonsModalShopsContainer__reject",onClick:function(){return E(0)}},"Rechazar")))),Be):2===e.checkReqNumber?s.a.createPortal(c.a.createElement("div",{className:"ModalShopsComponent"},c.a.createElement("div",{className:"ModalShopsComponent__container"},c.a.createElement("button",{onClick:p,className:"ModalShopsComponent__close-button"},"X"),c.a.createElement("h2",{className:"ModalShopsComponent__h2"},"ATENCI\xd3N: No hay el stock exacto"),c.a.createElement("p",null,"Para cumplir con este pedido faltar\xedan ",e.stockMissingAmount," ","productos. Si as\xed lo deseas pueden pedir la cantidad disponible:"," ",e.stockAvailableAmount," productos."),l.map(function(e){return c.a.createElement("div",{className:"ModalShopsCard"},c.a.createElement("h4",{className:"ModalShopsCard__h4"},"Informaci\xf3n del producto"),c.a.createElement("div",{className:"ModalShopsCard__lot"},"Numero lote: ",e.numero_lote),c.a.createElement("div",{className:"ModalShopsCard__reference"},"Referencia: ",e.referencia),c.a.createElement("div",{className:"ModalShopsCard__amount"},"Cantidad: ",e.cantidadTotal))}),c.a.createElement("div",{className:"buttonsModalShopsContainer"},c.a.createElement("button",{className:"btn buttonsModalShopsContainer__approve",onClick:function(){return E(2)}},"Aceptar"),c.a.createElement("button",{className:"btn buttonsModalShopsContainer__reject",onClick:function(){return E(0)}},"Rechazar")))),Be):s.a.createPortal(c.a.createElement("div",{className:"ModalShopsComponent"},c.a.createElement("div",{className:"ModalShopsComponent__container"},c.a.createElement("button",{onClick:p,className:"ModalShopsComponent__close-button"},"X"),c.a.createElement("h2",{className:"ModalShopsComponent__h2"},"No hay existencias de esta referencia en esta tienda"),c.a.createElement("div",{className:"imgErrorShopsContainer"},c.a.createElement("img",{src:v.a,alt:"error image",className:"imgErrorShopsContainer__img"})),c.a.createElement("div",{className:"buttonsRejectShopsModalContainer"},c.a.createElement("button",{className:"btn buttonsRejectShopsModalContainer__reject",onClick:function(){return E(0)}},"Rechazar Petici\xf3n")))),Be):null},Ge=function(e,a){return"SUCCESSFUL_REQUEST"===a.type?Object(N.a)({},e,{modalContent:"Petici\xf3n realizada",imgCheckNumber:1,isModalOpen:!0}):"WRONG_INPUT"===a.type?Object(N.a)({},e,{modalContent:"Error: Digite los campos bien",isModalOpen:!0,imgCheckNumber:2}):"CLOSE_MODAL"===a.type?Object(N.a)({},e,{isModalOpen:!1,imgCheckNumber:0,modalContent:""}):Object(N.a)({},e,{isModalOpen:!1,modalContent:"",imgCheckNumber:0})},ze={isModalOpen:!1,modalContent:"",imgCheckNumber:0},Xe=function(){var e=Object(n.useState)([]),a=Object(r.a)(e,2),t=a[0],o=a[1],s=Object(n.useState)([]),i=Object(r.a)(s,2),l=i[0],d=i[1],p=Object(n.useState)([]),E=Object(r.a)(p,2),h=E[0],b=E[1],g=Object(n.useState)([]),_=Object(r.a)(g,2),O=_[0],C=_[1],S=Object(n.useState)(null),j=Object(r.a)(S,2),y=j[0],k=j[1],I=Object(n.useState)(null),M=Object(r.a)(I,2),R=M[0],w=M[1],q=Object(n.useState)(""),A=Object(r.a)(q,2),D=A[0],T=A[1],P=Object(n.useState)(""),F=Object(r.a)(P,2),U=(F[0],F[1],Object(n.useState)("")),x=Object(r.a)(U,2),L=(x[0],x[1],Object(n.useState)([])),B=Object(r.a)(L,2),W=(B[0],B[1],Object(n.useState)("")),G=Object(r.a)(W,2),z=(G[0],G[1],Object(n.useState)([])),X=Object(r.a)(z,2),V=X[0],H=X[1],Q=Object(n.useState)([]),Y=Object(r.a)(Q,2),J=Y[0],Z=Y[1],$=Object(n.useState)([]),ae=Object(r.a)($,2),te=ae[0],ce=ae[1],oe=Object(n.useState)([]),se=Object(r.a)(oe,2),re=se[0],ie=se[1],le=Object(n.useState)(!1),me=Object(r.a)(le,2),ue=me[0],de=me[1],pe=Object(n.useState)(0),Ee=Object(r.a)(pe,2),he=Ee[0],be=Ee[1],fe=Object(n.useState)(0),ge=Object(r.a)(fe,2),ve=ge[0],Ne=ge[1],_e=Object(n.useState)(!1),Oe=Object(r.a)(_e,2),Ce=Oe[0],Se=Oe[1],je=Object(n.useState)(0),ye=Object(r.a)(je,2),ke=ye[0],Ie=ye[1],Me=Object(n.useState)(0),Re=Object(r.a)(Me,2),we=Re[0],qe=Re[1],Ae=Object(n.useState)([]),De=Object(r.a)(Ae,2),Te=De[0],Pe=De[1],Fe=Object(n.useReducer)(Ge,ze),Be=Object(r.a)(Fe,2),Xe=Be[0],Ve=Be[1],He=Object(n.useRef)(null),Qe=Object(n.useRef)(null),Ye=Object(n.useState)(!1),Je=Object(r.a)(Ye,2),Ze=Je[0],Ke=Je[1],$e=Object(n.useState)(null),ea=Object(r.a)($e,2),aa=ea[0],ta=ea[1],na=Object(n.useState)(""),ca=Object(r.a)(na,2),oa=ca[0],sa=ca[1],ra=Object(n.useState)(null),ia=Object(r.a)(ra,2),la=ia[0],ma=ia[1],ua=Object(n.useState)(null),da=Object(r.a)(ua,2),pa=da[0],Ea=da[1],ha=Object(n.useState)(1),ba=Object(r.a)(ha,2),fa=ba[0],ga=ba[1],va=u+"api/references",Na=u+"api/shopsinformation",_a=u+"api/shopwarehouseproductsrequest",Oa=u+"api/deliverystate",Ca=u+"api/getactualinventory",Sa=u+"api/getactualrequestbetweenshops",ja=u+"api/updatereceivedstate",ya=u+"api/requestsbetweenshops",ka=u+"api/decisionbetweenshops",Ia=u+"api/save_newshop_request";Object(n.useEffect)(function(){m.a.get(va).then(function(e){o(e.data)}),m.a.get(Na).then(function(e){d(e.data),b(e.data),C(e.data)}),m.a.get(Ca).then(function(e){Z(e.data)}),m.a.get(Oa).then(function(e){H(e.data)}),m.a.get(Sa).then(function(e){ie(e.data)})},[Ze]);var Ma=function(){var e=Object(xe.a)(Ue.a.mark(function e(a,t){var n;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(u+"api/check_existing_value",{check_case:a,payload:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(a,t){return e.apply(this,arguments)}}(),Ra=function(e,a){var t="";return"object"===typeof e&&null!==e?t=e[a].toString():"string"===typeof e&&null!==e?t=e:t},wa=function(){var e=Object(xe.a)(Ue.a.mark(function e(){var a,t,n,c,o,s,r;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ra(y,"referencia"),t=Ra(R,"idTienda"),n=!1,c=!1,o=parseFloat(D),e.next=7,Ma(0,a);case 7:return n=e.sent,e.next=10,Ma(1,t);case 10:c=e.sent,s=""!==t,r=""!==a,Number.isInteger(o)&&o>0&&s&&r&&c&&n?m.a.post(_a,{actualAmount:D,referenceSelection:a,idShop:t}).then(function(e){Ve({type:"SUCCESSFUL_REQUEST"}),k(null),w(null),Qe.current.value=""}):Ve({type:"WRONG_INPUT"});case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),qa=function(){Se(!1),Ve({type:"CLOSE_MODAL"})},Aa=function(){var e=Object(xe.a)(Ue.a.mark(function e(a,t){var n;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(a,t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error("There is an error",e.t0),e.abrupt("return");case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(a,t){return e.apply(this,arguments)}}(),Da=function(){var e=Object(xe.a)(Ue.a.mark(function e(){var a,t,n,c,o,s,r,i,l,m,u;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ra(aa,"referencia"),t=Ra(la,"idTienda"),n=Ra(pa,"idTienda"),c=!1,o=!1,s=!1,r=parseFloat(oa),e.next=9,Ma(0,a);case 9:return c=e.sent,e.next=12,Ma(1,t);case 12:return o=e.sent,e.next=15,Ma(1,n);case 15:if(s=e.sent,i=""!==a&&c,l=""!==t&&o,m=""!==n&&s,!(Number.isInteger(r)&&r>0&&i&&l&&m)){e.next=33;break}return u={cantidad:oa,referencia:a,tienda_origen:t,tienda_destino:n},e.next=23,Aa(Ia,u);case 23:e.sent,ta(null),He.current.value="",ma(null),Ea(null),de(!1),Ke(!Ze),Ve({type:"SUCCESSFUL_REQUEST"}),e.next=34;break;case 33:Ve({type:"WRONG_INPUT"});case 34:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Ta=function(){var e=Object(xe.a)(Ue.a.mark(function e(a){var t,n,c,o;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=re[a],e.next=3,Aa(ya,Object(N.a)({},re[a]));case 3:n=e.sent,Pe([t.cantidad,t.tienda_destino,t.numero_peticion]),Ne(a),void 0!==n[0]?(c=n.length,o=parseInt(t.cantidad),c<o?(be(2),Ie(o-c),qe(c),ce(n),Se(!0)):(be(1),ce(n),Se(!0))):(be(3),Se(!0));case 7:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),Pa=function(){var e=Object(xe.a)(Ue.a.mark(function e(a){return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==a){e.next=7;break}return e.next=3,Aa(ka,{numeros_de_entrada:te,data:{tienda_destino:Te[1],numero_peticion:Te[2],id_decision:a}});case 3:e.sent,Ke(!Ze),e.next=19;break;case 7:if(0!==a){e.next=14;break}return e.next=10,Aa(ka,{data:{numero_peticion:Te[2],id_decision:a}});case 10:e.sent,Ke(!Ze),e.next=19;break;case 14:if(2!==a){e.next=19;break}return e.next=17,Aa(ka,{numeros_de_entrada:te,data:{tienda_destino:Te[1],numero_peticion:Te[2],id_decision:a,envio_real:we}});case 17:e.sent,Ke(!Ze);case 19:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),Fa=function(e){e.preventDefault();var a=e.target.getAttribute("href"),t=document.querySelector(a).offsetTop;document.getElementById("scroll-shops").scrollTo(0,t-55)},Ua=function(e){ga(e)};return c.a.createElement("div",{className:"general-container-shops"},c.a.createElement("div",{className:"navbar-shops"},c.a.createElement("h2",{className:"navbar-shops__h2"},"Tiendas"),c.a.createElement("div",{className:"navbar-shops-otpions"},c.a.createElement("div",{className:1===fa?"tabs-shops active-tabs-shops":"tabs-shops",onClick:function(){return Ua(1)}},c.a.createElement("a",{href:"#shops-request-wp",onClick:Fa},"Peticion a bodega productos")),c.a.createElement("div",{className:2===fa?"tabs-shops active-tabs-shops":"tabs-shops",onClick:function(){return Ua(2)}},c.a.createElement("a",{href:"#products-process-shops-section",onClick:Fa},"Inventario tiendas")),c.a.createElement("div",{className:3===fa?"tabs-shops active-tabs-shops":"tabs-shops",onClick:function(){return Ua(3)}},c.a.createElement("a",{href:"#products-send-shops-section",onClick:Fa},"Productos enviados")),c.a.createElement("div",{className:4===fa?"tabs-shops active-tabs-shops":"tabs-shops",onClick:function(){return Ua(4)}},c.a.createElement("a",{href:"#reqs-between-shops-section",onClick:Fa},"Petici\xf3n entre tiendas")),c.a.createElement("div",{className:5===fa?"tabs-shops active-tabs-shops":"tabs-shops",onClick:function(){return Ua(5)}},c.a.createElement("a",{href:"#active-req-between-shops-section",onClick:Fa},"Peticiones activas entre tiendas")))),c.a.createElement("div",{className:"scroll-shops-section",id:"scroll-shops"},c.a.createElement("div",{className:"shops-request-wp",id:"shops-request-wp"},c.a.createElement("div",{className:"makeReqShopsContainer"},c.a.createElement("h4",null,"Enviar peticiones a Bodega Producto"),c.a.createElement("div",{className:"makeReqShopsContainer__dropdownReference"},c.a.createElement(ne,{options:t,id:"referencia",label:"referencia",prompt:"Seleccionar referencia",value:y,onChange:function(e){return k(e)}})),c.a.createElement("input",{ref:Qe,id:"makeReqShopsContainer__actualAmount",name:"actualAmount",className:"makeReqShopsContainer__actualAmount",placeholder:"Digite la cantidad",type:"number",autoComplete:"off",onChange:function(e){T(e.target.value)}}),c.a.createElement("div",{className:"makeReqShopsContainer__dropdownShop"},c.a.createElement(ne,{options:l,id:"idTienda",label:"nombre_tienda",prompt:"Seleccionar tienda",value:R,onChange:function(e){return w(e)}})),c.a.createElement("button",{className:"btn makeReqButtonContainer",type:"button",onClick:wa},"Enviar")),c.a.createElement("div",{className:"information-shop-request-wp-container"},c.a.createElement("h2",{className:"information-shop-request-wp-container__h2"},"Enviar petici\xf3n a Bodega Productos"),c.a.createElement("p",{className:"information-shop-request-wp-container__p"},"\xbfNecesitas stock en alguna tienda? Entonces env\xeda una petici\xf3n a Bodega Productos para enviar productos a una tienda en concreto. Solo escoge la referencia del producto que necesitas, digita cuantos deseas, selecciona la tienda de destino y preciona el bot\xf3n de enviar. As\xed de sencillo :)"))),c.a.createElement("div",{className:"products-process-shops-section",id:"products-process-shops-section"},c.a.createElement("h3",{className:"products-process-shops-section__h3"},"Inventario tiendas"),c.a.createElement("p",{className:"products-process-shops-section__p"},"En este apartado se encuentra el inventario de todas las tiendas."),c.a.createElement(Le,{arrayInformation:J,checkNumber:0})),c.a.createElement("div",{className:"products-send-shops-section",id:"products-send-shops-section"},c.a.createElement("h3",{className:"products-send-shops-section__h3"},"Productos en envio"),c.a.createElement("p",{className:"products-send-shops-section__p"},"Aqu\xed se encuentran los productos que est\xe1n en camino hacia una o varias tiendas. Por favor, informe que ya ha llegado el pedido presionando el bot\xf3n 'Confirmar recibido'."),c.a.createElement(Le,{arrayInformation:V,checkNumber:1,receivedFunction:function(e){m.a.post(ja,V[e]).then(function(e){H(e.data[0]),Z(e.data[1])}),Ke(!Ze)}})),c.a.createElement("div",{className:"reqs-between-shops-section",id:"reqs-between-shops-section"},c.a.createElement("div",{className:"reqs-between-shops"},c.a.createElement("h4",null,"Enviar petici\xf3n entre tiendas"),c.a.createElement("div",{className:"reqs-between-shops__dropdownReference"},c.a.createElement(ne,{options:t,id:"referencia",label:"referencia",prompt:"Seleccionar referencia",value:aa,onChange:function(e){return ta(e)}})),c.a.createElement("input",{ref:He,id:"reqs-between-shops__actualAmount",name:"actualAmount",className:"reqs-between-shops__actualAmount",placeholder:"Digite la cantidad",type:"number",autoComplete:"off",onChange:function(e){sa(e.target.value)}}),c.a.createElement("div",{className:"reqs-between-shops__dropdownShop"},c.a.createElement(ne,{options:h,id:"idTienda",label:"nombre_tienda",prompt:"Seleccionar la tienda origen",value:la,onChange:function(e){ma(e),function(e){var a=JSON.stringify(e.nombre_tienda).replace(/['"]+/g,"");m.a.get(Na).then(function(e){var t=e.data.filter(function(e){return e.nombre_tienda!==a});C(t),Ea(null),de(!0)})}(e)}})),c.a.createElement("div",{className:"reqs-between-shops__dropdownShop"},ue?c.a.createElement(ne,{options:O,id:"idTienda",label:"nombre_tienda",prompt:"Seleccionar la tienda de destino",value:pa,onChange:function(e){return Ea(e)}}):null),c.a.createElement("div",{className:"reqs-between-shops-buttonContainer"},c.a.createElement("button",{className:"btn",type:"button",onClick:Da},"Enviar"))),c.a.createElement("div",{className:"information-between-shops-container"},c.a.createElement("h2",{className:"information-between-shops-container__h2"},"Enviar petici\xf3n entre tiendas"),c.a.createElement("p",{className:"information-between-shops-container__p"},"\xbfNecesitas urgente un producto que solicita un cliente y est\xe1 en otra tienda? Entonces env\xeda una petici\xf3n entre tiendas. Solo escoge la referencia del producto que necesitas, digita la cantidad que requieres, escoge la tienda donde se encuentra el producto, luego escoge la tienda de destino y presiona el bot\xf3n enviar. As\xed de f\xe1cil :)"))),c.a.createElement("div",{className:"active-req-between-shops-section",id:"active-req-between-shops-section"},c.a.createElement("h3",{className:"active-req-between-shops-section__h3"},"Peticiones activas entre tiendas"),c.a.createElement("p",{className:"active-req-between-shops-section__p"},"En este apartado se encuentran la peticiones de las tiendas que han solicitado productos de otras tiendas."),0==re.length&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"no-data-image-shops-container"},c.a.createElement("img",{src:ee.a,alt:"no-data",className:"no-data-image-shops-container__img"})),c.a.createElement("p",{className:"no-data-image-shops-paragraph"},"A\xfan no hay peticiones")),0!==re.length&&c.a.createElement("div",{className:"activeRequestBetweenShopsContainer"},re.map(function(e,a){return c.a.createElement("div",{className:"activeRequestBetweenShopsCard"},c.a.createElement("h4",{className:"activeRequestBetweenShopsCard__h4"},"Informaci\xf3n de la petici\xf3n"),c.a.createElement("div",{className:"activeRequestBetweenShopsCard__order"},"# de petici\xf3n: ",e.numero_peticion),c.a.createElement("div",{className:"activeRequestBetweenShopsCard__reference"},"Referencia: ",e.referencia),c.a.createElement("div",{className:"activeRequestBetweenShopsCard__amount"},"Cantidad: ",e.cantidad),c.a.createElement("div",{className:"activeRequestBetweenShopsCard__shop"},"Tienda Origen: ",e.tienda_origen_nombre),c.a.createElement("div",{className:"activeRequestBetweenShopsCard__shop"},"Tienda Destino: ",e.tienda_destino_nombre),c.a.createElement("div",{className:"activeRequestBetweenShopsCard__date"},"Fecha: ",e.timestamp.replace("T"," ").slice(0,16)),c.a.createElement("button",{className:"btn activeRequestBetweenShopsCard__deploy",key:a,"data-index":a,onClick:function(){return Ta(a)}},"Desplegar requerimientos"))})))),c.a.createElement(f,{isOpen:Xe.isModalOpen,closeModal:qa},c.a.createElement("h1",{className:"modalWarehouseh1"},Xe.modalContent),1===Xe.imgCheckNumber&&c.a.createElement("img",{className:"modalWarehouseImg",src:K.a,alt:"modalImg"}),2===Xe.imgCheckNumber&&c.a.createElement("img",{className:"modalWarehouseImg",src:v.a,alt:"modalImg"})),Ce&&c.a.createElement(We,{isOpen:!0,closeModal:qa,checkReqNumber:he,indexReq:ve,handleDecision:Pa,stockMissingAmount:ke,stockAvailableAmount:we,requiredStock:te}))},Ve=t(23);var He=function(e){var a=e.isAuth,t=e.component,n=(e.enable,Object(Ve.a)(e,["isAuth","component","enable"]));return c.a.createElement("div",null,c.a.createElement(S.b,Object.assign({},n,{render:function(e){return a?c.a.createElement(S.a,{to:{pathname:"/",state:{from:e.location}}}):c.a.createElement(t,null)}})))},Qe=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Error"))};var Ye=function(e){var a=e.isAuth,t=e.component,n=Object(Ve.a)(e,["isAuth","component"]);return c.a.createElement("div",null,c.a.createElement(S.b,Object.assign({},n,{render:function(e){return a?c.a.createElement(t,null):c.a.createElement(S.a,{to:{pathname:"/login",state:{from:e.location}}})}})))},Je=function(e){var a=e.rol,t=e.isAuth;return e.enableRoutes?c.a.createElement("div",null,c.a.createElement(S.d,null,1===a.idRol&&c.a.createElement(Ye,{exact:!0,path:"/register",component:qe,isAuth:t}),c.a.createElement(Ye,{exact:!0,path:"/",component:H,isAuth:t}),c.a.createElement(S.b,{exact:!0,path:"/dressmaking",component:oe}),c.a.createElement(Ye,{path:"/warehouse",component:he,isAuth:t}),c.a.createElement(Ye,{exact:!0,path:"/dise\xf1o",component:ke,isAuth:t}),c.a.createElement(Ye,{exact:!0,path:"/logout",component:Ae,isAuth:t}),c.a.createElement(Ye,{exact:!0,path:"/warehouseproducts",component:Pe,isAuth:t}),c.a.createElement(Ye,{exact:!0,path:"/shops",component:Xe,isAuth:t}),c.a.createElement(S.b,{path:"*",component:Qe}))):c.a.createElement(c.a.Fragment,null)};m.a.defaults.withCredentials=!0;var Ze=function(){var e=Object(n.useState)(!1),a=Object(r.a)(e,2),t=a[0],o=a[1],s=Object(n.useState)(!1),l=Object(r.a)(s,2),p=l[0],E=l[1],h=Object(n.useState)(!1),b=Object(r.a)(h,2),f=b[0],g=b[1],v=u+"api/isAuth",N=Object(n.useContext)(d),_={idRol:0};N&&(_={idRol:N.idRol}),Object(n.useEffect)(function(){m.a.get(v).then(function(e){e.data?(o(!0),E(!0)):(o(!1),E(!1))}).catch(function(e){console.log(e)})},[t]),Object(n.useEffect)(function(){},[f]);return p?c.a.createElement(i.a,null,c.a.createElement("div",{className:"maxDiv-Control-App"},c.a.createElement(M,{switchActive:function(){g(!0)}}),c.a.createElement("div",{className:"maxDiv-Control-App__Routes"},c.a.createElement(Je,{rol:_,isAuth:t,enableRoutes:f})))):c.a.createElement(i.a,null,c.a.createElement("switch",null,c.a.createElement(He,{path:"/login",component:C,isAuth:t,enable:p}),c.a.createElement(Ye,{exact:!0,path:"/",component:H,isAuth:t}),c.a.createElement(Ye,{exact:!0,path:"/dressmaking",component:oe}),c.a.createElement(Ye,{path:"/warehouse",component:he,isAuth:t}),c.a.createElement(Ye,{exact:!0,path:"/dise\xf1o",component:ke,isAuth:t}),c.a.createElement(Ye,{exact:!0,path:"/logout",component:Ae,isAuth:t}),c.a.createElement(Ye,{exact:!0,path:"/warehouseproducts",component:Pe,isAuth:t}),c.a.createElement(Ye,{exact:!0,path:"/shops",component:Xe,isAuth:t}),c.a.createElement(Ye,{exact:!0,path:"/register",component:qe,isAuth:t})))};s.a.render(c.a.createElement(p,null,c.a.createElement(Ze,null)),document.getElementById("root"))},29:function(e,a,t){e.exports=t.p+"static/media/Not Found.78ed35cb.svg"},67:function(e,a,t){e.exports=t.p+"static/media/Loading.0d06e13b.svg"},92:function(e,a,t){e.exports=t.p+"static/media/Securelogin.647d91f1.svg"},94:function(e,a,t){e.exports=t.p+"static/media/shop.723592c7.png"},95:function(e){e.exports=[{value:"01",label:"Enero"},{value:"02",label:"Febrero"},{value:"03",label:"Marzo"},{value:"04",label:"Abril"},{value:"05",label:"Mayo"},{value:"06",label:"Junio"},{value:"07",label:"Julio"},{value:"08",label:"Agosto"},{value:"09",label:"Septiembre"},{value:"10",label:"Octubre"},{value:"11",label:"Noviembre"},{value:"12",label:"Diciembre"}]},96:function(e,a,t){e.exports=t.p+"static/media/notify.0ada35db.svg"},98:function(e,a,t){e.exports=t.p+"static/media/register.68e633cb.svg"}},[[101,1,2]]]);
//# sourceMappingURL=main.53761050.chunk.js.map